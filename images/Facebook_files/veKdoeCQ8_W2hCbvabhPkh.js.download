;/*FB_PKG_DELIM*/

__d("LSSetMessengerRestrict",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}),function(b){var c=b.update;b.item;return c({pendingMessengerRestrictAction:a[1]})})},function(e){return d[0]=new c.Map(),d[0].set("restrictee_id",a[0]),d[0].set("request_id",a[2]),d[0].set("messenger_restrict_action",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"messenger_restrict",[0,367],d[1],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateThreadImage",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.ftr(c.db.table(9).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq(b.threadType,[0,2])}),function(b){var c=b.update;b.item;return c({authorityLevel:[0,60],threadPictureUrl:a[2]===""?f:a[2],threadPictureUrlFallback:a[3],threadPictureUrlExpirationTimestampMs:a[4]})})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],f)?d[4]=d[5]:d[4]=[0,1],d[0]=d[4])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("image_id",a[1]),d[2].set("sync_group",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"thread_image",[0,37],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5354048408027065"}),null);
__d("GroupsCometChatsChannelInviteLinkQuery$Parameters",["GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatsChannelInviteLinkQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatsChannelInviteLink.entrypoint",["GroupsCometChatsChannelInviteLinkQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometChatsChannelInviteLinkQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatsChannelInviteLink.react").__setRef("GroupsCometChatsChannelInviteLink.entrypoint")};g["default"]=a}),98);
__d("MAWInboxInfoButton.bs",["MDSListCell.react","MDSTextPairing.react","MWText.react","bs_caml_option","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("gkx")("571")&&c("gkx")("1968579")?"contained":"normal";a=h.forwardRef(function(a,b){var d=a.addOnStart,e=a.addOnStartStyle,f=a.subLabel,g=a.subLabelElement,j=a.label,k=a.onPress,l=a.testid,m=a.disabled,n=a.linkProps;a=a.addOnEnd;e=e!==void 0?e:i;m=m!==void 0?m:!1;if(d!==void 0){d=c("bs_caml_option").valFromOption(d);e=e==="contained"?h.jsx("div",{className:"x6s0dn4 x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 x1fgtraw xl56j7k x1264ykn",children:d}):d}else e=null;d={headline:h.jsx(c("MWText.react"),{type:"headline4",children:j}),level:4};j=f!==void 0?c("bs_caml_option").some(h.jsx(c("MWText.react"),{type:"meta3",children:f})):g!==void 0?c("bs_caml_option").some(h.jsx(c("MWText.react"),{type:"meta3",children:c("bs_caml_option").valFromOption(g)})):void 0;j!==void 0&&(d.meta=c("bs_caml_option").valFromOption(j));f={addOnStart:e,addOnStartVerticalAlign:"top",content:h.jsx(c("MDSTextPairing.react"),babelHelpers["extends"]({},d)),disabled:m,size:"medium"};a!==void 0&&(f.addOnEnd=c("bs_caml_option").valFromOption(a));l!==void 0&&(f.testid=l);k!==void 0&&(f.onPress=c("bs_caml_option").valFromOption(k));n!==void 0&&(f.linkProps=c("bs_caml_option").valFromOption(n));g=b==null?void 0:c("bs_caml_option").some(b);g!==void 0&&(f.ref=c("bs_caml_option").valFromOption(g));return h.jsx(c("MDSListCell.react"),babelHelpers["extends"]({},f))});g.defaultAddOnStartStyle=i;g.make=a}),98);
__d("MWRestrictDialogActionToggle.react",["nux:89","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("nux:89")==null?void 0:b("nux:89")("web_msgr_restrict_first_time_nux");function a(a){var b=a.children;a=a.dialogProps;if(i!=null&&!a.isRestricted)return h.jsx(i,{dialogProps:a,children:function(a,c){return b(a)}});else return b(a.onPress)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessengerThreadDamagingActionsSourceTypeInt.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.defaultVal=a;f.gxac=c;f.cmsg=d}),null);
__d("MWMessengerResetBlockOrRestrictWC.bs",["Promise","ReQL.bs","UseBlockedUserInterstitial.bs","WebStorage.bs","bs_caml","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var e=d("WebStorage.bs").getLocalStorage();if(e===void 0)return;a=a.then(function(a){a.forEach(function(a){a=d("UseBlockedUserInterstitial.bs").getWarningCardStorageKey(a);return e.removeItem(a)});return b("Promise").resolve()});c("promiseDone")(a)}function a(a){var b=c("useReStore")();return h.useMemo(function(){return function(a){return i(d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return c("bs_caml").i64_eq(b.contactId,a)}),function(a){return a.threadKey})))}},[b])}g.clearStoredWarningCardFlags=i;g.useHook=a}),98);
__d("MWLSMessengerRestrict.bs",["LS.bs","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LSSetMessengerRestrict","LsMessengerThreadDamagingActionsSourceTypeInt.bs","LsThreadType.bs","MWMessengerResetBlockOrRestrictWC.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:3900","promiseDone","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MessengerWellbeingRestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),j=c("requireDeferred")("MessengerWellbeingRestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),k=c("requireDeferred")("MessengerWellbeingUnrestrictFailedFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs"),l=c("requireDeferred")("MessengerWellbeingUnrestrictSucceededFalcoEvent.bs").__setRef("MWLSMessengerRestrict.bs");function m(a,b,e,f,g,h){var i=e!==void 0?d("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType):!1;e=e!==void 0?c("bs_caml").i64_eq(e.threadType,d("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var k=e?17:1;a===d("LSContactMessengerRestrictAction.bs").unrestrict?l.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(h),request_id:g,source:k,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(b)},thread:{id:i?"-1":c("bs_int64").to_string(f)}}})}):j.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(h),request_id:g,source:k,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(b)},thread:{id:i?"-1":c("bs_int64").to_string(f)}}})})}function n(a,b,e,f,g,h){var j=e!==void 0?d("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType):!1;e=e!==void 0?c("bs_caml").i64_eq(e.threadType,d("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var l=e?17:1;a===d("LSContactMessengerRestrictAction.bs").unrestrict?k.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(h),request_id:g,source:l,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(b)},thread:{id:j?"-1":c("bs_int64").to_string(f)}}})}):i.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(h),request_id:g,source:l,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(b)},thread:{id:j?"-1":c("bs_int64").to_string(f)}}})})}function a(a,e,f,g,i){var j=c("useReStore")(),k=b("cr:3900")==null?function(a,b){}:c("bs_curry")._1(b("cr:3900").useHook),l=d("MWMessengerResetBlockOrRestrictWC.bs").useHook();return h.useCallback(function(b){c("promiseDone")(j.runInTransaction(function(e){return c("LSSetMessengerRestrict")(a,b,g,d("LS.bs").make(e))},"readwrite"),function(d){c("bs_curry")._2(k,a,b);c("bs_curry")._1(l,a);return m(b,a,e,f,g,i)},function(c){return n(b,a,e,f,g,i)})},[j,JSON.stringify(a),JSON.stringify(f),g,i])}e=m;f=n;a=a;g.$MessengerWellbeingRestrictFailedFalcoEvent$Deferred=i;g.$MessengerWellbeingRestrictSucceededFalcoEvent$Deferred=j;g.$MessengerWellbeingUnrestrictFailedFalcoEvent$Deferred=k;g.$MessengerWellbeingUnrestrictSucceededFalcoEvent$Deferred=l;g.$MAWMessengerRestrictUtils$requireCondXplat=b("cr:3900");g.logRestrictOrUnrestrictSuccess=e;g.logRestrictOrUnrestrictFailure=f;g.useHook=a}),98);
__d("UseMWRestrictContactOneOnOneThread.bs",["CurrentEnvironment","LSContactMessengerRestrictAction.bs","LSMessagingThreadTypeUtil.bs","LsMessengerThreadDamagingActionsSourceTypeInt.bs","LsThreadType.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWLSMessengerRestrict.bs","MWLSThreadDisplayContext.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","requireDeferred","useCometRouterDispatcher","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerWellbeingRestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs"),i=c("requireDeferred")("MessengerWellbeingUnrestrictTappedFalcoEvent.bs").__setRef("UseMWRestrictContactOneOnOneThread.bs");function j(a,b,e,f,g,j){var k=f!==void 0?d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType):!1;f=f!==void 0?c("bs_caml").i64_eq(f.threadType,d("LsThreadType.bs").secureMessageOverWaOneToOne):!1;var l=f?17:1;a?i.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(j),request_id:b,source:l,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(e)},thread:{id:k?"-1":c("bs_int64").to_string(g)}}})}):h.onReady(function(a){return c("bs_curry")._1(a.log,function(){return{data:{entry_point:c("bs_caml_int64").to_int32(j),request_id:b,source:l,source_owner:0,source_type:d("LsMessengerThreadDamagingActionsSourceTypeInt.bs").defaultVal},other_user:{id:c("bs_int64").to_string(e)},thread:{id:k?"-1":c("bs_int64").to_string(g)}}})})}function a(a,b,e,f,g){var h=c("uuid")(),i=d("MWLSMessengerRestrict.bs").useHook(a,b,e,h,f),k=c("useCometRouterDispatcher")(),l=d("MWLSThreadDisplayContext.bs").useHook(),m=d("MWChatStateV2.bs").useDispatch();return function(n){j(g,h,a,b,e,f);c("bs_curry")._1(i,g?d("LSContactMessengerRestrictAction.bs").unrestrict:d("LSContactMessengerRestrictAction.bs").restrict);!g&&l==="Inbox"&&!(k==null)&&k.go(c("CurrentEnvironment").messengerdotcom?"/":"/messages");if(!g)return c("bs_curry")._1(m,d("MWChatStateActions.bs").closeTabByThreadKey(Date.now(),e))}}b=j;e=a;g.$MessengerWellbeingRestrictTappedFalcoEvent$Deferred=h;g.$MessengerWellbeingUnrestrictTappedFalcoEvent$Deferred=i;g.logRestrictOrUnrestrictTapped=b;g.useHook=e}),98);
__d("MWInboxInfoMessengerRestrict.bs",["fbt","ix","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactMessengerRestrictAction.bs","MAWInboxInfoButton.bs","MWIcon.react","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWMenuItem.react","MWRestrictDialogActionToggle.react","ReQL.bs","ReQLSubscription.bs","TetraButton.react","UseMWRestrictContactOneOnOneThread.bs","bs_belt_Option","bs_curry","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a){var b=a.buttonSource,e=a.buttonTitle,f=a.isPendingState,g=a.onPress;a=j.useCallback(function(a){return c("bs_curry")._1(g)},[g]);switch(b){case"CHAT_TAB_SETTINGS":return j.jsx(c("MWMenuItem.react"),{disabled:f,icon:d("fbicon")._(i("995804"),20),onClick:a,primaryText:e,testid:void 0});case"RESTRICT_COMPOSER":return j.jsx(c("TetraButton.react"),{disabled:f,label:e,onPress:a,type:"secondary"});default:return j.jsx(d("MAWInboxInfoButton.bs").make,{addOnStart:j.jsx(c("MWIcon.react"),{icon:f?d("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessagesPendingState.icon:d("MWInboxInfoPrivacyAndSupportSectionIcons.bs").RestrictMessages.icon}),disabled:f,label:e,onPress:a,testid:void 0})}}b={make:k};function a(a){var b=a.buttonSource,e=a.contactId,f=a.loggingEntryPoint,g=a.thread;a=a.threadKey;var i=c("useReStore")(),l=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("contacts")),{hd:e,tl:0})},[JSON.stringify(e),i])),m=c("bs_belt_Option").mapWithDefault(l,!1,function(a){return c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").restrictPlaced,a),!1)}),n=c("bs_belt_Option").mapWithDefault(d("ReQLSubscription.bs").useFirst(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("contacts")),{hd:e,tl:0})},[JSON.stringify(e),i])),[0,10],function(a){a=a.pendingMessengerRestrictAction;if(a!==void 0)return a;else return[0,10]}),o=n===d("LSContactMessengerRestrictAction.bs").restrict||n===d("LSContactMessengerRestrictAction.bs").unrestrict,p=b==="RESTRICT_COMPOSER"?h._("__JHASH__YZSK15am9Ug__JHASH__"):m?h._("__JHASH__NHBatIuQaK9__JHASH__"):h._("__JHASH__ttAO1drM5D3__JHASH__");n=n===d("LSContactMessengerRestrictAction.bs").unrestrict?h._("__JHASH___WXinC0t7Ah__JHASH__"):h._("__JHASH__9a46dloGnuc__JHASH__");g=d("UseMWRestrictContactOneOnOneThread.bs").useHook(e,g,a,f,m);var q=o?n:p;if(l!==void 0)return j.jsx(c("MWRestrictDialogActionToggle.react"),{dialogProps:{isRestricted:m,onPress:g,restrictedUser:l},children:function(a){return j.jsx(k,{buttonSource:b,buttonTitle:q,isPendingState:o,onPress:a})}});else return null}e=a;f=b;a=e;g.RestrictButton=f;g.make=a}),98);
__d("MessengerRestrictButtonSource.bs",[],(function(a,b,c,d,e,f){"use strict";a="THREAD_DETAIL_SETTINGS";b="RESTRICT_COMPOSER";c="CHAT_TAB_SETTINGS";f.thread_detail_settings=a;f.restrict_composer=b;f.chat_tab_settings=c}),66);
__d("MWCMBotStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__K0E4NNoKNtJ__JHASH__");b=h._("__JHASH__sbctGC-UNw4__JHASH__");g.addedToChatLegend=a;g.notAddedToChatLegend=b}),98);
__d("MWCMChannelLinkShareTrigger.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","GroupsCometChatsChannelInviteLink.entrypoint","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometChatsChannelInviteLink.entrypoint"),fallback:function(a){return h.jsx(d("CometCardedDialogLoadingState.re").make,{})},preloadParams:{threadID:c("bs_int64").to_string(a.threadKey)},children:b})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWInboxInfoActionsSectionIcons.bs",["cr:1724557"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSInboxInfoActionsSectionIcons$OR$TetraInboxInfoActionsSectionIcons$requireCond=a=b("cr:1724557");g.EditNicknames=a.EditNicknames;g.ChangeChatName=a.ChangeChatName;g.ChangePhoto=a.ChangePhoto;g.Search=a.Search;g.LeaveChat=a.LeaveChat}),98);
__d("TetraInboxInfoActionsSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("603566"),20);b="primary";c={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:b,disabled:void 0,icon:a,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};e={icon:a,primaryAddOn:c};f=d("fbicon")._(h("477831"),20);b="primary";a={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:b,disabled:void 0,icon:f,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};c={icon:f,primaryAddOn:a};b=d("fbicon")._(h("540023"),20);f="primary";a={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:f,disabled:void 0,icon:b,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};f={icon:b,primaryAddOn:a};b=d("fbicon")._(h("491286"),20);a="primary";a={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:a,disabled:void 0,icon:b,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};b={icon:b,primaryAddOn:a};a=d("fbicon")._(h("538183"),20);d="primary";h={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,color:d,disabled:void 0,icon:a,linkProps:void 0,onHoverIn:void 0,onHoverOut:void 0,onPress:void 0,ref:void 0,size:void 0,testid:void 0,type:"icon"};d={icon:a,primaryAddOn:h};g.EditNicknames=e;g.ChangeChatName=c;g.ChangePhoto=f;g.Search=b;g.LeaveChat=d}),98);
__d("MWV2EditPhotoUploader.bs",["fbt","CometFileSelector.react","DTSG","LS.bs","LSUpdateThreadImage","Promise","bs_belt_Array","bs_belt_Option","bs_caml_option","bs_curry","cometAsyncFetch","cometPushToast","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");h._("__JHASH__K4v4HWgVO3X__JHASH__");function a(a){var e=a.children,f=a.thread,g=c("useReStore")(),h=i.useCallback(function(a,b){var e=g.runInTransaction(function(e){return c("LSUpdateThreadImage")(f.threadKey,a,b!==void 0?c("bs_caml_option").valFromOption(b):void 0,void 0,void 0,d("LS.bs").make(e))},"readwrite");c("promiseDone")(e)},[g,JSON.stringify(f.threadKey)]),j=function(a){d("cometPushToast").cometPushErrorToast({message:"Unable to set group picture"})};a=function(a){a=a.item(0);if(a==null){c("recoverableViolation")("file input onChange without any files?","messenger");return j()}var e=new FormData();e.set("images_only",!0);e.set("fb_dtsg",d("DTSG").getToken());e.set("attachment[]",a,a.name);a=c("cometAsyncFetch")("/ajax/mercury/upload.php",{data:{},formData:e,method:"POST"}).then(function(a){a=c("bs_belt_Option").map(c("bs_belt_Array").get(c("bs_belt_Option").mapWithDefault(a==null?void 0:c("bs_caml_option").some(a),[],function(a){return a.metadata}),0),function(a){return[a.image_id,a.src]});a!==void 0?h(a[0],a[1]):j();return b("Promise").resolve()})["catch"](function(a){j();c("recoverableViolation")(a.toString(),"messenger");return b("Promise").resolve()});c("promiseDone")(a)};return i.jsx(c("CometFileSelector.react"),{accept:[".jpg",".png",".jpeg",".bmp",".tif",".tiff"],onFilesSelected:a,children:c("bs_curry").__1(e)})}a.displayName=a.name+" [from "+f.id+"]";e=a;h=e;g.make=h}),98);
__d("MWColorWheelIcon.bs",["CometSVGIcon.react","MWPColorUtils.bs","MWPThreadTheme.bs","bs_caml_int32","bs_int64","gkx","react","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("gkx")("571")?"24":"20",j=c("gkx")("571")?"8":"10";function a(a){a=d("MWPThreadTheme.bs").useHook();var b=a.threadTheme,e=a.gradientColors.sort(function(a,b){return c("bs_int64").compare(a.gradientIndex,b.gradientIndex)}).map(function(a){return d("MWPColorUtils.bs").int64ToHex(a.color)});e.length===0&&e.push(d("MWPColorUtils.bs").int64ToHex(b.fallbackColor));e.length===1&&e.push(e[0]);a=h.jsx("linearGradient",{gradientTransform:"rotate(90)",children:e.map(function(a,b){var d=c("bs_caml_int32").div(100,e.length-1|0);d=String(Math.imul(b,d))+"%";return h.jsx("stop",{offset:d,stopColor:a},String(b))})});var f=c("useCometUniqueID")(),g=c("useSetAttributeRef")("id",f);f=c("useSetAttributeRef")("mask","url(#"+f+")");b="mw_edit_theme_svg:"+b.accessibilityLabel;return h.jsxs(c("CometSVGIcon.react"),{color:a,"data-testid":void 0,size:i,viewBox:"0 0 20 20",children:[h.jsx("defs",{children:h.jsxs("mask",{ref:g,children:[h.jsx("rect",{fill:"white",height:"100%",width:"100%"}),h.jsx("circle",{cx:"10",cy:"10",fill:"black",r:"3"})]})}),h.jsx("circle",{cx:"10",cy:"10",r:j,ref:f})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MAWEphemeralSettingUtil.bs",["LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","MAWMessageRequestUtil.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(a.threadType)&&d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType))return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,b)}),function(a){return a[1]});else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(a.threadKey),JSON.stringify(b)]));if(f===void 0)return!1;var g=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").viewerIsUnconnected,f),!1),i=c("bs_caml").i64_eq(f.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked);f=d("MAWMessageRequestUtil.bs").isMessageRequestV2(a,f);if(!f&&!g)return i;else return!1}b=a;g.useIsEphemeralSettingEnabled=b}),98);
__d("LsIgnoreTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("707");c=b("FalcoLoggerInternal").create("ls_ignore_tapped",a);e.exports=c}),null);
__d("XCometGroupLandingControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/groupslanding/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSSetUserBlockStatus",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.i64.eq(a[1],[0,1])||c.i64.eq(a[1],[0,0])?c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}),function(b){var d=b.update;b.item;return d({pendingMnUserBlockAction:a[1],pendingMnUserBlockActionTimestampMs:c.i64.of_float(Date.now())})}):c.resolve()},function(b){return c.i64.eq(a[1],[0,3])||c.i64.eq(a[1],[0,2])?c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}),function(b){var d=b.update;b.item;return d({pendingFbUserBlockAction:a[1],pendingFbUserBlockActionTimestampMs:c.i64.of_float(Date.now())})}):c.resolve()},function(e){return d[0]=new c.Map(),d[0].set("blockee_id",a[0]),d[0].set("request_id",a[2]),d[0].set("user_block_action",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"native_sync_block",[0,334],d[1],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LsMessengerIntegrityBlockViewEnterFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743862");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_view_enter",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockFacebookConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743854");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_facebook_confirmed",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockFacebookFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743855");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_facebook_failed",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockFacebookSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743856");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_facebook_succeeded",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockFacebookTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743857");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_facebook_tapped",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockFacebookConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743864");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_facebook_confirmed",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockFacebookFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743865");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_facebook_failed",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockFacebookSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743866");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_facebook_succeeded",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockFacebookTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743867");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_facebook_tapped",a);e.exports=c}),null);
__d("MWChatBlockDialogButton.react",["ix","CometProgressIndicator.react","JSResourceForInteraction","Locale","MDSIcon.react","MDSListCell.react","MDSText.react","MDSTextPairing.react","fbicon","gkx","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k=d("Locale").isRTL(),l=c("JSResourceForInteraction")("MWChatBlockDialogConfirm.react").__setRef("MWChatBlockDialogButton.react");function a(a){var b=a.confirmText,e=a.isSaving,f=a.testid;f=a.disabled===!0||e===!0;var g=j(null),m=c("useCometLazyDialog")(l),n=m[0];a.description.length===1?m=i.jsx("div",{className:"xtaz4m5 xdj266r xktsk01 x12nagc x1mh8g0r"+(f?" x1dntmbh":" xi81zsa"),children:a.description}):m=i.jsx("ul",{className:"xtaz4m5 xdj266r xktsk01 x12nagc x1d52u69"+(f?" x1dntmbh":""),children:a.description.map(function(a,b){return i.jsx("li",{children:i.jsx(c("MDSText.react"),{type:"meta3",children:a})},b)})});return i.jsxs(i.Fragment,{children:[i.jsx(c("MDSListCell.react"),{addOnEnd:i.jsx(c("MDSIcon.react"),{icon:k?d("fbicon")._(h("492518"),20):d("fbicon")._(h("492572"),20)}),addOnEndVerticalAlign:"center",addOnStart:i.jsx("div",{className:"x6s0dn4 x1qhmfi1 x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xl56j7k"+(c("gkx")("571")?" xc9qbxq x14qfxbe":" xnnlda6 x15yg21f"),children:i.jsx(c("MDSIcon.react"),{icon:a.icon})}),addOnStartVerticalAlign:"top",content:i.jsx(c("MDSTextPairing.react"),{body:m,headline:a.title,level:c("gkx")("571")?4:3,reduceEmphasis:!0}),disabled:f,onPress:function(){a.onTapped(),b!==void 0&&n({onConfirm:e?function(){}:a.commit,text:b})},ref:g,size:"large",testid:void 0}),e?i.jsx("div",{className:"x10l6tqk xtzzx4i xwa60dl x11lhmoz",children:i.jsx(c("CometProgressIndicator.react"),{})}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatBlockDialogFBBlockButton.bs",["fbt","ix","LS.bs","LSContactBlockedByViewerStatus.bs","LSContactUserBlockAction.bs","LSSetUserBlockStatus","LsMessengerIntegrityBlockFacebookConfirmedFalcoEvent","LsMessengerIntegrityBlockFacebookFailedFalcoEvent","LsMessengerIntegrityBlockFacebookSucceededFalcoEvent","LsMessengerIntegrityBlockFacebookTappedFalcoEvent","LsMessengerIntegrityUnblockFacebookConfirmedFalcoEvent","LsMessengerIntegrityUnblockFacebookFailedFalcoEvent","LsMessengerIntegrityUnblockFacebookSucceededFalcoEvent","LsMessengerIntegrityUnblockFacebookTappedFalcoEvent","MWChatBlockDialogButton.react","MWMessengerResetBlockOrRestrictWC.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:3932","fbicon","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function k(a,b,d,e){d?c("LsMessengerIntegrityBlockFacebookTappedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockFacebookTappedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function l(a,b,d,e){d?c("LsMessengerIntegrityBlockFacebookConfirmedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockFacebookConfirmedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function m(a,b,d,e){d?c("LsMessengerIntegrityBlockFacebookSucceededFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockFacebookSucceededFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function n(a,b,d,e){d?c("LsMessengerIntegrityBlockFacebookFailedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockFacebookFailedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function a(a){var e=a.contact,f=a.threadIdForLogging,g=a.userBlockData,o=c("useReStore")(),p=b("cr:3932")==null?function(a,b){}:c("bs_curry")._1(b("cr:3932").useHook),q=d("MWMessengerResetBlockOrRestrictWC.bs").useHook();a=e.firstName;a=a!==void 0?a:e.name;var r=d("fbicon")._(i("899558"),24),s=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").messageBlocked),t=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").fullyBlocked),u=e.pendingFbUserBlockAction!==void 0,v=e.fbUnblockedSinceTimestampMs;v=v!==void 0?Date.now()-c("bs_caml_int64").to_float(v)<=1728e5:!1;if(v)return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){},confirmText:void 0,description:[h._("__JHASH__TpxI55Ufdyt__JHASH__",[h._param("name",a)])],disabled:!0,icon:r,isSaving:u,onTapped:function(a){},testId:"mw-block-on-fb-button",title:h._("__JHASH__LJ-y3psiTRv__JHASH__")});if(t){v=h._("__JHASH__WS7bg11ZFd1__JHASH__");t=c("bs_caml_option").some(h._("__JHASH__hQBwwiXtgmn__JHASH__",[h._param("duration",String(48)),h._param("short-name",a)]));var w=[h._("__JHASH__QCrl2McXwjb__JHASH__",[h._param("name",a)])],x=[h._("__JHASH__MJeymqPDbEe__JHASH__",[h._param("short-name",a)]),h._("__JHASH__hgYHcsC4OL___JHASH__",[h._param("short-name",a)]),h._("__JHASH__qW31W8Fvp2Z__JHASH__")],y=h._("__JHASH__-FRwmoYmPTc__JHASH__");v={buttonLabel:v,footer:t,header:w,listItems:x,title:y};return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){l(e.id,g,!1,f),c("promiseDone")(o.runInTransaction(function(a){var b=g.request_id;return c("LSSetUserBlockStatus")(e.id,d("LSContactUserBlockAction.bs").fbUnblock,b!==void 0?b:"",d("LS.bs").make(a))},"readwrite"),function(a){c("bs_curry")._2(p,e.id,d("LSContactUserBlockAction.bs").fbUnblock);return m(e.id,g,!1,f)},function(a){return n(e.id,g,!1,f)})},confirmText:v,description:[h._("__JHASH__AGlL81YjW_a__JHASH__",[h._param("user_name",a)]),s?h._("__JHASH__6bQ3w3lxKe1__JHASH__",[h._param("fb_short_name",a)]):h._("__JHASH__KwFg5cF5aky__JHASH__",[h._param("fb_short_name",a)])],disabled:!1,icon:r,isSaving:u,onTapped:function(a){return k(e.id,g,!1,f)},testId:"mw-block-on-fb-button",title:h._("__JHASH__kL7DWagFtPd__JHASH__")})}t=h._("__JHASH__9CMnm4sWD5u__JHASH__");w=[h._("__JHASH__S1WyOlh1iVe__JHASH__",[h._param("name",a)])];x=h._("__JHASH__OOhO-t3Z3Uc__JHASH__");y={buttonLabel:t,footer:void 0,header:w,listItems:void 0,title:x};return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){l(e.id,g,!0,f),c("promiseDone")(o.runInTransaction(function(a){var b=g.request_id;return c("LSSetUserBlockStatus")(e.id,d("LSContactUserBlockAction.bs").fbBlock,b!==void 0?b:"",d("LS.bs").make(a))},"readwrite"),function(a){c("bs_curry")._1(q,e.id);c("bs_curry")._2(p,e.id,d("LSContactUserBlockAction.bs").fbBlock);return m(e.id,g,!0,f)},function(a){return n(e.id,g,!0,f)})},confirmText:y,description:[h._("__JHASH__LMBd1z2V9jl__JHASH__",[h._param("fb_short_name",a)]),h._("__JHASH__4b-jStK2wQT__JHASH__",[h._param("fb_short_name",a)])],disabled:!1,icon:r,isSaving:u,onTapped:function(a){return k(e.id,g,!0,f)},testId:"mw-block-on-fb-button",title:h._("__JHASH__LJ-y3psiTRv__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=l;var o=m,p=n;e=e;g.$MAWBlockUtils$requireCondXplat=b("cr:3932");g.logTapped=f;g.logConfirmed=a;g.logSucceeded=o;g.logFailed=p;g.make=e}),98);
__d("LsMessengerIntegrityBlockMessagesConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743858");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_messages_confirmed",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockMessagesFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743859");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_messages_failed",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockMessagesSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743860");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_messages_succeeded",a);e.exports=c}),null);
__d("LsMessengerIntegrityBlockMessagesTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743861");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_block_messages_tapped",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockMessagesConfirmedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743868");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_messages_confirmed",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockMessagesFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743869");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_messages_failed",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockMessagesSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743870");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_messages_succeeded",a);e.exports=c}),null);
__d("LsMessengerIntegrityUnblockMessagesTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1743871");c=b("FalcoLoggerInternal").create("ls_messenger_integrity_unblock_messages_tapped",a);e.exports=c}),null);
__d("MWChatBlockDialogMessageBlockButton.bs",["fbt","ix","LS.bs","LSContactBlockedByViewerStatus.bs","LSContactTypeExact.bs","LSContactUserBlockAction.bs","LSSetUserBlockStatus","LsMessengerIntegrityBlockMessagesConfirmedFalcoEvent","LsMessengerIntegrityBlockMessagesFailedFalcoEvent","LsMessengerIntegrityBlockMessagesSucceededFalcoEvent","LsMessengerIntegrityBlockMessagesTappedFalcoEvent","LsMessengerIntegrityUnblockMessagesConfirmedFalcoEvent","LsMessengerIntegrityUnblockMessagesFailedFalcoEvent","LsMessengerIntegrityUnblockMessagesSucceededFalcoEvent","LsMessengerIntegrityUnblockMessagesTappedFalcoEvent","MWChatBlockDialogButton.react","MWMessengerResetBlockOrRestrictWC.bs","bs_caml","bs_caml_int64","bs_curry","bs_int64","cr:3932","fbicon","formatDate","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("gkx")("1224637");function l(a,b,d,e){d?c("LsMessengerIntegrityBlockMessagesTappedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockMessagesTappedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function m(a,b,d,e){d?c("LsMessengerIntegrityBlockMessagesConfirmedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockMessagesConfirmedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function n(a,b,d,e){d?c("LsMessengerIntegrityBlockMessagesSucceededFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockMessagesSucceededFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function o(a,b,d,e){d?c("LsMessengerIntegrityBlockMessagesFailedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}}):c("LsMessengerIntegrityUnblockMessagesFailedFalcoEvent").log(function(){return{data:{entry_point:c("bs_caml_int64").to_int32(b.entry_point),request_id:b.request_id,source:b.source,source_owner:b.source_owner,source_type:b.source_type},other_user:{id:c("bs_int64").to_string(a)},thread:{id:e}}})}function p(a,b,e,f){if(!c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").igUser))if(c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").fbPage))return[h._("__JHASH__Nu8wmLGIyub__JHASH__")];else return[h._("__JHASH__-OyVnV-lXB3__JHASH__",[h._param("user_name",b)])];a=f!==e;if(f!==void 0)if(a)return[h._("__JHASH__W5K6OikXCf___JHASH__",[h._param("display_name",e),h._param("username",f)])];else return[h._("__JHASH__yC8tpwcYVUm__JHASH__",[h._param("username",f)])];else return[null]}function q(a,b,e,f,g){if(c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").igUser)){var i=f!==e;i=f!==void 0?i?[h._("__JHASH__W5K6OikXCf___JHASH__",[h._param("display_name",e),h._param("username",f)])]:[h._("__JHASH__yC8tpwcYVUm__JHASH__",[h._param("username",f)])]:[null]}else i=c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").fbPage)?[h._("__JHASH__Nu8wmLGIyub__JHASH__")]:[h._("__JHASH__-OyVnV-lXB3__JHASH__",[h._param("user_name",b)])];i.push(g!==void 0?h._("__JHASH__soBS1FP5nbx__JHASH__",[h._param("month_day",g)]):h._("__JHASH__rBJzMduWZv5__JHASH__"));return i}function r(a,b,e,f){if(!c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").igUser))if(c("bs_caml").i64_eq(a,d("LSContactTypeExact.bs").fbPage))return[h._("__JHASH___WbNGfJdgkE__JHASH__"),h._("__JHASH__R4mC7MR0lnH__JHASH__")];else return[h._("__JHASH__Dm5Hu04Kune__JHASH__",[h._param("short-name",b)]),h._("__JHASH__YHOFkMSwGDp__JHASH__",[h._param("short-name",b)]),h._("__JHASH__J2WSNUuCcYX__JHASH__")];a=f!==e;if(f!==void 0)if(a)return[h._("__JHASH__lAR7YG5K8vN__JHASH__",[h._param("display_name",e),h._param("username",f)])];else return[h._("__JHASH__xU7kUXBaUXs__JHASH__",[h._param("username",f)])];else return[null]}function a(a){var e=a.contact,f=a.threadIdForLogging,g=a.userBlockData,s=c("useReStore")(),t=b("cr:3932")==null?function(a,b){}:c("bs_curry")._1(b("cr:3932").useHook),u=d("MWMessengerResetBlockOrRestrictWC.bs").useHook();a=e.firstName;a=a!==void 0?a:e.name;var v=e.name,w=e.secondaryName,x=e.blockedSinceTimestampMs;x=x!==void 0?c("formatDate")(new Date(c("bs_caml_int64").to_float(x)),"M d"):void 0;var y=e.pendingMnUserBlockAction!==void 0,z=k?d("fbicon")._(i("787650"),24):d("fbicon")._(i("505618"),24),A=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").messageBlocked),B=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").fullyBlocked);if(B)return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){},confirmText:void 0,description:[h._("__JHASH__pMblGn1YcsR__JHASH__",[h._param("user_name",a)])],disabled:!0,icon:z,isSaving:y,onTapped:function(a){},testId:void 0,title:h._("__JHASH__E315yUcvO6c__JHASH__")});if(A){B=h._("__JHASH__WS7bg11ZFd1__JHASH__");A=p(e.contactTypeExact,a,v,w);var C=h._("__JHASH__itKRgdJZlgO__JHASH__");B={buttonLabel:B,footer:void 0,header:A,listItems:void 0,title:C};return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){m(e.id,g,!1,f),c("promiseDone")(s.runInTransaction(function(a){var b=g.request_id;return c("LSSetUserBlockStatus")(e.id,d("LSContactUserBlockAction.bs").mnUnblock,b!==void 0?b:"",d("LS.bs").make(a))},"readwrite"),function(a){c("bs_curry")._2(t,e.id,d("LSContactUserBlockAction.bs").mnUnblock);return n(e.id,g,!1,f)},function(a){return o(e.id,g,!1,f)})},confirmText:B,description:q(e.contactTypeExact,a,v,w,x),disabled:!1,icon:z,isSaving:y,onTapped:function(a){return l(e.id,g,!1,f)},testId:void 0,title:h._("__JHASH__E315yUcvO6c__JHASH__")})}A=h._("__JHASH__9CMnm4sWD5u__JHASH__");C=[h._("__JHASH__YOtoc4FJZZK__JHASH__")];B=h._("__JHASH__-lwb5mQa35v__JHASH__");x={buttonLabel:A,footer:void 0,header:C,listItems:void 0,title:B};return j.jsx(c("MWChatBlockDialogButton.react"),{commit:function(a){m(e.id,g,!0,f),c("promiseDone")(s.runInTransaction(function(a){var b=g.request_id;return c("LSSetUserBlockStatus")(e.id,d("LSContactUserBlockAction.bs").mnBlock,b!==void 0?b:"",d("LS.bs").make(a))},"readwrite"),function(a){c("bs_curry")._1(u,e.id);c("bs_curry")._2(t,e.id,d("LSContactUserBlockAction.bs").mnBlock);return n(e.id,g,!0,f)},function(a){return o(e.id,g,!0,f)})},confirmText:x,description:r(e.contactTypeExact,a,v,w),disabled:!1,icon:z,isSaving:y,onTapped:function(a){return l(e.id,g,!0,f)},testId:void 0,title:h._("__JHASH__J108YdlMyVC__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=l;var s=m,t=n,u=o,v=p,w=q,x=r;e=e;g.$MAWBlockUtils$requireCondXplat=b("cr:3932");g.isWorkUser=f;g.logTapped=a;g.logConfirmed=s;g.logSucceeded=t;g.logFailed=u;g.getHeader=v;g.getUnblockDescription=w;g.getBlockDescription=x;g.make=e}),98);
__d("MWChatBlockButtons.bs",["fbt","LSContactTypeExact.bs","LSMessagingThreadTypeUtil.bs","LsMessengerIntegrityBlockViewEnterFalcoEvent","MWButton.react","MWChatBlockDialogFBBlockButton.bs","MWChatBlockDialogMessageBlockButton.bs","MWVerticalRhythm","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_int64","gkx","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("1224637");function a(a){var b=a.targetFBID,e=a.thread,f=a.userBlockData,g=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(b),tl:0})},[b,g]));var k=e!==void 0?d("LSMessagingThreadTypeUtil.bs").isSecure(e.threadType)?"-1":c("bs_int64").to_string(e.threadKey):b;i.useEffect(function(){var a={entry_point:c("bs_caml_int64").to_int32(f.entry_point),request_id:f.request_id,source:f.source,source_owner:f.source_owner,source_type:f.source_type},d={id:k},e={id:b},g={data:a,other_user:e,thread:d};c("LsMessengerIntegrityBlockViewEnterFalcoEvent").log(function(){return g})},[]);e=a!==void 0?c("bs_caml").i64_neq(a.contactTypeExact,d("LSContactTypeExact.bs").igUser)&&c("bs_caml").i64_neq(a.contactTypeExact,d("LSContactTypeExact.bs").fbPage)&&!j:!1;if(a!==void 0)return i.jsxs(i.Fragment,{children:[i.jsx(d("MWChatBlockDialogMessageBlockButton.bs").make,{contact:a,threadIdForLogging:k,userBlockData:f}),e?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:16}),i.jsx(d("MWChatBlockDialogFBBlockButton.bs").make,{contact:a,threadIdForLogging:k,userBlockData:f})]}):null,i.jsx(c("MWVerticalRhythm"),{height:16}),i.jsx(c("MWButton.react"),{label:h._("__JHASH__BYJjfRgVQkg__JHASH__"),linkProps:{target:"_blank",url:"https://www.facebook.com/help/messenger-app/204908296312159"},type:"secondary"})]});else return null}b=a;e=j;f=b;g.isWorkUser=e;g.make=f}),98);
__d("LsMessengerThreadDamagingActionsSourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.default_=a;f.gxac=c;f.cmsg=d}),null);
__d("MWV2GetUserBlockData.bs",["LsMessengerThreadDamagingActionsSourceType.bs","MWCMThreadTypes.bs","MessagingThreadType.bs","bs_caml","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){return{entry_point:a.entryPoint,request_id:b,source:e!==void 0?c("bs_caml").i64_eq(e.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)?17:c("bs_caml").i64_eq(e.threadType,d("MessagingThreadType.bs").secureMessageOverWaGroup)?18:d("MWCMThreadTypes.bs").isJoinedCMThread(e.threadType)?19:a.source:a.source,source_owner:a.sourceOwner,source_type:e!==void 0&&d("MWCMThreadTypes.bs").isJoinedCMThread(e.threadType)?c("bs_caml_int64").to_int32(d("LsMessengerThreadDamagingActionsSourceType.bs").cmsg):void 0}}b=a;g.getUserBlockData=b}),98);
__d("MWChatBlockActionDialog.bs",["fbt","MWCardedDialog.react","MWChatBlockButtons.bs","MWLSParticipantDetails.bs","MWV2GetUserBlockData.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","getFBTSafeGenderFromGenderConst","gkx","react","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("gkx")("1224637");function a(a){var b=a.loggingData,e=a.onClose,f=a.targetFBID;a=a.thread;var g=d("MWLSParticipantDetails.bs").useNameAndGender(f),k=c("useReStore")(),l=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(k.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(f),tl:0}),function(a){return a.name})},[f,k]));if(l!==void 0)l=j?h._("__JHASH__R8PNFip2kY___JHASH__",[h._param("name",l)]):h._("__JHASH__yKCfwUYFBqI__JHASH__",[h._param("name",l)]);else if(g!==void 0){var m=g[1];g=g[0];l=j?h._("__JHASH__ccTmIIOvW1X__JHASH__",[h._name("name",g,c("getFBTSafeGenderFromGenderConst")(m))]):h._("__JHASH__TMz8GIL-Nw___JHASH__",[h._name("name",g,c("getFBTSafeGenderFromGenderConst")(m))])}else l=j?h._("__JHASH__3r2ioBN9ps3__JHASH__"):h._("__JHASH__RPn7EFa7_3S__JHASH__");g=b.requestId;m=g!==void 0?g:c("uuid")();g=d("MWV2GetUserBlockData.bs").getUserBlockData(b,m,a);return i.jsx(c("MWCardedDialog.react"),{onClose:e,testid:void 0,title:l,withCloseButton:!0,children:i.jsx(d("MWChatBlockButtons.bs").make,{targetFBID:f,thread:a,userBlockData:g})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=j;f=b;g.isWorkUser=e;g.make=f}),98);
__d("MWChatBlockActionDialog",["MWChatBlockActionDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWChatBlockActionDialog.bs").make}),98);