;/*FB_PKG_DELIM*/

__d("LSClearCommunityMembersAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.i64.neq(a[0],d)?b.seq([function(c){return b.fe(b.ftr(b.db.table(170).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})},function(c){return b.fe(b.ftr(b.db.table(189).fetch(),function(c){return b.i64.eq(c.source,a[0])}),function(a){return a["delete"]()})}]):b.seq([function(a){return b.fe(b.db.table(170).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(189).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSIssueBotsInfoFetch",["LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),c.i64.gt([0,0],[0,0])?d[1]=c.i64.add(c.i64.of_float(Date.now()),[0,0]):d[1]=[0,0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"fetch_bot_info",[0,571],d[2],f,f,[0,0],[0,0],f,f,d[1]).then(function(a){return a=a,d[3]=a[0],a})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpsertCommunityMemberRanges",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[2]=(d[0].push([0,0]),d[0]),a[2]===!0?c.resolve(d[1]=!0):c.seq([function(e){return d[2]=!1,d[3]=c.i64.of_int32(a[1].length),c.i64.gt(d[3],[0,0])?c.loopAsync(d[3],function(e){return d[4]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[4]).then(function(a){return a=a,d[5]=a[0],d[6]=a[1],a})},function(a){return d[2]=d[2]||c.i64.eq([0,1],d[5])}])}):c.resolve()},function(a){return d[1]=d[2]}])},function(b){return c.db.table(189).put({communityId:a[0],isAdmin:d[1],minName:"",source:a[7],maxName:a[6],isLoadingBefore:!1,isLoadingAfter:a[4],hasMoreBefore:!1,hasMoreAfter:a[3],nextPageCursor:a[5]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueCommunityMemberListFetch",["LSIssueNewTask","LSUpsertCommunityMemberRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.createArray(),d[4]=(d[0].push([0,0]),d[0]),d[1]=c.createArray(),c.sp(b("LSUpsertCommunityMemberRanges"),a[0],a[1],a[2],!1,!0,"",a[5],a[6])},function(e){return d[2]=new c.Map(),d[2].set("community_id",a[0]),d[2].set("roles",a[1]),d[2].set("fetch_admins_only",a[2]),d[2].set("cursor",a[4]),d[2].set("source",a[6]),d[2].set("thread_key",a[7]),d[2].set("search_text",a[8]),d[2].set("thread_roles",a[9]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"fetch_community_member_list",[0,355],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5704451792963698"}),null);
__d("GroupsCometHowdyBotSetupDialogQuery$Parameters",["GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometHowdyBotSetupDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometHowdyBotSetupDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5183771881740641"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometHowdyBotSetupDialog.entrypoint",["GroupsCometHowdyBotSetupDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.routeProps.botID;return{extraProps:{threadID:(a=a.routeParams.thread_id)!=null?a:null},queries:{queryReference:{parameters:c("GroupsCometHowdyBotSetupDialogQuery$Parameters"),variables:{botID:b,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometHowdyBotSetupDialog.react").__setRef("GroupsCometHowdyBotSetupDialog.entrypoint")};g["default"]=a}),98);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("MDSBaseCollapsible.react",["CometPressable.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var d=a.ariaLabel,e=a.children,f=a.isOpen,g=a.onPress,j=a.renderButtonContainer,k=a.renderLabel,l=a.testid;l=a.xstyleForPressable;a=c("useCometUniqueID")();var m=c("useCometUniqueID")(),n=i(function(){g(f)},[f,g]);d=h.jsx(c("CometPressable.react"),{"aria-controls":m,"aria-expanded":f,"aria-label":d,display:"block",id:a,onPress:n,ref:b,testid:void 0,xstyle:l,children:k(f)});return h.jsxs("div",{className:"xh8yej3",children:[h.jsx("div",{className:"xurb0ha x1sxyh0",children:j?j(d):d}),h.jsx("div",{"aria-labelledby":a,className:"xurb0ha x1sxyh0",id:m,role:"region",children:f?e:null})]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);b.displayName="MDSBaseCollapsible";e=b;g["default"]=e}),98);
__d("FDSCollapsible.react",["ix","BaseListCell.react","MDSBaseCollapsible.react","MDSText.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback,k={icon:{paddingEnd:"x1pi30zi",paddingStart:"x1ye3gou",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},label:{paddingStart:"xurb0ha",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},pressable:{alignItems:"x6s0dn4",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",display:"x78zum5",minHeight:"x1gg8mnh",$$css:!0}};function a(a,b){var e=a.children,f=a.isOpen,g=a.label,l=a.onPress,m=a.renderButtonContainer;a=a.testid;var n=j(function(a){return i.jsx("div",{className:"x1pi30zi x1ye3gou x1y1aw1k xwib8y2",children:i.jsx(c("TetraIcon.react"),{color:"secondary",icon:a?d("fbicon")._(h("505565"),20):d("fbicon")._(h("492454"),20)})})},[]);a=j(function(a){return i.jsx(c("BaseListCell.react"),{addOnEnd:n(a),addOnEndVerticalAlign:"center",addOnStartVerticalAlign:"center",content:i.jsx("div",{className:"xurb0ha xz9dl7a xsag5q8",children:i.jsx(c("MDSText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:g})})})},[g,n]);return i.jsx(c("MDSBaseCollapsible.react"),{isOpen:f,onPress:l,ref:b,renderButtonContainer:m,renderLabel:a,testid:void 0,xstyleForPressable:k.pressable,children:e})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);b.displayName="FDSCollapsible";e=b;g["default"]=e}),98);
__d("MWCollapsible.react",["cr:1290"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1290")}),98);
__d("LSContactGenderToGenderConst.bs",["GenderConst","LSContactGender.bs","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(c("bs_caml").i64_eq(a,d("LSContactGender.bs").female))return c("GenderConst").FEMALE_SINGULAR;else if(c("bs_caml").i64_eq(a,d("LSContactGender.bs").male))return c("GenderConst").MALE_SINGULAR;else if(c("bs_caml").i64_eq(a,d("LSContactGender.bs").neuter))return c("GenderConst").NEUTER_SINGULAR;else return c("GenderConst").NOT_A_PERSON}g.make=a}),98);
__d("MWGroupLimitConfig.bs",["cr:1217"],(function(a,b,c,d,e,f,g){"use strict";g.$MWGroupLimitConfigForTests$OR$MWGroupLimitConfigForProd$requireCond=a=b("cr:1217");g.nonGxac=a.nonGxac;g.armadillo=a.armadillo;g.gxac=a.gxac}),98);
__d("MWGroupLimitConfigForProd.bs",["MAWAbPropsClient.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("MAWAbPropsClient.bs").getAbProps().client_group_participants_limit}b=32;c=256;g.armadillo=a;g.gxac=b;g.nonGxac=c}),98);
__d("MWGroupLimitContainer.bs",["bs_curry","cr:1573"],(function(a,b,c,d,e,f,g){"use strict";var h=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForThread;function a(a){var b=a.children,d=a.groupLimitReachedContent;a=a.thread;a=c("bs_curry")._2(h,a);if(a[0])return d;else return b}d=a;e=d;g.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");g.make=e}),98);
__d("MWInteropTokenUtils.bs",["MWXacGating.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rawData.isInstagramAccount===!0}function i(a){return a.rawData.isInteropEligible===!0}function j(a){if(d("MWXacGating.bs").isGroupsEnabled())return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(h(a))if(i(a))return!j(a);else return!0;else return!1}g.isInterop=h;g.isInteropEligible=i;g.isGxacEligible=j;g.isInteropWithoutGxacSupport=a}),98);
__d("MWUseHasGroupLimitBeenReached.bs",["LSMessagingThreadTypeUtil.bs","MWGroupLimitConfig.bs","MWInteropTokenUtils.bs","MWIsXacGroupThread.bs","MWXacGating.bs","bs_caml_int64","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var e=b!==void 0?b:i;b=a.memberCount;b=b!==void 0?c("bs_caml_int64").to_int32(b):0;b=b+e.length|0;var f=h.useMemo(function(){var b=e.some(function(a){return a.isInstagramAccount});if(d("MWXacGating.bs").isGroupsEnabled())if(d("MWIsXacGroupThread.bs").check(a))return!0;else return b;else return!1},[JSON.stringify(a.threadKey),e]);f=f?b>=d("MWGroupLimitConfig.bs").gxac:d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)?b>=c("bs_curry")._1(d("MWGroupLimitConfig.bs").armadillo):b>=d("MWGroupLimitConfig.bs").nonGxac;b=d("MWXacGating.bs").isGroupsEnabled()&&b>=d("MWGroupLimitConfig.bs").gxac;return[f,b]}function b(a,b){var e=h.useMemo(function(){if(d("MWXacGating.bs").isGroupsEnabled())return a.some(d("MWInteropTokenUtils.bs").isInterop);else return!1},[a]),f=a.length;e=e?f>=(d("MWGroupLimitConfig.bs").gxac-1|0):b?f>=(c("bs_curry")._1(d("MWGroupLimitConfig.bs").armadillo)-1|0):f>=(d("MWGroupLimitConfig.bs").nonGxac-1|0);b=d("MWXacGating.bs").isGroupsEnabled()&&f>=d("MWGroupLimitConfig.bs").gxac;return[e,b]}e=i;f=a;a=b;g.emptySelectedParticipants=e;g.useHookForThread=f;g.useHookForNewThread=a}),98);
__d("MWGroupMembershipListItem.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h={CommunityMember:"communityMemberType",ParticipantAndContact:"participantAndContactType",ServerSearchResult:"serverSearchResultType"};function a(a){if(a.type===h.ParticipantAndContact)return a.participant.isAdmin;return a.type===h.CommunityMember?a.communityMember.isAdmin:!1}function b(a){if(a.type===h.ParticipantAndContact)return a.participant.isModerator;return a.type===h.CommunityMember?a.communityMember.isModerator:!1}function c(a){if(a.type===h.ParticipantAndContact)return a.contact.id;return a.type===h.CommunityMember?a.communityMember.contactId:d("I64").of_string(a.serverSearchResult.resultId)}g.MWGroupMembershipMemberTypes=h;g.isAdmin=a;g.isModerator=b;g.contactId=c}),98);
__d("MWGroupMembershipListItemWrapper",["MWGroupMembershipListItem.bs"],(function(a,b,c,d,e,f,g){"use strict";b="ParticipantAndContact";c="CommunityMember";function a(a){switch(a.tag){case"ParticipantAndContact":return{contact:a.value[1],participant:a.value[0],type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact};case"CommunityMember":return{communityMember:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember};case"ServerSearchResult":return{serverSearchResult:a.value,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult}}}g.participantAndContactType=b;g.communityMemberType=c;g.tToRE=a}),98);
__d("MWLSGroupMembershipMemberCell.bs",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddot.react","GenderConst","JSResource","LSContactBlockedByViewerStatus.bs","LSContactGenderToGenderConst.bs","LSGroupParticipantJoinState.bs","LSMediaUrl.bs","LSWhatsAppConnectStatus.bs","MAWThreadCutover.bs","MDSListCell.react","MDSTextPairing.react","MWCMThreadTypes.bs","MWGroupMembershipListItem.bs","MWIcon.react","MWInboxRouteBuilder.bs","MWLSContactTypeExactUtils.bs","MWProfilePhoto.react","MWText.react","bs_int64","fbicon","getFBTSafeGenderFromGenderConst","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=h._("__JHASH__3WTOYPxVm2l__JHASH__"),l=h._("__JHASH__J1b76x4xKfs__JHASH__");function m(a,b){return j.useMemo(function(){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&a.serverSearchResult.contextLine!=="")return[j.jsx(j.Fragment,{children:a.serverSearchResult.contextLine})];var e=b.filter(function(a){return a!=null});return e.length>0?e.map(function(a,b){return j.jsxs(j.Fragment,{children:[b!==0?j.jsx(c("CometMiddot.react"),{}):null,a]},String(b))}):void 0},[a,b])}function n(a){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact){var b=a.contact,e=a.participant,f=b.blockedByViewerStatus,g=b.gender,h=b.name,i=b.secondaryName,j=b.waConnectStatus,k=e.groupParticipantJoinState,l=e.isSuperAdmin;e=e.subscribeSource;return{isBlocked:!c("bs_int64").equal(f,d("LSContactBlockedByViewerStatus.bs").unblocked),nonWaAddressable:c("bs_int64").equal(j,d("LSWhatsAppConnectStatus.bs").whatsappNotAddressable),isSuperAdmin:l===!0,isInvitedByViewer:c("bs_int64").equal(k,d("LSGroupParticipantJoinState.bs").invited),gender:d("LSContactGenderToGenderConst.bs").make(g),secondaryName:i!==void 0&&d("MWLSContactTypeExactUtils.bs").isIgContact(b)?i:null,subscribeSource:e,name:h,profilePictureUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(b)}}if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember){f=a.communityMember;j=f.isBlocked;l=f.name;k=f.nickname;g=f.profilePictureUrl;return{isBlocked:(i=j)!=null?i:!1,nonWaAddressable:!1,isSuperAdmin:!1,isInvitedByViewer:!1,gender:c("GenderConst").NOT_A_PERSON,secondaryName:null,subscribeSource:void 0,name:(e=k)!=null?e:l,profilePictureUrl:(h=g)!=null?h:"<PLACEHOLDER>"}}b=a.serverSearchResult;f=b.displayName;j=b.profilePicUrl;return{isBlocked:!c("bs_int64").equal(b.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked),nonWaAddressable:!1,isSuperAdmin:!1,isInvitedByViewer:!1,gender:c("GenderConst").NOT_A_PERSON,secondaryName:null,subscribeSource:void 0,name:f,profilePictureUrl:(i=j)!=null?i:"<PLACEHOLDER>"}}function o(a,b,c,e,f){var g,i;g=(g=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?g:!1;i=(i=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?i:!1;a=n(a);var j=a.isInvitedByViewer,m=a.isSuperAdmin,o=a.nonWaAddressable;a=a.subscribeSource;if(b&&o&&!j)return h._("__JHASH__Ai4p9Jl-Ya6__JHASH__").toString();if(b&&!o&&j)return h._("__JHASH__HSm7vqMGwVL__JHASH__").toString();if(a!==void 0&&m)return c?k:a;if(g&&e)return k;return i&&f?l:null}function a(a){var b=a.folder,e=a.isMAWParticipantSuperAdmin,f=a.isSecure,g=a.membershipListItem,k=a.onClose,l=a.showAdminIndicator,p=a.showInvitedByViewerOnly;p=p===void 0?!1:p;var q=a.showModeratorIndicator;a=a.thread;var r=c("bs_int64").to_string(d("MWGroupMembershipListItem.bs").contactId(g)),s=d("MAWThreadCutover.bs").useGetCutoverSecureThreadKey(r),t=s!==void 0?d("MWInboxRouteBuilder.bs").buildE2EEThreadURL({thread_key:s}):d("MWInboxRouteBuilder.bs").buildURL({thread_key:r});s=n(g);var u=s.gender,v=s.isBlocked,w=s.isInvitedByViewer,x=s.isSuperAdmin,y=s.name,z=s.profilePictureUrl,A=s.secondaryName;s=s.subscribeSource;var B=d("MWCMThreadTypes.bs").isJoinedCMThread(a.threadType),C=m(g,[A,o(g,f,B,l,q),v?h._("__JHASH__iywW1hlnypb__JHASH__"):null,s!==void 0&&!x&&!B?s:null]),D=f&&w&&!p;return j.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{isMAWParticipantSuperAdmin:e,membershipListItem:g,onClose:k,onCloseDialog:k,thread:a,folder:b},popoverResource:c("JSResource")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.bs"),popoverType:"menu",preloadTrigger:"button",children:function(a,b,e,f,g,l,m){return j.jsx(c("MDSListCell.react"),{addOnEnd:j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__-R08aUV4n3s__JHASH__",[h._name("name",y,c("getFBTSafeGenderFromGenderConst")(u))]),color:"secondary",icon:d("fbicon")._(i("484388"),24),onHoverIn:f,onHoverOut:function(){return g()},onPress:function(){return b()},onPressIn:l,ref:a,testid:void 0}),addOnEndVerticalAlign:"center",addOnStart:j.jsx(c("MWProfilePhoto.react"),{alt:y,linkProps:{onNavigate:k,url:t},shape:"circle",size:36,source:{uri:z}}),content:C!==void 0?j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWText.react"),{color:D?"disabled":"secondary",type:"body4",children:C}),headline:j.jsx(c("MWText.react"),{color:D?"disabled":"primary",type:"headline4",children:y}),level:4}):j.jsx(c("MWText.react"),{align:"start",numberOfLines:1,type:"headline4",children:y}),size:"medium",testid:void 0,verticalAlign:C===void 0?"center":"top"},r)}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSGroupMembershipMemberList.bs",["LSGroupParticipantJoinState.bs","LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberCell.bs","Promise","bs_int64","cr:2629","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){return}function a(a){var e=a.folder,f=a.participantsAndContacts,g=a.showAdmodIndicator,j=a.showAdmodsOnly,k=a.showInvitedByViewerOnly,l=a.thread,m=a.onClose,n=m===void 0?i:m;m=a.doSortParticipants;a=m===void 0?!0:m;var o=c("useReStore")();m=h.useState(function(){});var p=m[0],q=m[1];m=a?f.slice(0).sort(function(a,b){if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact)return a.contact.name.localeCompare(b.contact.name);else if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.CommunityMember)return a.communityMember.name.localeCompare(b.communityMember.name);else if(a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult&&b.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ServerSearchResult)return a.serverSearchResult.displayName.localeCompare(b.serverSearchResult.displayName);else return 0}):f.slice(0);a=j?m.filter(function(a){var b;b=(b=d("MWGroupMembershipListItem.bs").isAdmin(a))!=null?b:!1;a=(a=d("MWGroupMembershipListItem.bs").isModerator(a))!=null?a:!1;return b||a}):k?m.filter(function(a){a=a.type===d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact?a.participant.groupParticipantJoinState:d("LSGroupParticipantJoinState.bs").member;return c("bs_int64").equal(a,d("LSGroupParticipantJoinState.bs").invited)}):m;var r=d("LSMessagingThreadTypeUtil.bs").isSecure(l.threadType);h.useEffect(function(){b("cr:2629")!=null&&r&&c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(o,l.threadKey).then(function(a){if(a.TAG===0)return b("cr:2629").getGroupSuperAdmin({threadId:a._0}).sendAndReceive().then(function(a){return q(function(){return a})});else return b("Promise").resolve()}))},[o,JSON.stringify(l.threadKey)]);return a.map(function(a){var b=d("MWGroupMembershipListItem.bs").contactId(a);return h.jsx(c("MWLSGroupMembershipMemberCell.bs"),{folder:e,isMAWParticipantSuperAdmin:r&&p!==void 0?p===c("bs_int64").to_string(b):!1,isSecure:r,membershipListItem:a,onClose:n,showAdminIndicator:g,showInvitedByViewerOnly:k,showModeratorIndicator:g,thread:l},c("bs_int64").to_string(b))})}g["default"]=a}),98);
__d("MWCMBotFalcoLogger",["GroupsCometChatsEngagementLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.action,c=a.clientExtras;c=c===void 0?{}:c;var e=a.event,f=a.fbGroupId,g=a.source,h=a.surface;a=a.threadKey;d("GroupsCometChatsEngagementLogger").log({action:b,client_extras:babelHelpers["extends"]({},c,{thread_id:a}),event:e,group_id:f,source:g,surface:h})}g.logBotsEvent=a}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMEditChatInfoDialogTrigger.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","GroupsCometChatEditChatDialog.entrypoint","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children;a=a.thread;return h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometChatEditChatDialog.entrypoint"),fallback:function(a){return h.jsx(d("CometCardedDialogLoadingState.re").make,{})},otherProps:{enableEditNameOrDescription:!0,onClose:function(a){}},preloadParams:{threadID:c("bs_int64").to_string(a.threadKey)},children:b})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWCMLinkShare.bs",["fbt","C4gEngagementFalcoEvent.bs","CommunityMessagingEnableState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMUseFolder.bs","URI","XGroupsC4GThreadViewControllerRouteBuilder","bs_belt_Option","bs_caml","bs_curry","bs_int64","cometPushToast","react","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.children,e=a.folder;a=a.thread;var f=c("bs_int64").to_string(e.fbGroupId),g=c("bs_int64").to_string(a.threadKey);e=i.useMemo(function(){return new(c("URI"))(c("XGroupsC4GThreadViewControllerRouteBuilder").buildURL({idorvanity:f,thread_id:g})).setDomain("www.facebook.com").toString()},[f,g]);a=c("bs_curry")._1(c("useCopyText"),{value:e});var j=a[2];e=function(a){c("bs_curry")._1(j),d("C4gEngagementFalcoEvent.bs").log(function(){return{action:"tap",event:"thread_user_copy_invite_link",group_id:f,source:"copy_link",surface:"thread_settings",thread_id:g}}),d("cometPushToast").cometPushSimpleToast(h._("__JHASH__8en83pDSGh6__JHASH__"))};return c("bs_curry")._2(b,a[1],e)}e={make:j};function k(a){return c("bs_caml").i64_eq(c("bs_belt_Option").getWithDefault(a,d("CommunityMessagingEnableState.bs").enabled),d("CommunityMessagingEnableState.bs").disableRequested)}function a(a){var b=d("MWCMUseFolder.bs").useHook(a),c=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,a);return i.useMemo(function(){if(b!==void 0&&c)return!k(b.enableState);else return!1},[b])}function b(a){var b=a.children;a=a.thread;var c=d("MWCMUseFolder.bs").useHook(a),e=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").threadDetailsShowChatInviteLink,a);if(c!==void 0&&e)return i.jsx(j,{folder:c,thread:a,children:b});else return null}f=b;b=e;e=k;a=a;f=f;g.Impl=b;g.isCommunityScheduledForRemoval=e;g.useShouldShowInviteLink=a;g.make=f}),98);
__d("MWMemberListGlimmer.react",["CometGlimmer.react","MDSListCell.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={nameGlimmer:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",height:"xlup9mm",width:"x1oux285",$$css:!0},profileGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xc9qbxq",width:"x14qfxbe",$$css:!0}};function a(){return new Array(3).fill("").map(function(a,b){return h.jsx(c("MDSListCell.react"),{addOnStart:h.jsx(c("CometGlimmer.react"),{index:0,xstyle:i.profileGlimmer}),content:h.jsx(c("CometGlimmer.react"),{index:1,xstyle:i.nameGlimmer}),size:"medium"},b)})}g["default"]=a}),98);
__d("useCommunityMembers",["I64","LS.re","LSClearCommunityMembersAndRange","LSIntEnum","LSIssueCommunityMemberListFetch","LSVec","MWCMThreadTypes.bs","ReQL","ReQLSuspense","react","regeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useEffect;function a(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("community_members_ranges_v2__generated")).getKeyRange(a)},[b,a])}function e(a){a===void 0&&(a=7);var b=c("useReStore")();return i(function(){return b.runInTransaction(function(b){return c("LSClearCommunityMembersAndRange")(d("LSIntEnum").ofNumber(a),c("LS.re").make(b))},"readwrite")},[b,a])}function f(a,e,f){f===void 0&&(f=d("I64").of_int32(7));var g=c("useReStore")(),h=e.threadKey,i=e.threadType;e=d("I64").to_string(h);var k=d("I64").to_string(a),l=d("I64").to_string(i);j(function(){var e=d("MWCMThreadTypes.bs").isBroadcastThread(i)?[d("LSIntEnum").ofNumber(0)]:[],j=function(){return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("regeneratorRuntime").awrap(g.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("LSIntEnum").ofNumber(0)]),!1,!1,"","",f,d("I64").equal(f,d("I64").of_int32(0))?void 0:h,void 0,c("LSVec").make(e),c("LS.re").make(b))},"readwrite"));case 2:case"end":return i.stop()}},null,this)};j()},[g,k,e,l])}g.useCommunityMembersRanges=a;g.useClearMemberList=e;g.useFetchCommunityMembers=f}),98);
__d("MWCMInboxInfoMemberList.react",["fbt","ix","CometLazyDialogTrigger.react","I64","JSResourceForInteraction","MDSListCell.react","MDSText.react","MWGroupMembershipListItemWrapper","MWLSGroupMembershipMemberList.bs","MWMemberListGlimmer.react","MWPBumpEntityKey","ReQL","ReQLSuspense","TetraIcon.react","fbicon","react","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useEffect;function a(a){var b=a.folder;a=a.thread;var e=c("useReStore")();d("useCommunityMembers").useFetchCommunityMembers(b.fbGroupId,a);var f=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(e.table("community_members").index("communitySource")).getKeyRange(b.fbGroupId,d("I64").of_int32(7)).take(15)},[e,b.fbGroupId]),g=d("useCommunityMembers").useClearMemberList(),l=d("I64").to_string(a.threadKey);k(function(){g();return function(){g()}},[l,g]);k(function(){f.length>0&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","community_members_loaded")},[f.length]);return f.length===0?j.jsx(c("MWMemberListGlimmer.react"),{}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWLSGroupMembershipMemberList.bs"),{doSortParticipants:!1,participantsAndContacts:f.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"CommunityMember",value:a})}),showAdmodIndicator:!0,showAdmodsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{folder:b},dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react").__setRef("MWCMInboxInfoMemberList.react"),children:function(a){return j.jsx(c("MDSListCell.react"),{addOnStart:j.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:j.jsx(c("TetraIcon.react"),{icon:d("fbicon")._(i("485094"),24)})}),content:j.jsx(c("MDSText.react"),{type:"headline4",children:h._("__JHASH__BN54OIlz3MA__JHASH__")}),onPress:function(b){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","see_all"),a()},size:"medium"})}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FDSInboxInfoQuickActionIcons",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a={Image:d("fbicon")._(h("642537"),20),Invite:d("fbicon")._(h("497885"),20),Mute:d("fbicon")._(h("532353"),20),Profile:d("fbicon")._(h("869051"),20),Search:d("fbicon")._(h("491283"),20),Unmute:d("fbicon")._(h("664775"),20)};g["default"]=a}),98);
__d("FDSMembersSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("483769"),20);b={icon:a};g.Add=b}),98);
__d("MWAddMemberToGroupDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){}function a(a){var b=a.children;a=a.thread;var e=d("MWLSDatabaseLazySync.bs").useSync(d("LSDatabaseType.bs").ranking),f=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:i,thread:a},dialogResource:c("JSResource")("MWAddParticipantDialogForJSResource.react").__setRef("MWAddMemberToGroupDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(b,function(b){c("bs_curry")._1(e);return c("bs_curry")._1(a)},f)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=i;f=b;g.onClose=e;g.make=f}),98);
__d("MWMembersSectionIcons.bs",["cr:11273"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMembersSectionIcons$OR$FDSMembersSectionIcons$requireCond=b("cr:11273"),g.Add=b("cr:11273").Add}),98);
__d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs",["ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(b.table("contacts")))},[b,JSON.stringify(a.threadKey)]))}b=a;g.useValue=b}),98);
__d("MWInboxInfoMemberList.bs",["fbt","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MDSListCell.react","MWAddMemberToGroupDialogTrigger.bs","MWCMIsAnyCMThread","MWGroupLimitContainer.bs","MWGroupMembershipListItem.bs","MWIcon.react","MWLSFeatureLimitedStatus.bs","MWLSGroupMembershipMemberList.bs","MWMembersSectionIcons.bs","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs","MWText.react","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__P1CnLTqi4fK__JHASH__");function k(a){a=a.thread;return i.jsx(d("MWGroupLimitContainer.bs").make,{groupLimitReachedContent:i.jsx(c("MDSListCell.react"),{content:i.jsx(c("MWText.react"),{color:"secondary",testid:void 0,type:"body4",children:h._("__JHASH____m4bWP_4pT__JHASH__")}),size:"medium"}),thread:a,children:i.jsx(d("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,b){return i.jsx(c("MDSListCell.react"),{addOnStart:i.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:i.jsx(c("MWIcon.react"),{icon:d("MWMembersSectionIcons.bs").Add.icon})}),content:i.jsx(c("MWText.react"),{type:"headline4",children:j}),onPress:function(b){return c("bs_curry")._1(a)},ref:b,size:"medium"})}})})}k.displayName=k.name+" [from "+f.id+"]";b={make:k};function a(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);b=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!b||d("MAWGating").isFeatureLimitEnabled());var e=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").addMember,a),f=d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE.bs").useValue(a),g=!c("MWCMIsAnyCMThread")(a.threadType);return i.jsxs(i.Fragment,{children:[i.jsx(c("MWLSGroupMembershipMemberList.bs"),{participantsAndContacts:f.map(function(a){var b=a[0];a=a[1];return{contact:a,participant:b,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact}}),showAdmodIndicator:g,showAdmodsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),!b&&e?i.jsx(k,{thread:a}):null]})}e=a;f=b;a=e;g.AddPeopleButton=f;g.make=a}),98);
__d("MWInboxInfoMembersSection.bs",["fbt","I64","MWCMIsAnyCMThread","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWCollapsible.react","MWInboxInfoMemberList.bs","MWInboxPersistedUIState","MWPBumpEntityKey","MessagingThreadType.re","bs_curry","bs_int64","cr:4705","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="__MWInboxInfoMembersSection.isOpen__";function a(a){a=a.thread;var e=d("MWInboxPersistedUIState").usePersistedUIState(!1,j),f=e[0],g=e[1];e=d("MWCMUseFolder.bs").useHook(a);var k=c("MWCMIsAnyCMThread")(a.threadType),l=d("MWCMThreadTypes.bs").isBroadcastThread(a.threadType),m,n=0;b("cr:4705")==null||!(e!==void 0&&k)?n=1:m=i.jsx(b("cr:4705"),{folder:e,thread:a});n===1&&(m=i.jsx(d("MWInboxInfoMemberList.bs").make,{thread:a}));n=a.memberCount?"("+c("bs_int64").to_string(a.memberCount)+")":"";a=d("I64").equal(a.threadType,d("MessagingThreadType.re").discoverablePublicChat);l=e!==void 0&&l?h._("__JHASH__xl4TrC_gZzb__JHASH__",[h._param("member_count",n)]):e!==void 0&&k?h._("__JHASH__vIXzo8z-i9s__JHASH__",[h._param("member_count",n)]):a&&c("gkx")("3187")?h._("__JHASH__1uZ4DO16hPR__JHASH__"):h._("__JHASH__4d9xLPGdRx4__JHASH__");return i.jsx(c("MWCollapsible.react"),{isOpen:f,label:l,onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(f?"close":"open"));return c("bs_curry")._1(g,function(a){return!a})},children:m})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=j;a=e;g.storageKey=f;g.make=a}),98);
__d("LSThreadCapabilityBitOffset.re",["LSThreadCapabilityBitOffset.bs"],(function(a,b,c,d,e,f){c=(a=b("LSThreadCapabilityBitOffset.bs")).payment;f.payment=c;d=a.camera;f.camera=d;e=a.mediaPicker;f.mediaPicker=e;b=a.sticker;f.sticker=b;c=a.gif;f.gif=c;d=a.goToSecretConversation;f.goToSecretConversation=d;e=a.colorCustomization;f.colorCustomization=e;b=a.emojiCustomization;f.emojiCustomization=b;c=a.threadDetailsProfileButton;f.threadDetailsProfileButton=c;d=a.nicknames;f.nicknames=d;e=a.block;f.block=e;b=a.calibra;f.calibra=b;c=a.messengerKidsManageKidAccount;f.messengerKidsManageKidAccount=c;d=a.audioClips;f.audioClips=d;e=a.sharedMedia;f.sharedMedia=e;b=a.blockGroupMember;f.blockGroupMember=b;c=a.feedbackAndReport;f.feedbackAndReport=c;d=a.reactions;f.reactions=d;e=a.muteThread;f.muteThread=e;b=a.seenHeads;f.seenHeads=b;c=a.messageRequestComposerBanner;f.messageRequestComposerBanner=c;d=a.inThreadProfileButton;f.inThreadProfileButton=d;e=a.threadDetails;f.threadDetails=e;b=a.rtcVideoCall;f.rtcVideoCall=b;c=a.rtcVoiceCall;f.rtcVoiceCall=c;d=a.memberList;f.memberList=d;e=a.addMember;f.addMember=e;b=a.leaveThread;f.leaveThread=b;c=a.blockedUserInterstitial;f.blockedUserInterstitial=c;d=a.optimisticThreadFeedbackAndReport;f.optimisticThreadFeedbackAndReport=d;e=a.locationSharing;f.locationSharing=e;b=a.ignoreMessages;f.ignoreMessages=b;c=a.focusMode;f.focusMode=c;d=a.searchInConversation;f.searchInConversation=d;e=a.createGroup;f.createGroup=e;b=a.pollCreation;f.pollCreation=b;c=a.displayActorTypeInThreadViewHeader;f.displayActorTypeInThreadViewHeader=c;d=a.disappearingMode;f.disappearingMode=d;e=a.forceOnePhaseSend;f.forceOnePhaseSend=e;b=a.splitMultiSendPhoto;f.splitMultiSendPhoto=b;c=a.threadDetailsIgProfileButton;f.threadDetailsIgProfileButton=c;d=a.messageReply;f.messageReply=d;e=a.mentions;f.mentions=e;b=a.gamesBotThread;f.gamesBotThread=b;c=a.disableLinks;f.disableLinks=c;d=a.blurMedia;f.blurMedia=d;e=a.disableContextBanner;f.disableContextBanner=e;b=a.topLevelSelfRemediation;f.topLevelSelfRemediation=b;c=a.disableUserControl;f.disableUserControl=c;d=a.threadDetailsShowUserName;f.threadDetailsShowUserName=d;e=a.disableMessageBubbleSwipe;f.disableMessageBubbleSwipe=e;b=a.ignoredThread;f.ignoredThread=b;c=a.pageBan;f.pageBan=c;d=a.customThreadNotificationSounds;f.customThreadNotificationSounds=d;e=a.roomCreation;f.roomCreation=e;b=a.filePicker;f.filePicker=b;c=a.joinRoom;f.joinRoom=c;d=a.selfieSticker;f.selfieSticker=d;e=a.powerUp;f.powerUp=e;b=a.threadNameCustomization;f.threadNameCustomization=b;c=a.threadPhotoCustomization;f.threadPhotoCustomization=c;d=a.structuredInput;f.structuredInput=d;e=a.suppressNullstateHeader;f.suppressNullstateHeader=e;b=a.archiveThread;f.archiveThread=b;c=a.unarchiveThread;f.unarchiveThread=c;d=a.memberRequest;f.memberRequest=d;e=a.businessInboxBan;f.businessInboxBan=e;b=a.ctmAdThreadWithAdWarning;f.ctmAdThreadWithAdWarning=b;c=a.businessInboxSavedReplies;f.businessInboxSavedReplies=c;d=a.gardenThreadSettings;f.gardenThreadSettings=d;e=a.marketplaceSavedReplies;f.marketplaceSavedReplies=e;b=a.carrierMessagingAddMember;f.carrierMessagingAddMember=b;c=a.phoneCall;f.phoneCall=c;d=a.threadDetailsDeleteThread;f.threadDetailsDeleteThread=d;e=a.ephemeralMessageTimer;f.ephemeralMessageTimer=e;b=a.messageExpiration;f.messageExpiration=b;c=a.messageSoundSettings;f.messageSoundSettings=c;d=a.ringtoneSoundSettings;f.ringtoneSoundSettings=d;e=a.hideFromActiveNow;f.hideFromActiveNow=e;b=a.magicWords;f.magicWords=b;c=a.threadDescriptionCustomization;f.threadDescriptionCustomization=c;d=a.businessInboxCatalog;f.businessInboxCatalog=d;e=a.adminRecallMessage;f.adminRecallMessage=e;b=a.shareContact;f.shareContact=b;c=a.restrictContact;f.restrictContact=c;d=a.soundBite;f.soundBite=d;e=a.mostLikelyToPollCreation;f.mostLikelyToPollCreation=e;b=a.reportChatToAdmin;f.reportChatToAdmin=b;c=a.canMarkReadOrUnread;f.canMarkReadOrUnread=c;d=a.businessTools;f.businessTools=d;e=a.removeMember;f.removeMember=e;b=a.groupGoToSecretConversation;f.groupGoToSecretConversation=b;c=a.reportMessageToAdmin;f.reportMessageToAdmin=c;d=a.manageMember;f.manageMember=d;e=a.sharedLinks;f.sharedLinks=e;b=a.sharedContent;f.sharedContent=b;c=a.addXacUsers;f.addXacUsers=c;d=a.businessOrderManagement;f.businessOrderManagement=d;e=a.rtcMarketplaceComposerBanner;f.rtcMarketplaceComposerBanner=e;b=a.isSellerRtcEligible;f.isSellerRtcEligible=b;c=a.isBuyerRtcEligible;f.isBuyerRtcEligible=c;d=a.messageLocalDelete;f.messageLocalDelete=d;e=a.messageForward;f.messageForward=e;b=a.isNfbEligible;f.isNfbEligible=b;c=a.messageRequestGroupInvite;f.messageRequestGroupInvite=c;d=a.pinnedMessagesV2;f.pinnedMessagesV2=d;e=a.businessAppointmentBooking;f.businessAppointmentBooking=e;b=a.threadDetailsShowChatInviteLink;f.threadDetailsShowChatInviteLink=b;c=a.hotlikeSticker;f.hotlikeSticker=c;d=a.isLearningSpaceChat;f.isLearningSpaceChat=d;e=a.audioCaptions;f.audioCaptions=e;b=a.commandSilent;f.commandSilent=b;c=a.marketplaceThreadCommerceProfileButton;f.marketplaceThreadCommerceProfileButton=c;d=a.ephemeralMedia;f.ephemeralMedia=d;e=a.commandEveryone;f.commandEveryone=e;b=a.commandGif;f.commandGif=b;c=a.cameraBackup;f.cameraBackup=c;d=a.blockMarketplaceUser;f.blockMarketplaceUser=d;e=a.communityMessagingChannelInvite;f.communityMessagingChannelInvite=e;b=a.commandTextReplacement;f.commandTextReplacement=b;c=a.messageUnsend;f.messageUnsend=c;d=a.immersiveModesSpaces;f.immersiveModesSpaces=d;e=a.communityMessagingLinkSharingV2;f.communityMessagingLinkSharingV2=e;b=a.communityMessagingAudioRooms;f.communityMessagingAudioRooms=b;c=a.bumpMessageAction;f.bumpMessageAction=c;d=a.cutoverBlockComposer;f.cutoverBlockComposer=d;e=a.favoriteThread;f.favoriteThread=e;b=a.bumpThread;f.bumpThread=b;c=a.isBusinessAppointmentThreadIntentEnabled;f.isBusinessAppointmentThreadIntentEnabled=c;d=a.communityMessagingIcebreakers;f.communityMessagingIcebreakers=d;e=a.communityMessagingChannelEmojiCustomization;f.communityMessagingChannelEmojiCustomization=e;b=a.communityMessagingChannelDescriptionCustomization;f.communityMessagingChannelDescriptionCustomization=b;c=a.isMessengerChatEntityThread;f.isMessengerChatEntityThread=c;d=a.reshareHub;f.reshareHub=d;e=a.reactionsV2;f.reactionsV2=e;b=a.seenCountsV2;f.seenCountsV2=b;c=a.isLargeThread;f.isLargeThread=c;d=a.communityMessagingThreadLevelActivitySettings;f.communityMessagingThreadLevelActivitySettings=d;e=a.publicChatBanUser;f.publicChatBanUser=e;b=a.contentExplorer;f.contentExplorer=b;c=a.proMode;f.proMode=c;d=a.customerAppointmentRequest;f.customerAppointmentRequest=d;e=a.isMessengerGuideChatEntityThread;f.isMessengerGuideChatEntityThread=e;b=a.communityMessagingThreadLeaveUpsell;f.communityMessagingThreadLeaveUpsell=b;c=a.generatedStickers;f.generatedStickers=c;d=a.communityMessagingContentImprovements;f.communityMessagingContentImprovements=d}),null);
__d("CommunityBotEnabledStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:"ENABLED",NOT_ENABLED:"NOT_ENABLED"});f["default"]=a}),66);
__d("bs_caml_int32",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a/b|0}function b(a,b){if(b===0)throw{RE_EXN_ID:"Division_by_zero",Error:new Error()};return a%b}f.div=a;f.mod_=b}),null);/*FB_PKG_DELIM*/
__d("LSAddParticipantToGroupThread",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[0]=d[7])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[7]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[8]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[7],d[8],f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("contact_ids",a[1]),d[4].set("sync_group",d[0]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,23],d[6],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSCreateGroupThreadWithAdminText",["LSCreateOfflineThreadingID","LSIssueNewTask","LSLocalApplyOptimisticGroupThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticGroupThread"),a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSCreateOfflineThreadingID"),c.i64.of_float(Date.now())).then(function(a){return a=a,d[1]=a[0],a})},function(a){return c.fe(c.db.table(9).fetch([[[d[0]]]]),function(a){var b=a.update;a.item;return b({otidOfFirstMessage:c.i64.to_string(d[1])})})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",d[0]),d[2].set("otid",c.i64.to_string(d[1])),d[2].set("source",[0,0]),d[2].set("send_type",[0,8]),a[3]!==f?d[2].set("text",a[3]):0,d[3]=new c.Map(),d[3].set("participants",a[0]),d[3].set("send_payload",d[2]),a[2]!==f?d[3].set("thread_name",a[2]):0,d[4]=d[3].get("send_payload"),d[3],d[5]=d[4].get("thread_id"),d[4],d[6]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,130],d[6],f,f,[0,0],[0,0],[0,1],f,[0,0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("FDSDialogSection.react",["BaseHeading.react","TetraText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={headline:{paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},headlineWithHorizontalPadding:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},separator:{backgroundColor:"x1kpc9vs",height:"xjm9jq1",marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0}};function a(a){var b=a.align;b=b===void 0?"start":b;var d=a.children,e=a.headline,f=a.headlineWithHorizontalPadding;f=f===void 0?!0:f;a=a.withBottomSeparator;a=a===void 0?!1:a;return h.jsxs(h.Fragment,{children:[e!=null&&h.jsx(c("BaseHeading.react"),{xstyle:[i.headline,f&&i.headlineWithHorizontalPadding],children:h.jsx(c("TetraText.react"),{align:b,type:"headlineEmphasized2",children:e})}),d,a?h.jsx("hr",{className:"x1kpc9vs xjm9jq1 x1anpbxc xyorhqc"}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWDialogSection.react",["cr:3242","cr:3243","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){if(b("cr:3242"))return h.jsx(b("cr:3242"),babelHelpers["extends"]({},a));return b("cr:3243")?h.jsx(b("cr:3243"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPCheckboxListCell.bs",["ix","MDSListCell.react","MWIcon.react","bs_caml_option","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.iconStyle,e=a.addOnStart,f=a.checked,g=a.content,j=a.disabled,k=a.onPress,l=a.testid;a=a.xstyle;b=b!==void 0?b:"square";b=b==="square"?f?d("fbicon")._(h("484757"),20):d("fbicon")._(h("659288"),20):f?d("fbicon")._(h("498146"),20):d("fbicon")._(h("545517"),20);b={addOnEnd:i.jsx(c("MWIcon.react"),{color:j?"disabled":f?"highlight":"secondary",hideHoverOverlay:!0,icon:b}),addOnStart:e,"aria-checked":f,content:g,disabled:j,onPress:k,role:"checkbox",size:"medium",verticalAlign:"center"};l!==void 0&&(b.testid=l);a!==void 0&&(b.xstyle=c("bs_caml_option").valFromOption(a));return i.jsx(c("MDSListCell.react"),babelHelpers["extends"]({},b))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWAddParticipantDialogResults.bs",["CometMiddot.react","CometProgressRingIndeterminate.react","CometTextWithEntities.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWChatTextTransform.bs","MWPCheckboxListCell.bs","MWProfilePhoto.react","MWText.react","TetraList.react","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return c("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1)}function b(a){var b=a.disableAllUsers,e=a.disableXACUsers,f=a.hasIgUsers,g=a.matchedParticipants,i=a.onToggleParticipant,j=a.selectedParticipants;a=a.showSpinner;a=a!==void 0?a:!1;var k=h.useMemo(function(){return j.some(function(a){return!c("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1)})},[j]);if(g.length===0)return null;else return h.jsxs(c("TetraList.react"),{keyNavOrientation:"vertical",children:[g.map(function(a){var g="maw-add-participant-dialog-item-"+c("bs_int64").to_string(a.contactId);g=j.some(function(b){return c("bs_caml").i64_eq(b.contactId,a.contactId)});var l=f&&!c("bs_belt_Option").getWithDefault(a.isGroupsXacEligible,!1),m=k&&a.isInstagramAccount;l=l||m;m=e&&a.isInstagramAccount;m=!g&&(m||b||l);if(a.isInstagramAccount){l=a.secondaryName;l=c("bs_caml_option").some(h.jsx(c("MWText.react"),{numberOfLines:1,type:"meta4",children:l!==void 0&&l!==""?h.jsxs(h.Fragment,{children:[l,h.jsx(c("CometMiddot.react"),{}),"Instagram"]}):"Instagram"}))}else l=void 0;var n={headline:h.jsx(c("MWText.react"),{type:"headline4",children:h.jsx(c("CometTextWithEntities.react"),{text:a.name,transforms:[d("MWChatTextTransform.bs").emojiTransform]})}),level:4};l!==void 0&&(n.meta=c("bs_caml_option").valFromOption(l));return h.jsx("div",{children:h.jsx(d("MWPCheckboxListCell.bs").make,{addOnStart:h.jsx(c("MWProfilePhoto.react"),{alt:"",shape:"circle",size:36,source:{uri:a.profilePictureUrl}}),checked:g,content:h.jsx(c("MDSTextPairing.react"),babelHelpers["extends"]({},n)),disabled:m,onPress:function(b){return c("bs_curry")._1(i,a)},testid:void 0})},c("bs_int64").to_string(a.contactId))}),a?h.jsx(c("MDSRow.react"),{align:"center",children:h.jsx(c("MDSRowItem.react"),{children:h.jsx(c("CometProgressRingIndeterminate.react"),{color:"blue",size:24})})}):null]})}e=b;g.isGxacEligible=a;g.make=e}),98);
__d("LSUseNullstateContacts.bs",["MNetRankType.bs","ReQL.bs","ReQLSubscription.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){var c=b[1],d=a[1];b=b[0].rank-a[0].rank;if(d!==void 0)if(c!==void 0)if(d.score!==c.score)return c.score-d.score;else return b;else return-1;else if(c!==void 0)return 1;else return b}function a(a){var b=c("useReStore")();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){var a=b.table("ranking_scores").index("scoreTypeContactId");return d("ReQL.bs").leftJoin(d("ReQL.bs").fromTableAscending(b.table("contacts")),d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a),{hd:d("MNetRankType.bs").messengerOmnipickerNullstate,tl:0}))},[b]));return a.sort(i)}b=i;e=a;g.orderByRankingScoreAndContactRank=b;g.useHook=e}),98);
__d("MWAddParticipantDialogSuggestedContacts.bs",["fbt","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSContactTypeExact.bs","LSMediaUrl.bs","LSUseNullstateContacts.bs","MWAddParticipantDialogResults.bs","MWDialogSection.react","MWLSContactTypeExactUtils.bs","MWVerticalRhythm","MWXacGating.bs","bs_caml","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){a=a[0];return{contactId:a.id,isGroupsXacEligible:d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,a),isInstagramAccount:d("MWLSContactTypeExactUtils.bs").isIgContact(a),isXacEligible:d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isXacEligible,a),name:a.name,profilePictureUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(a),secondaryName:a.secondaryName}}var k=[d("LSContactTypeExact.bs").fbUser,d("LSContactTypeExact.bs").messengerOnly,d("LSContactTypeExact.bs").deactivatedAllowedOnMessenger,d("LSContactTypeExact.bs").messengerKid],l=[d("LSContactTypeExact.bs").igUser].concat(k);function m(a,b){var e=d("LSUseNullstateContacts.bs").useHook(),f=d("MWXacGating.bs").isGroupsEnabled()&&!a?l:k;return i.useMemo(function(){return e.filter(function(a){var e=a[0];a=d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").message,e);var g=b.some(function(a){return c("bs_caml").i64_eq(a.contactId,e.id)}),h=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked),i=f.some(function(a){return c("bs_caml").i64_eq(a,e.contactTypeExact)});if(a===!0&&!g&&h)return i;else return!1}).map(j)},[e,b,f])}function a(a){var b=a.disableAllUsers,e=a.disableXACUsers,f=a.hasIgUsers,g=a.isSecure,j=a.onToggleParticipant,k=a.selectedParticipants;a=a.threadParticipants;g=m(g,a).slice(0,30);return i.jsxs(c("MWDialogSection.react"),{headline:h._("__JHASH__0s7vhz12ows__JHASH__"),headlineWithHorizontalPadding:!1,children:[i.jsx(c("MWVerticalRhythm"),{height:10}),i.jsx(d("MWAddParticipantDialogResults.bs").make,{disableAllUsers:b,disableXACUsers:e,hasIgUsers:f,matchedParticipants:g,onToggleParticipant:j,selectedParticipants:k})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=j;f=k;a=l;var n=m;b=b;g.contactToParticipantResult=e;g.allowedContactBase=f;g.allowedContactXac=a;g.useSuggestedContacts=n;g.make=b}),98);
__d("MWAddParticipantDialogSearchResults.bs",["fbt","LSContactBlockedByViewerStatus.bs","LSSearchRequestStatusType.bs","MDSRow.react","MDSRowItem.react","MWAddParticipantDialogResults.bs","MWAddParticipantDialogSuggestedContacts.bs","MWChatTemporarySearchResult.bs","MWText.react","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_format","bs_caml_int64","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.disableAllUsers,e=a.disableXACUsers,f=a.hasIgUsers,g=a.isSecure,j=a.onToggleParticipant,k=a.searchQueryTrimmed,l=a.selectedParticipants,m=a.threadParticipants,n=c("useReStore")();a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(n.table("server_search_results")),{hd:k,tl:0})},[n,k]));a=a.filter(function(a){var b=m.some(function(b){return c("bs_caml").i64_eq(b.contactId,c("bs_caml_format").caml_int64_of_string(a.resultId))}),e=c("bs_caml").i64_eq(a.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked);if(b)return!1;else return e}).sort(function(a,b){return c("bs_int64").compare(a.globalIndex,b.globalIndex)}).map(function(a){return{contactId:c("bs_caml_format").caml_int64_of_string(a.resultId),isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:d("MWChatTemporarySearchResult.bs").checkIsInstagramAccount(a.type_),isXacEligible:a.isInteropEligible,name:a.displayName,profilePictureUrl:a.profilePicUrl,secondaryName:a.contextLine}});g=d("MWAddParticipantDialogSuggestedContacts.bs").useSuggestedContacts(g,m);var o=new Set(a.map(function(a){return c("bs_int64").to_string(a.contactId)}));g=g.filter(function(a){var b=a.name.toLowerCase(),d=k.toLowerCase();if(b.includes(d))return!o.has(c("bs_int64").to_string(a.contactId));else return!1});g=g.concat(a);a=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(n.table("search_queries")),{hd:k,tl:0})},[n,k]));if(a!==void 0){var p=a.resultCount;p=p!==void 0?p:c("bs_caml_int64").zero;a=[c("bs_caml").i64_eq(a.statusPrimary,d("LSSearchRequestStatusType.bs").pending),c("bs_caml").i64_eq(a.statusPrimary,d("LSSearchRequestStatusType.bs").complete)&&c("bs_caml").i64_eq(p,c("bs_caml_int64").zero)]}else a=[!1,k===""];return i.jsxs(i.Fragment,{children:[i.jsx(d("MWAddParticipantDialogResults.bs").make,{disableAllUsers:b,disableXACUsers:e,hasIgUsers:f,matchedParticipants:g,onToggleParticipant:j,selectedParticipants:l,showSpinner:a[0]}),a[1]?i.jsx(c("MDSRow.react"),{align:"center",paddingTop:16,children:i.jsx(c("MDSRowItem.react"),{children:i.jsx(c("MWText.react"),{type:"meta2",children:h._("__JHASH__O-OgntlYafI__JHASH__")})})}):null]})}b=a;e=b;g.make=e}),98);
__d("MWAddParticipantDialogSelectedParticipants.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometImage.react","CometImageContainer.react","CometPressable.react","Locale","MWDialogText.react","MWIcon.react","UserAgent","bs_curry","fbicon","react","stylex","usePrevious"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("Locale").isRTL(),l=c("UserAgent").isBrowser("Chrome")||c("UserAgent").isBrowser("Opera"),m={closeButton:{display:"x78zum5",end:"x70y0r9",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",position:"x10l6tqk",top:"x1fo6t33",$$css:!0},closeButtonIcon:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",width:"xw4jnvo",$$css:!0},image:{display:"x1lliihq",maxWidth:"x193iq5w",minHeight:"x1us19tq",objectFit:"xl1xv1r",$$css:!0},root:{width:"xgbm1jk",$$css:!0}};function n(a){var b=a.name,e=a.onPressClose,f=a.profilePictureUrl;a=a.style;return j.jsxs(c("CometColumn.react"),{align:"center",paddingVertical:8,style:a,xstyle:m.root,children:[j.jsxs(c("CometColumnItem.react"),{children:[j.jsx(c("CometImageContainer.react"),{shape:"circle",size:40,children:j.jsx(c("CometImage.react"),{alt:b,src:f,xstyle:m.image})}),j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__QuGE2GT8Nc6__JHASH__",[h._param("participant name",b)]).toString(),onPress:function(a){return c("bs_curry")._1(e)},overlayDisabled:!0,xstyle:function(a){return[m.closeButton]},children:j.jsx("div",{className:"x6s0dn4 xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu x1qeybcx x78zum5 x1qx5ct2 xl56j7k xw4jnvo",children:j.jsx(c("MWIcon.react"),{color:"secondary",icon:d("fbicon")._(i("478231"),12)})})})]}),j.jsx(c("CometColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWDialogText.react"),{align:"center",numberOfLines:2,type:"meta",children:b})})]})}n.displayName=n.name+" [from "+f.id+"]";b={make:n};function o(a){var b=-1,c=a.length-1|0;while(c>=0&&b===-1){var d=a[c];d[1].isTombstoned?c=c-1|0:b=c}return b}var p={nullstate:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root:{height:"xsbjyhr",overflowX:"xw2csxc",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.onRemoveParticipant;a=a.participantsAndTombstones;var d=j.useRef(null),e=a.filter(function(a){return!a[1].isTombstoned}).length,f=c("usePrevious")(e);j.useEffect(function(){var a=f==null?!1:e>f;if(a){a=d.current;if(!(a==null)){var b=a.scrollWidth;a.scrollTo({behavior:l?"smooth":"instant",left:b*(k?-1:1),top:0})}}},[e,f]);var g;if(e===0)g=j.jsx(c("MWDialogText.react"),{type:"meta",children:h._("__JHASH__AxVMjZyTjJ9__JHASH__")});else{var i={contents:0},m=o(a);g=a.map(function(a,d){var e=a[1],f=e.isTombstoned,g=a[0];f&&(i.contents=i.contents+1|0);a=(d-i.contents|0)*78*(k?-1:1);var h=d===m;return j.jsx(n,{name:g.name,onPressClose:function(a){return c("bs_curry")._2(b,g.contactId,h)},profilePictureUrl:g.profilePictureUrl,style:{opacity:f?"0":"1",pointerEvents:f?"none":"auto",position:"absolute",transform:"translate("+String(a)+"px, 0)",transition:l?"transform .25s":"none"}},String(e.key))})}return j.jsx("div",{className:c("stylex")(p.root,e===0?p.nullstate:!1),ref:function(a){d.current=a},children:g})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.isRTL=k;g.shouldAnimate=l;g.Item=b;g.getLastItemIdx=o;g.make=e}),98);
__d("MWAddParticipantDialogSubmitButton.bs",["fbt","MWButton.react","MWPActor.bs","bs_caml","bs_curry","react","useCometConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.disabled,e=a.label,f=a.onSubmit,g=a.participants;a=a.thread;var j=d("MWPActor.bs").useActor();g=g.find(function(a){return c("bs_caml").i64_eq(a.contactId,j)});var k;if(g!==void 0){g=g.isAdmin;k=g!==void 0&&g?!0:!1}else k=!1;g=a.needsAdminApprovalForNewParticipant;var l=g!==void 0?g:!1,m=c("useCometConfirmationDialog")();return i.jsx(c("MWButton.react"),{disabled:b,label:e,onPress:function(a){if(l&&!k)return c("bs_curry")._3(m,{body:h._("__JHASH__zQ7DUo5Qxx7__JHASH__"),title:h._("__JHASH__PX4jHCQJ6FC__JHASH__")},function(a){return c("bs_curry")._1(f)},function(a){});else return c("bs_curry")._1(f)},testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWPCreateThread.bs",["LS.bs","LSAuthorityLevel.bs","LSCreateGroupThreadWithAdminText","LSVec","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_option","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=c("useReStore")();return h.useCallback(function(a){return function(f,g){return e.runInTransaction(function(b){return c("LSCreateGroupThreadWithAdminText")(c("LSVec").make(a),void 0,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,g!==void 0?c("bs_caml_option").valFromOption(g):void 0,d("LS.bs").make(b))},"readwrite").then(function(a){var f=a[0];return new(b("Promise"))(function(b,a){a=d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(e.table("threads").index("clientThreadKey")),{hd:f,tl:0});var g={contents:function(a){}},h=function(a){if(c("bs_caml").i64_eq(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){c("bs_curry")._1(g.contents);return b(a)}};g.contents=d("SortedAsyncIterable.bs").subscribe(a,function(a,b){switch(b.TAG){case 0:case 1:return h(b._0);case 2:return}});c("promiseDone")(d("ReQL.bs").firstExn(a),h)})})}},[e])}e=a;g.useHook=e}),98);
__d("UseIncrementingId.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=h.useRef(0);return h.useCallback(function(a){a=b.current;b.current=a+1|0;return a},[b])}g.useGenId=a}),98);
__d("MWAddParticipantDialog.bs",["fbt","ix","CometColumn.react","CometColumnItem.react","CometScrollableArea.react","CometTextInputWithIcon.react","LS.bs","LSAddParticipantToGroupThread","LSClearTables","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSIssueSearchQuery","LSMessagingThreadTypeUtil.bs","LSSearchGranularSurfaceType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSVec","MWAddParticipantDialogSearchResults.bs","MWAddParticipantDialogSelectedParticipants.bs","MWAddParticipantDialogSubmitButton.bs","MWAddParticipantDialogSuggestedContacts.bs","MWButton.react","MWCardedDialog.react","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWPActor.bs","MWPCreateThread.bs","MWText.react","MWV2OpenTabOrThread.bs","MWV2UseAreThreadContactsDualSendEligible.bs","MWVerticalRhythm","MWXacGating.bs","MessengerWebEventsFalcoEvent.bs","Promise","ReQL.bs","ReQLSubscription.bs","UseIncrementingId.bs","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:1573","cr:3684","cr:9835","fbicon","promiseDone","react","recoverableViolation","requestIdleCallback","useDebouncedValue","useReStore","useUniqueID"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=b("cr:1573")==null?function(a,b){return[!1,!1]}:b("cr:1573").useHookForThread,l=b("cr:3684")==null?void 0:c("bs_caml_option").some(b("cr:3684")),m={root:{height:"x1egiwwb",$$css:!0}};function n(a,e,f,g,h){var i=d("MWPCreateThread.bs").useHook(),k=d("MWV2OpenTabOrThread.bs").useHook();a=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").addXacUsers,a);e=e&&!a;a=j.useCallback(function(a){a=c("bs_curry")._3(i,f.concat(g.map(function(a){return a.contactId})));a.then(function(a){d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"create_thread"}});c("bs_curry")._3(k.openTabOrInbox,void 0,{clientThreadKey:a.clientThreadKey,threadKey:a.threadKey,threadType:a.threadType},"addMembersCreateGroup");c("bs_curry")._1(h);return b("Promise").resolve()})},[i,f,g,k,h]);if(e)return a}function o(a){var b=a.onAddParticipants,e=a.onClose;a=a.thread;var f=c("useReStore")(),g=a.threadKey,l=j.useState(function(){return""}),o=l[1];l=l[0];var p=l.trim(),q=c("useDebouncedValue")(p,200),r=j.useState(function(){return[]}),s=r[1];r=r[0];var t=r.filter(function(a){return!a[1].isTombstoned}).map(function(a){return a[0]}),u=d("UseIncrementingId.bs").useGenId(),v=c("useUniqueID")(),w=j.useCallback(function(a){return f.runInTransaction(function(a){return c("LSClearTables")(d("LS.bs").make(a))},"readwrite")},[f]);j.useEffect(function(){c("promiseDone")(c("bs_curry")._1(w));return function(a){c("requestIdleCallback")(function(a){c("promiseDone")(c("bs_curry")._1(w))})}},[w]);var x=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),y=j.useMemo(function(){return t.map(function(a){return a.contactId})},[t]),z=j.useCallback(function(a){c("bs_curry")._1(b,y);d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"add_participant",thread_fbid:c("bs_int64").to_string(g)}});return c("bs_curry")._1(e)},[b,y,e,g]),A=j.useCallback(function(a){return f.runInTransaction(function(b){return c("LSIssueSearchQuery")(a,c("LSVec").make(d("MWXacGating.bs").isGroupsEnabled()&&!x?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").addParticipantXac:d("MWLSSearchIssueSearchQuerySupportedTypes.bs").addParticipantBase),v,d("LSSearchGranularSurfaceType.bs").omnipicker,void 0,void 0,d("LS.bs").make(b))},"readwrite")},[f,v,x]);j.useEffect(function(){q!==""&&c("promiseDone")(c("bs_curry")._1(A,q))},[q,A]);var B=d("ReQLSubscription.bs").useArray(j.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("participants")),{hd:g,tl:0})},[f,g])),C=function(a){return c("bs_curry")._1(s,function(b){return b.map(function(b){var d=b[0];if(c("bs_caml").i64_eq(d.contactId,a))return[d,{isTombstoned:!0,key:b[1].key}];else return b})})},D=function(a,b){var d=t.some(function(b){return c("bs_caml").i64_eq(b.contactId,a)});if(d)if(b)return C(a);else return c("bs_curry")._1(s,function(b){return b.filter(function(b){return c("bs_caml").i64_neq(b[0].contactId,a)})});else{c("recoverableViolation")("tried to remove non-selected participant","messenger_web_product");return}},E=function(a){var b=t.some(function(b){return c("bs_caml").i64_eq(b.contactId,a.contactId)});if(b)return C(a.contactId);else return c("bs_curry")._1(s,function(b){return b.concat([[a,{isTombstoned:!1,key:c("bs_curry")._1(u)}]])})},F=h._("__JHASH__WMVITXZaerO__JHASH__"),G=h._("__JHASH__kJ9Y4StcCKr__JHASH__"),H=d("ReQLSubscription.bs").useFirst(j.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("participants")),{hd:g,tl:0}),d("ReQL.bs").fromTableAscending(f.table("contacts"))),function(a){return d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isGroupsXacEligible,a[1])!==!0})},[f,g]))!==void 0,I=c("bs_curry")._2(k,a,t),J=I[0];I=I[1]||H||!d("MWXacGating.bs").isGroupsEnabled();H=j.useMemo(function(){return t.some(function(a){return a.isInstagramAccount})},[t]);var K=n(a,H,y,B,e);H=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").addXacUsers,a)||H;return j.jsx(c("MWCardedDialog.react"),{onClose:e,title:F,withCloseButton:!0,children:j.jsxs(c("CometColumn.react"),{xstyle:m.root,children:[j.jsxs(c("CometColumnItem.react"),{children:[j.jsx(c("CometTextInputWithIcon.react"),{autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD:!0,icon:d("fbicon")._(i("491282"),16),iconColor:"tertiary",label:G,onChange:function(a){a=a.target.value;var b=a==null?"":a;return c("bs_curry")._1(o,function(a){return b})},placeholder:G,spellCheck:!1,value:l}),J&&d("MWXacGating.bs").isGroupsEnabled()?j.jsxs(j.Fragment,{children:[j.jsx(c("MWVerticalRhythm"),{height:10}),j.jsx(c("MWText.react"),{color:"secondary",testid:void 0,type:"body4",children:h._("__JHASH____m4bWP_4pT__JHASH__")})]}):null]}),j.jsx(c("CometColumnItem.react"),{paddingHorizontal:16,paddingTop:16,children:j.jsx(d("MWAddParticipantDialogSelectedParticipants.bs").make,{onRemoveParticipant:D,participantsAndTombstones:r})}),j.jsx(c("CometColumnItem.react"),{expanding:!0,children:j.jsx(c("CometScrollableArea.react"),{expanding:!0,horizontal:!1,children:p!==""?j.jsx(d("MWAddParticipantDialogSearchResults.bs").make,{disableAllUsers:J,disableXACUsers:I,hasIgUsers:H,isSecure:x,onToggleParticipant:E,searchQueryTrimmed:p,selectedParticipants:t,threadParticipants:B}):j.jsx(d("MWAddParticipantDialogSuggestedContacts.bs").make,{disableAllUsers:J,disableXACUsers:I,hasIgUsers:H,isSecure:x,onToggleParticipant:E,selectedParticipants:t,threadParticipants:B})})}),j.jsx(c("CometColumnItem.react"),{paddingTop:16,children:K!==void 0?j.jsx(c("MWButton.react"),{disabled:t.length===0,label:h._("__JHASH__Z7JFtna4S6g__JHASH__"),onPress:K,testid:void 0}):j.jsx(d("MWAddParticipantDialogSubmitButton.bs").make,{disabled:t.length===0,onSubmit:z,thread:a,participants:B,label:F})})]})})}o.displayName=o.name+" [from "+f.id+"]";e={make:o};function p(a){var d=a.onClose;a=a.thread;if(b("cr:9835")==null){c("bs_curry")._1(d);c("recoverableViolation")("Unable to load component required for Add\n    Participant Dialog","messenger_web_product");return null}var e=c("bs_curry")._1(b("cr:9835").createAddParticipantsCallback,a);return j.jsx(o,{onAddParticipants:e,onClose:d,thread:a})}p.displayName=p.name+" [from "+f.id+"]";var q={make:p};function r(a){var e=a.onClose,f=a.thread,g=c("useReStore")(),h=f.threadKey,i=d("MWPActor.bs").useActor();a=j.useCallback(function(a){return g.runInTransaction(function(b){return c("LSAddParticipantToGroupThread")(h,c("LSVec").make(a),d("LS.bs").make(b))},"readwrite").then(function(e){if(b("cr:3684")==null)return b("Promise").resolve();else return d("MWV2UseAreThreadContactsDualSendEligible.bs").getEligibleContacts(g,i,h,f.threadType).then(function(b){var d=new Set(b.map(function(a){return c("bs_int64").to_string(a.id)}));b=a.filter(function(a){return d.has(c("bs_int64").to_string(a))});return c("bs_curry")._2(l.addParticipantsToShadowGroup,h,b)})})},[i,g,f.threadType,h]);return j.jsx(o,{onAddParticipants:a,onClose:e,thread:f})}r.displayName=r.name+" [from "+f.id+"]";f={make:r};function a(a){var b=a.onClose;a=a.thread;var c=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);if(c)return j.jsx(p,{onClose:b,thread:a});else return j.jsx(r,{onClose:b,thread:a})}a=a;e=e;q=q;f=f;a=a;g.$MAWAddGroupParticipantsUtils$requireCond=b("cr:9835");g.$MAWDualSendGroupMembershipManagement$requireCond=b("cr:3684");g.$MWUseHasGroupLimitBeenReached$requireCond=b("cr:1573");g.MWAddParticipantDialogImpl=e;g.MWAddParticipantDialogSecure=q;g.MWAddParticipantDialogOpen=f;g.make=a}),98);
__d("MWAddParticipantDialogForJSResource.react",["MWAddParticipantDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MWAddParticipantDialog.bs").make}),98);/*FB_PKG_DELIM*/
__d("MAWAdminMsg",["fbt","MAWLocalizationType"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){switch(c){case d("MAWLocalizationType").LOCALIZATION_TYPE.EMPTY_SNIPPET:return"";case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_CREATED_GROUP:return h._("__JHASH__28E9UX9VhHs__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_CREATED_GROUP:return h._("__JHASH__vc0hFTqTXzB__JHASH__",[h._param("actor",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_CREATED_GROUP:return h._("__JHASH__A65kSvLIBs0__JHASH__",[h._param("product name","group")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_NAMED_GROUP:return h._("__JHASH__ioocxZa3RHl__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_NAMED_GROUP:return h._("__JHASH__BkA5SKyiWz8__JHASH__",[h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_NAMED_GROUP:return h._("__JHASH__3pkJPr0kqiB__JHASH__",[h._param("actor",b[0]),h._param("custom group name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_DEVICE:return h._("__JHASH__7HvCssg8rpe__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_DEVICE:return h._("__JHASH__HcuOxk4Ti9n__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_DEVICE:return h._("__JHASH__z8kxY36E7hc__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_DEVICE:return h._("__JHASH__CWI7wNEpg6X__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UPDATED_DEVICE:return h._("__JHASH__dMTvVUpHIHh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UPDATED_DEVICE:return h._("__JHASH__B5b_7hBmzMu__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_ONE_PARTICIPANT:return h._("__JHASH__IquH8JP7g3o__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_TWO_PARTICIPANTS:return h._("__JHASH__6LexHwivW4N__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_ADDED_MORE_THAN_TWO_PARTICIPANTS:return h._("__JHASH__xpYfCqAeoRq__JHASH__",[h._param("user_name",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU:return h._("__JHASH__6Z1J4va4_8C__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_ONE_USER:return h._("__JHASH__Usbik5t1nBt__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_YOU_AND_MORE_THAN_ONE_USERS:return h._("__JHASH__P_OgxVnWQoE__JHASH__",[h._param("actor",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_ONE_USER:return h._("__JHASH__bobEEsoK5wj__JHASH__",[h._param("actor",b[0]),h._param("user_name",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_TWO_USER:return h._("__JHASH__XQQ_fX0JL2u__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("user_name_2",b[2])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_ADDED_MORE_THAN_TWO_USER:return h._("__JHASH__gdN-cHBGTgb__JHASH__",[h._param("actor",b[0]),h._param("user_name_1",b[1]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_REMOVED_ONE_PARTICIPANT:return h._("__JHASH__T1eI6-R4Ys3__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_YOU:return h._("__JHASH___J2BJijyg1Y__JHASH__",[h._param("user_name_1",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REMOVED_ONE_USER:return h._("__JHASH__GQYeJHPPFBL__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_LEFT_GROUP:return h._("__JHASH__7gBXJGJs1RC__JHASH__",[h._param("name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_LEFT_GROUP:return h._("__JHASH__twBESU9lMQ5__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_PROMOTED:return h._("__JHASH__P-TnfmXUkkU__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_GOT_DEMOTED:return h._("__JHASH__TyOeMbh9c3n__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_PROMOTED:return h._("__JHASH__g2Y-AkokbQi__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_GOT_DEMOTED:return h._("__JHASH__QbDk7QLMtd0__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_YOU:return h._("__JHASH__vcVM9mG_n59__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_YOU:return h._("__JHASH__0ly_0rO21jd__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_PROMOTED_PARTICIPANT:return h._("__JHASH__aRkzLhFK0tk__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_DEMOTED_PARTICIPANT:return h._("__JHASH__wIEAcacoGC2__JHASH__",[h._param("actor",b[0]),h._param("target",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_DEMOTED_PARTICIPANT:return h._("__JHASH__BVroDb3uWvG__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_PROMOTED_PARTICIPANT:return h._("__JHASH__XW8QFefwwka__JHASH__",[h._param("target",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SELF_DEMOTED:return h._("__JHASH__-JHaYRzvfpN__JHASH__",[h._param("actor",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SELF_DEMOTED:return h._("__JHASH__h_Dfa2FiN92__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_TEXT:return h._("__JHASH__3iBxxmwApDO__JHASH__").toString()+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT:return a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_TEXT_IN_GROUP:return b[0]+": "+a[0];case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_IMAGE:return h._("__JHASH__4-ojL4cFyDj__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_VIDEO:return h._("__JHASH___R0NFo7psqZ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_AUDIO:return h._("__JHASH__NHZzbHt5fju__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_GIF:return h._("__JHASH__GgLzAe6GAAY__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER:return h._("__JHASH__WYnHcQZeijb__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_ATTACHMENT:return h._("__JHASH__SkQ-qpSqtIH__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SENT_STORY:return h._("__JHASH__BxMycMKsI8g__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_IMAGE:return h._("__JHASH__u9NG1-EYfRE__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_VIDEO:return h._("__JHASH__GZrAjs4uDve__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_AUDIO:return h._("__JHASH__B_Zg5gCb8wv__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_GIF:return h._("__JHASH__-LJU6ON9QlF__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER:return h._("__JHASH__j_PEgQByu4Z__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_ATTACHMENT:return h._("__JHASH__1gzdEGkoXLS__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SENT_STORY:return h._("__JHASH__ssliyU4f4NG__JHASH__",[h._param("user",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_SNIPPET:return"Unavailable message";case d("MAWLocalizationType").LOCALIZATION_TYPE.TWO_USERS_CONNECTED:return h._("__JHASH__m7k67dqAe-2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.REACHABILITY_ERROR:return h._("__JHASH__NRCMN2f5KgC__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__sj-fVuDqzhT__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__5cVU7cjznSj__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__kA9pD-FL4Ok__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__zs_s82I9sqr__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__-Icsu85gBJR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__UyMMdA4sswt__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__73KeDoE7JjC__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__CPSmiyxmjWu__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_SECONDS:return h._("__JHASH__3payMdHFpIG__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_MINUTES:return h._("__JHASH__jGBmm4ejMgy__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_HOURS:return h._("__JHASH__qhFzcdaO4tc__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_ON_DAYS:return h._("__JHASH__mFO6ihhTf9z__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__JZBNdaseKxP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__A8DUzBDIb2y__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__HDouCIRR46A__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__Al3hxA_-BOo__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOUR_DEVICE_ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__CwVMDBdJz99__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_THREAD_ADMIN_MESSAGE:return h._("__JHASH__ooNLcz4PoKQ__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CUTOVER_ROLLBACK_ADMIN_MESSAGE:return h._("__JHASH__EP_oerZBdU2__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.ICDC_ALERT_ADMIN_MESSAGE:return h._("__JHASH__m4TBULz6nGb__JHASH__",[h._param("name",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__OlufOqEL22J__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__WsnGvhfXA1z__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__-AjaRzqpVqP__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9J66m6GILCR__JHASH__",[h._plural(parseInt(a[0],10),"number")]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_SECONDS:return h._("__JHASH__xMDY8VdzA5b__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_MINUTES:return h._("__JHASH__iM5zzplvQK3__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_HOURS:return h._("__JHASH__Bm8ehdh1jFk__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_CHANGE_DAYS:return h._("__JHASH__9pVHLxCaDgx__JHASH__",[h._plural(parseInt(a[1],10),"number"),h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__Loj0OkThL6V__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__tR4q6c00--C__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_SETTING_TURNED_OFF:return h._("__JHASH__M2dZfT7rhFT__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_UNSENT_MESSAGE:return h._("__JHASH__HpovaTJp70W__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_UNSENT_MESSAGE:return h._("__JHASH__zbO84srNMHF__JHASH__",[h._param("first name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE_IN_GROUP:return h._("__JHASH__31MoZ8hsHC1__JHASH__",[h._param("name",b[0]),h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_REACT_MESSAGE:return h._("__JHASH__5oboVZPgKpA__JHASH__",[h._param("emoji",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__j47-K7rZuN___JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOWN_USER_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__NNSrUYXKqRz__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__7NL8DHtxILK__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.YOU_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__vrGwrec4csR__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_TAKE_SCREENSHOT:return h._("__JHASH__GAoFX2GSYx-__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_EPHEMERAL_RECORD_SCREEN:return h._("__JHASH__f2dqrRKp1Rl__JHASH__",[h._param("user",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION:return h._("__JHASH__84N8vT7fmIh__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU:return h._("__JHASH__k7nqRDWCEqt__JHASH__").toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_ONE_USER:return h._("__JHASH__vzYvZZNuBUQ__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_YOU_AND_MORE_THAN_ONE_USER:return h._("__JHASH__kEvDhH7xulF__JHASH__",[h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_ONE_USER:return h._("__JHASH__xyM-QHTai_C__JHASH__",[h._param("user_name",b[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_TWO_USER:return h._("__JHASH__5P3Id9aMhA-__JHASH__",[h._param("user_name_1",b[0]),h._param("user_name_2",b[1])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.UNKNOW_USER_ADDED_MORE_THAN_TWO_USER:return h._("__JHASH__8qUm4dkQH-w__JHASH__",[h._param("user_name_1",b[0]),h._param("number of participants",a[0])]).toString();case d("MAWLocalizationType").LOCALIZATION_TYPE.DEBUG_MSG:return a[0];default:return""}}g.buildLocalizedString=a}),98);
__d("MAWAdminMsg.bs",["MAWAdminMsg"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return d("MAWAdminMsg").buildLocalizedString(a,b,c)}g.buildLocalizedString=a}),98);
__d("MAWLocalizationType.bs",["MAWLocalizationType"],(function(a,b,c,d,e,f,g){"use strict";g.currentUserSendText=d("MAWLocalizationType").CURRENT_USER_SEND_TEXT,g.currentUserAddedDevice=d("MAWLocalizationType").CURRENT_USER_ADDED_DEVICE,g.cutoverThreadAdminMessage=d("MAWLocalizationType").CUTOVER_THREAD_ADMIN_MESSAGE,g.cutoverRollbackAdminMessage=d("MAWLocalizationType").CUTOVER_ROLLBACK_ADMIN_MESSAGE,g.e2eeThreadAdminMessage=d("MAWLocalizationType").E2EE_THREAD_DESCRIPTION}),98);
__d("MAWBumpThread.bs",["ODS","Promise","ReQL.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e,f,g,h){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c!==void 0){var i=h!==void 0?h:c.snippetSenderContactId;c=babelHelpers["extends"]({},c,{snippetSenderContactId:i,snippet:g,lastReadWatermarkTimestampMs:f,lastActivityTimestampMs:e});return a.table("threads").put(c)}d("ODS").bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");return b("Promise").resolve()})}g.threadMutation=a}),98);
__d("LSContactUserBlockAction.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.mnUnblock=a;f.mnBlock=c;f.fbUnblock=d;f.fbBlock=e}),null);
__d("MAWBlockUtils.bs",["LSContactUserBlockAction.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_option","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("LSThreadCapabilityBitOffset.bs").payment,d("LSThreadCapabilityBitOffset.bs").locationSharing,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").roomCreation,d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSThreadCapabilityBitOffset.bs").selfieSticker,d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").muteThread,d("LSThreadCapabilityBitOffset.bs").restrictContact],i=[d("LSThreadCapabilityBitOffset.bs").payment,d("LSThreadCapabilityBitOffset.bs").locationSharing,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").roomCreation,d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSThreadCapabilityBitOffset.bs").selfieSticker,d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").muteThread,d("LSThreadCapabilityBitOffset.bs").restrictContact,d("LSThreadCapabilityBitOffset.bs").threadDetailsProfileButton,d("LSThreadCapabilityBitOffset.bs").inThreadProfileButton],j=[d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").muteThread,d("LSThreadCapabilityBitOffset.bs").restrictContact,d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall];function a(a){var e=c("useReStore")();return function(a,f){var g=d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("participants")),function(b){return c("bs_caml").i64_eq(b.contactId,a)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:a.threadKey,tl:0}))}),function(a){if(a!==void 0)return c("bs_caml").i64_eq(a.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1})).then(function(a){if(a===void 0)return b("Promise").resolve();var g=c("bs_caml_option").valFromOption(a);if(g===void 0)return b("Promise").resolve();a=c("bs_caml").i64_eq(f,d("LSContactUserBlockAction.bs").mnBlock)?d("LSThreadBitOffset.bs").clear(h,g.capabilities,g.capabilities2,g.capabilities3):c("bs_caml").i64_eq(f,d("LSContactUserBlockAction.bs").fbBlock)?d("LSThreadBitOffset.bs").clear(i,g.capabilities,g.capabilities2,g.capabilities3):d("LSThreadBitOffset.bs").set(j,g.capabilities,g.capabilities2,g.capabilities3);var k=a[0],l=a[1];a=e.runInTransaction(function(a){var b=babelHelpers["extends"]({},g,{capabilities2:l,capabilities:k});return a.table("threads").put(b)},"readwrite");c("promiseDone")(a);return b("Promise").resolve()});c("promiseDone")(g)}}g.clearedMnBlockCapabilities=h;g.clearedFbBlockCapabilities=i;g.setBlockCapabilities=j;g.useHook=a}),98);
__d("MAWMessengerRestrictUtils.bs",["LSContactMessengerRestrictAction.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSuspense","bs_caml","bs_caml_option","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("LSThreadCapabilityBitOffset.bs").payment,d("LSThreadCapabilityBitOffset.bs").locationSharing,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").roomCreation,d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSThreadCapabilityBitOffset.bs").selfieSticker,d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").muteThread],i=[d("LSThreadCapabilityBitOffset.bs").createGroup,d("LSThreadCapabilityBitOffset.bs").muteThread,d("LSThreadCapabilityBitOffset.bs").filePicker,d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall];function a(a){var e=c("useReStore")();return function(a,f){var g=d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("participants")),function(b){return c("bs_caml").i64_eq(b.contactId,a)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:a.threadKey,tl:0}))}),function(a){if(a!==void 0)return c("bs_caml").i64_eq(a.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne);else return!1})).then(function(a){if(a===void 0)return b("Promise").resolve();var g=c("bs_caml_option").valFromOption(a);if(g===void 0)return b("Promise").resolve();a=c("bs_caml").i64_eq(f,d("LSContactMessengerRestrictAction.bs").restrict)?d("LSThreadBitOffset.bs").clear(h,g.capabilities,g.capabilities2,g.capabilities3):d("LSThreadBitOffset.bs").set(i,g.capabilities,g.capabilities2,g.capabilities3);var j=a[0],k=a[1],l=a[2];a=e.runInTransaction(function(a){var b=babelHelpers["extends"]({},g,{capabilities3:l,capabilities2:k,capabilities:j});return a.table("threads").put(b)},"readwrite");c("promiseDone")(a);return b("Promise").resolve()});c("promiseDone")(g)}}g.clearedMnRestrictCapabilities=h;g.setMnRestrictCapabilities=i;g.useHook=a}),98);
__d("MAWUpdateLSThreadCapabilities.bs",["fbt","LSAuthorityLevel.bs","LSBitOffset.bs","LSContactBitOffset.bs","LSContactBlockedByViewerStatus.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWBackendBridge.bs","MAWBlockUtils.bs","MAWContact.bs","MAWCurrentUser","MAWGating","MAWMessageRequestUtil.bs","MAWMessengerRestrictUtils.bs","Promise","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_format","bs_caml_int64","bs_curry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("MAWCurrentUser").getID(),j=c("bs_caml_format").caml_int64_of_string(i);function a(a,c){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve();var e=d("LSBitOffset.bs").set(d("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.table("threads").put(c)}).then(function(a){})}function e(a,c){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve();var e=d("LSBitOffset.bs").clear(d("LSThreadCapabilityBitOffset.bs").addMember,c.capabilities);c=babelHelpers["extends"]({},c,{capabilities:e});return a.table("threads").put(c)}).then(function(a){})}function f(a,e){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:e,tl:0})).then(function(f){if(f===void 0)return b("Promise").resolve([void 0,void 0]);var g=d("ReQL.bs").first(d("LSMessagingThreadTypeUtil.bs").isOneToOne(f.threadType)?d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:e,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,j)}),function(a){return a[1]}):d("SortedAsyncIterable.bs").empty());return b("Promise").all([b("Promise").resolve(f),g])}).then(function(e){var f=e[0];if(f===void 0)return b("Promise").resolve();e=e[1];if(e===void 0)return b("Promise").resolve();var g=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").messageBlocked),h=c("bs_caml").i64_eq(e.blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").fullyBlocked);e=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").restrictPlaced,e),!1);h=h?d("LSThreadBitOffset.bs").clear(d("MAWBlockUtils.bs").clearedFbBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3):g?d("LSThreadBitOffset.bs").clear(d("MAWBlockUtils.bs").clearedMnBlockCapabilities,f.capabilities,f.capabilities2,f.capabilities3):e?d("LSThreadBitOffset.bs").clear(d("MAWMessengerRestrictUtils.bs").clearedMnRestrictCapabilities,f.capabilities,f.capabilities2,f.capabilities3):[f.capabilities,f.capabilities2,f.capabilities3];g=babelHelpers["extends"]({},f,{capabilities3:h[2],capabilities2:h[1],capabilities:h[0]});return a.table("threads").put(g).then(function(a){})})}function k(a,e,f){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:f,tl:0})).then(function(g){if(g===void 0)return b("Promise").resolve([void 0,void 0,void 0]);var h=d("ReQL.bs").first(d("LSMessagingThreadTypeUtil.bs").isOneToOne(g.threadType)?d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:f,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,j)}),function(a){return a[1]}):d("SortedAsyncIterable.bs").empty()),i=d("LSMessagingThreadTypeUtil.bs").isOneToOne(g.threadType)?c("bs_curry")._1(d("MAWBackendBridge.bs").getContact({fbid:e}).sendAndReceive).then(function(a){return a.relationship}):b("Promise").resolve();return b("Promise").all([b("Promise").resolve(g),h,i])}).then(function(e){var f=e[0];if(f===void 0)return b("Promise").resolve();var g=e[1];if(g===void 0)return b("Promise").resolve();e=e[2];if(e===void 0)return b("Promise").resolve();e=c("bs_caml").i64_neq(g.authorityLevel,d("LSAuthorityLevel.bs").authoritative)?e:d("MAWContact.bs").lsContactToContactRelationshipType(g);if(f.folderName==="pending"||f.folderName==="other"||f.folderName==="spam"||f.folderName==="inbox"&&e!==d("MAWContact.bs").twoWayContact&&e!==d("MAWContact.bs").oneWayContact&&c("bs_caml").i64_neq(f.lastActivityTimestampMs,c("bs_caml_int64").zero)){g=d("LSThreadBitOffset.bs").clear(d("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest,f.capabilities,f.capabilities2,f.capabilities3);e=d("MAWGating").isEyebrowTextEnabled()&&f.folderName==="inbox"?h._("__JHASH__4F6x7gUU1-S__JHASH__").toString():void 0;g=[d("LSThreadBitOffset.bs").set(d("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,g[0],g[1],g[2]),e]}else g=[[f.capabilities,f.capabilities2,f.capabilities3],void 0];e=g[0];f=babelHelpers["extends"]({},f,{capabilities3:e[2],capabilities2:e[1],additionalThreadContext:g[1],capabilities:e[0]});return a.table("threads").put(f).then(function(a){})})}function l(a,b){var c=d("LSThreadBitOffset.bs").clear(d("MAWMessageRequestUtil.bs").enabledThreadCapabilitiesForIncomingRequest,b.capabilities,b.capabilities2,b.capabilities3);c=d("LSThreadBitOffset.bs").set(d("MAWMessageRequestUtil.bs").disabledThreadCapabilitiesForIncomingRequest,c[0],c[1],c[2]);b=babelHelpers["extends"]({},b,{capabilities3:c[2],capabilities2:c[1],additionalThreadContext:void 0,capabilities:c[0]});return a.table("threads").put(b).then(function(a){})}function m(a,e,f){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:e,tl:0})).then(function(e){if(e===void 0)return b("Promise").resolve([void 0,void 0]);var g=d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("contacts")),function(a){return c("bs_caml").i64_eq(a.id,f)}));return b("Promise").all([b("Promise").resolve(e),g])}).then(function(c){var e=c[0];if(e===void 0)return b("Promise").resolve();c=c[1];if(c===void 0)return b("Promise").resolve();c=h._("__JHASH__UJFQkCMRFkv__JHASH__",[h._param("Inviter Name",c.name)]).toString();var f=d("LSThreadBitOffset.bs").set([d("LSThreadCapabilityBitOffset.bs").messageRequestGroupInvite],e.capabilities,e.capabilities2,e.capabilities3);e=babelHelpers["extends"]({},e,{capabilities3:f[2],capabilities2:f[1],capabilities:f[0],snippet:c});return a.table("threads").put(e)}).then(function(a){})}function n(a,c){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c,tl:0})).then(function(c){if(c===void 0)return b("Promise").resolve();var e=d("LSThreadBitOffset.bs").clear([d("LSThreadCapabilityBitOffset.bs").messageRequestGroupInvite],c.capabilities,c.capabilities2,c.capabilities3);c=babelHelpers["extends"]({},c,{capabilities3:e[2],capabilities2:e[1],capabilities:e[0],snippet:void 0});return a.table("threads").put(c)}).then(function(a){})}i=i;var o=j;a=a;e=e;f=f;k=k;l=l;m=m;n=n;g.currentUserId=i;g.currentUserIdAsInt64=o;g.enableAddMembersTxn=a;g.disableAddMembersTxn=e;g.disableBlockerCapabilitiesTxn=f;g.updateMessageRequestThreadTxn=k;g.updateNonMessageRequestThreadTxn=l;g.setGroupInviteTxn=m;g.clearGroupInviteTxn=n}),98);
__d("MAWMessengerStatusOnFacebookEventEmitter.bs",["MAWMessengerStatusOnFacebookEventEmitter"],(function(a,b,c,d,e,f,g){"use strict";function a(a){d("MAWMessengerStatusOnFacebookEventEmitter").markMessegnerIsActiveOnFacebook()}g.markMessegnerIsActiveOnFacebook=a}),98);
__d("LSMessageSendStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,5];f.none=a;f.sendingToServer=c;f.serverReceived=d;f.nonRetriableError=e;f.retriableError=b}),null);
__d("LSMessageViewFlag.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,4];b=[0,8];var g=[0,16],h=[0,256],i=[0,1024],j=[0,2048],k=[0,4096],l=[0,8192],m=[0,16384],n=[0,524288],o=[0,1048576],p=[0,2097152],q=[0,8388608],r=[0,16777216],s=[0,33554432];f.uncalculated=a;f.showProfileImage=c;f.showTimestamp=d;f.showSender=e;f.connectTop=b;f.connectBottom=g;f.statusSending=h;f.statusDelivered=i;f.statusReadBy=j;f.statusReadByExcept=k;f.statusReadByAll=l;f.statusRead=m;f.isSendError=n;f.statusSent=o;f.isHotLike=p;f.isLocalMessage=q;f.isForwardedMedia=r;f.statusReadByAndMore=s}),null);
__d("WAChatState",[],(function(a,b,c,d,e,f){"use strict";a="typing";b="recording_audio";c="idle";d={TYPING:a,RECORDING_AUDIO:b};e={IDLE:c};f.TYPING=a;f.RECORDING_AUDIO=b;f.IDLE=c;f.ACTIVE_CHAT_STATE_TYPE=d;f.IDLE_CHAT_STATE_TYPE=e}),66);/*FB_PKG_DELIM*/
__d("WAJobs",["WAErr"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(){if(h==null)throw c("WAErr")("WAJobs api called before set");return h}function a(a){h=a}function b(){return i().jobResultConverter}function d(){return i().persistedJobs.api}function e(){return i().persistedJobs.manager}g.setJobsDependencies=a;g.getJobResultConvertersImpls=b;g.getPersistedJobsApi=d;g.getJobManager=e}),98);
__d("MAWGlobals",["WAGlobals","WAJobs","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function i(){if(h==null)throw c("err")("WaMsgr api called before set");return h}function a(){return i().config}function b(a){h=a,d("WAGlobals").setGlobals(a),d("WAJobs").setJobsDependencies(a)}function e(a){if(h==null)throw c("err")("Cannot set CAT before all globals were set");h.fbCat=a}function f(){return i().fbCat}function j(){return i().db}function k(){return i().persistedJobs.api}function l(){return i().persistedJobs.manager}function m(){return i().hmacKey}function n(){return i().dependencies}function o(){return i().serverRPC}g.setMyJids=d("WAGlobals").setMyJids;g.getMyDeviceJid=d("WAGlobals").getMyDeviceJid;g.getMyUserJid=d("WAGlobals").getMyUserJid;g.getJobResultConvertersImpls=d("WAJobs").getJobResultConvertersImpls;g.isPeerDevice=d("WAGlobals").isPeerDevice;g.getJidUtilsApi=d("WAGlobals").getJidUtilsApi;g.getCryptoManager=d("WAGlobals").getCryptoManager;g.getInMemorySignal=d("WAGlobals").getInMemorySignal;g.getConfig=a;g.setGlobals=b;g.setFbCat=e;g.getFbCat=f;g.getDbImpls=j;g.getPersistedJobsApi=k;g.getJobManager=l;g.getHMACKey=m;g.getDependencies=n;g.getServerRPC=o}),98);
__d("MAWDbContact",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=3;f.NON_CONTACT=a;f.ONE_WAY_CONTACT=b;f.REVERSED_ONE_WAY_CONTACT=c;f.TWO_WAY_CONTACT=d}),66);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h={GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.MEDIA_TYPE=h;f.convertNumberToMediaId=a}),66);
__d("MAWChatJid.bs",["FBLogger","MAWGating","MAWJidUtils","MAWThreadId.bs","MAWUIThreadCache","Promise","ReQL.bs","bs_caml_format","bs_caml_js_exceptions","bs_caml_option","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=c("useReStore")(),f=h.useMemo(function(){return{contents:void 0}},[]);h.useMemo(function(){c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(e,a).then(function(a){if(a.TAG===0)return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){f.contents=a==null?void 0:c("bs_caml_option").some(a)});else return b("Promise").resolve((f.contents=void 0,void 0))}))},[e,a,f]);return function(){return f.contents}}function e(a,e){e=d("MAWJidUtils").threadIdForChatJid(e);if(d("MAWGating").isOccamadillo())return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("mi_act_mapping_table").index("jid")),{hd:c("bs_caml_format").caml_int64_of_string(e),tl:0})).then(function(a){if(a!==void 0)return a.serverThreadKey;else return c("unrecoverableViolation")("Tried to convert a jid to thread key but couldn't find a\n          corresponding row in the mapping table. This can mean that\n          there is a race condition between the time a thread was created\n          on the WA backend, and the time it was inserted into the mapping table.\n          i.e. this function is called before the fn that inserts the mapping\n          into the mapping table","messenger_web_product")});else return b("Promise").resolve(c("bs_caml_format").caml_int64_of_string(e))}function f(a,e){try{if(d("MAWGating").isOccamadillo())return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("mi_act_mapping_table").index("jid")),{hd:c("bs_caml_format").caml_int64_of_string(e),tl:0})).then(function(a){if(a!==void 0)return a.serverThreadKey});else return b("Promise").resolve()}catch(d){a=c("bs_caml_js_exceptions").internalToOCamlException(d);var f=c("FBLogger")("labyrinth_web");f.warn("Invalid chatJid: "+e);return b("Promise").reject(a)}}g.useThreadJidCallback=a;g.toThreadKey=e;g.toThreadKeyMaybe=f}),98);
__d("MAWContact.bs",["LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","MAWDbContact","bs_belt_Option","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").viewerIsUnconnected,a),!1);a=c("bs_caml").i64_ge(a.contactViewerRelationship,[0,2]);if(a&&b)return d("MAWDbContact").ONE_WAY_CONTACT;else if(!a&&!b)return d("MAWDbContact").REVERSED_ONE_WAY_CONTACT;else if(a&&!b)return d("MAWDbContact").TWO_WAY_CONTACT;else return d("MAWDbContact").NON_CONTACT}b=a;g.nonContact=d("MAWDbContact").NON_CONTACT;g.oneWayContact=d("MAWDbContact").ONE_WAY_CONTACT;g.reversedOneWayContact=d("MAWDbContact").REVERSED_ONE_WAY_CONTACT;g.twoWayContact=d("MAWDbContact").TWO_WAY_CONTACT;g.lsContactToContactRelationshipType=b}),98);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h="image/jpeg";e="image/webp";f=100;function i(a,d){d===void 0&&(d=!0);var e;return new(b("Promise"))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function j(a,c,d){d===void 0&&(d=!1);var e=40*1024;if(a.toBlob)return new(b("Promise"))(function(b){a.toBlob(b,c)}).then(function(f){return d&&f.size>=e?new(b("Promise"))(function(b){a.toBlob(b,c,e/f.size)}):f});else return b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c))).then(function(f){return d&&f.size>=e?b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c,e/f.size))):f})}function a(a,d){return i(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var c=b.getContext("2d");c.drawImage(a,0,0);return j(b,d).then(function(b){return{blob:b,height:a.naturalHeight,width:a.naturalWidth}})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function d(a,b){return i(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=l(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,i=c.height;k(c);f.drawImage(a,0,0,g,i);return j(c,h,!0).then(function(a){return a.arrayBuffer().then(function(a){return{height:i,jpegThumbnail:a,width:g}})})})}function k(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function l(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{height:Math.max(a,1),width:Math.max(b,1)}}g.TYPE_JPEG=h;g.TYPE_WEBP=e;g.IMG_THUMB_MAX_EDGE=f;g.canvasToBlob=j;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=l}),98);
__d("MAWImagePreProcess",["MAWImageUtils","Promise","err"],(function(a,b,c,d,e,f,g){"use strict";function e(e,f){var g=a.URL.createObjectURL(e),h=e.name;return d("MAWImageUtils").urlToFile(g,f).then(function(a){a=a.blob;return new File([a],h,{type:f})})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function f(e){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToFile(e,d("MAWImageUtils").TYPE_JPEG).then(function(a){var b=a.height;a=a.width;return{height:b,width:a}})["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}function h(e,f){e=a.URL.createObjectURL(e);return d("MAWImageUtils").urlToThumbnail(e,f)["catch"](function(a){return b("Promise").reject(function(){throw c("err")(a)})})}g.imageTranscode=e;g.getImageSpec=f;g.getJpegThumbnailInfo=h}),98);
__d("MAWSessionStorage",["MAWGating","cr:2175","cr:2381"],(function(a,b,c,d,e,f,g){"use strict";f=b("cr:2175")||b("cr:2381");var h="armadillo_msgr_recent_secure_thread_key",i=f==null?void 0:f.getSessionStorage();function a(){if(!d("MAWGating").isOccamadillo()){var a=i==null?void 0:i.getItem(h);if(a==null)return;return a}}function c(a){d("MAWGating").isOccamadillo()||(i==null?void 0:i.setItem(h,a))}function e(){d("MAWGating").isOccamadillo()||(i==null?void 0:i.removeItem(h))}g.getMostRecentSecureThreadKey=a;g.setMostRecentSecureThreadKey=c;g.deleteMostRecentSecureThreadKey=e}),98);
__d("MAWSessionStorage.bs",["MAWSessionStorage"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("MAWSessionStorage").getMostRecentSecureThreadKey()}function b(a){d("MAWSessionStorage").setMostRecentSecureThreadKey(a)}function c(){d("MAWSessionStorage").deleteMostRecentSecureThreadKey()}e=a;f=b;a=c;g.getMostRecentSecureThreadKey=e;g.setMostRecentSecureThreadKey=f;g.deleteMostRecentSecureThreadKey=a}),98);
__d("MAWVerifyExistingThreadExists.bs",["LS.bs","LSAuthorityLevel.bs","LSVerifyE2EEMetadataThreadExistsV2","MAWGating","MAWThreadId.bs","MessagingThreadType.bs","Promise","ReQL.bs","bs_curry","cr:2629"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){if(b("cr:2629")==null)return b("Promise").resolve();else if(d("MAWGating").isOccamadillo())return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2")(d("MessagingThreadType.bs").secureMessageOverWaOneToOne,e,d("LSAuthorityLevel.bs").authoritative,d("LS.bs").make(a)).then(function(a){})},"readwrite");else return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:e,tl:0})).then(function(f){if(f!==void 0||!d("MAWThreadId.bs").isThreadId(e))return b("Promise").resolve();else return d("MAWThreadId.bs").ofThreadKey(a,e).then(function(a){if(a.TAG===0)return c("bs_curry")._1(c("bs_curry")._1(b("cr:2629").fetchExistingThread,{threadId:a._0}).sendAndReceive);else return b("Promise").resolve()})})}g.call=a}),98);
__d("MAWSyncState",["Promise"],(function(a,b,c,d,e,f){"use strict";var g=!1,h=function(){};a=function(a){g=a};c=new(b("Promise"))(function(a){h=a});d=function(){return h};e=function(){return g};f.setInitSyncExecuted=a;f.waitForInitialSync=c;f.getMarkInitSyncComplete=d;f.getIsInitialSyncComplete=e}),66);
__d("WALoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("WALogger").__setRef("WALoggerDeferred");function a(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.DEV.apply(b,[a].concat(c))})})}function b(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.DEV_XMPP.apply(b,[a].concat(c))})})}function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.LOG.apply(b,[a].concat(c))})})}function e(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.WARN.apply(b,[a].concat(c))})})}function f(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return h.load().then(function(b){return b.whenReady().then(function(){return b.ERROR.apply(b,[a].concat(c))})})}g.DEV=a;g.DEV_XMPP=b;g.LOG=d;g.WARN=e;g.ERROR=f}),98);
__d("MAWMarkThreadAsRead.bs",["LSAuthorityLevel.bs","MAWGating","MAWJob.bs","MAWThreadId.bs","MAWUIThreadCache","MWLSMarkThreadAsRead.bs","Promise","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=c("useReStore")(),f=d("MWLSMarkThreadAsRead.bs").useHook();return h.useCallback(function(g){if(c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){d("MAWGating").isOccamadillo()&&c("bs_curry")._1(f);c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(e,a.threadKey).then(function(a){if(a.TAG===0)return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){if(a==null)return b("Promise").resolve();else return b("Promise").resolve(d("MAWJob.bs").markThreadAsRead.fireAndForget(a,void 0,{priority:"HIGH"}))});else return b("Promise").resolve()}));return}},[JSON.stringify(a.authorityLevel),JSON.stringify(a.threadKey),e])}e=a;g.useHook=e}),98);
__d("MAWGetEphemeralSettings.bs",["MAWBackendBridge.bs","MAWGating","MAWJidUtils.bs","Promise","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings api call for chatJid "," returns ",""]);h=function(){return a};return a}function a(a){if(d("MAWGating").isEphemeralMessagesEnabled()&&d("MAWJidUtils.bs").isOneToOneThreadJid(a))return d("MAWBackendBridge.bs").getEphemeralSettings({threadId:a}).sendAndReceive().then(function(c){d("WALogger").LOG(h(),a,c);if(c==null)return b("Promise").resolve();else return c});else return b("Promise").resolve()}g.use=a}),98);
__d("WATypedArraysCast",["WABase64"],(function(a,b,c,d,e,f,g){function a(a,b){if(b instanceof a)return b;return typeof b==="string"?new a(d("WABase64").decodeB64(b)):new a(b)}g.castTypedArrays=a}),98);
__d("WACryptoHmac",["WATypedArraysCast"],(function(a,b,c,d,e,f,g){var h=32,i=new Uint8Array(h),j={name:"HMAC",hash:"SHA-256"},k={name:"HMAC",hash:"SHA-512"},l={name:"HMAC",hash:"SHA-1"};function m(a,b){b=d("WATypedArraysCast").castTypedArrays(Uint8Array,b);return self.crypto.subtle.importKey("raw",b,a,!1,["sign"]).then(function(b){return{key:b,algo:a}})}function a(a){return m(j,a)}function n(a,b,c){var d=a.key;a=a.algo;return self.crypto.subtle.sign(a,d,b).then(function(a){return c!=null&&c!==0?a.slice(0,c):a})}function b(a,b){return m(j,a!=null?a:i).then(function(a){return n(a,b)})}function c(a,b,c){return m(j,a).then(function(a){return n(a,b,c)})}function e(a,b,c){return m(k,a).then(function(a){return n(a,b,c)})}function f(a,b,c){return m(l,a).then(function(a){return n(a,b,c)})}g.SHA256_BYTE_LENGTH=h;g.DEFAULT_SALT=i;g.encodeKeySha256=a;g.sign=n;g.extractSha256=b;g.hmacSha256=c;g.hmacSha512=e;g.hmacSha1=f}),98);
__d("WADualSendMsgUtils",["WAJids","WALogger"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Could not interpret as GroupJid"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Unable to interpret jid "," as user or group jid"]);i=function(){return a};return a}var j="shadow_";f="GdstV8zG0ZhZP6Al1PJ8hLfMf6GfKMizuMtDtS0W2vtCPUeyGrCglOm9mFHOvMn7";function k(a){return a!=null&&a.startsWith(j)}function l(a){a=a.split("_")[1];a=a.split("@msgr")[0];return d("WAJids").toMsgrUserJid(a)}function m(a){a=a.split("_")[1];a=a.split("@g.us")[0];return d("WAJids").toGroupJid(a)}function a(a){var b=k(a),c=d("WAJids").interpretAsUserJid(a),e=d("WAJids").interpretAsGroupJid(a);if(b&&c!=null)return l(c);else if(b&&e!=null)return m(e);else{d("WALogger").LOG(i(),a);return a}}function b(a){return a.hasChild("test")}function c(a){return j+a}function e(a){if(k(a.chat)&&a.type==="group"){var b=d("WAJids").interpretAsGroupJid(a.chat);if(b==null){d("WALogger").ERROR(h());return a}a.chat=m(b);a.groupJid=m(b)}return a}g.DUAL_SEND_PREFIX=j;g.SHADOW_GROUP_NAME_POST_FIX=f;g.isDualSendJid=k;g.removeDualSendPrefixForUser=l;g.removeDualSendPrefixForGroup=m;g.removeDualSendPrefix=a;g.parseMessageForDualSend=b;g.prependDualSendPrefix=c;g.removeDualSendPrefixForFromJidChat=e}),98);/*FB_PKG_DELIM*/
__d("MAWGroupInviteDialog.bs",["fbt","CometScrollView.react","JSResourceForInteraction","LSContactBlockedByViewerStatus.bs","LSMessagingThreadTypeUtil.bs","LSThreadTitle.bs","LsMessageRequestsActions.bs","MAWJids","MAWThreadId.bs","MAWUIThreadCache","MAWUpdateLSThreadCapabilities.bs","MWCMIsAnyCMThread","MWCardedDialog.react","MWDialogSection.react","MWDialogText.react","MWGroupMembershipListItem.bs","MWLSGroupMembershipMemberList.bs","MWPActor.bs","MWTextPairing.react","MWThreadPicture.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","ServerTime","bs_caml","bs_caml_int64","bs_curry","bs_int64","promiseDone","react","requireDeferred","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("requireDeferred")("MAWJob.bs").__setRef("MAWGroupInviteDialog.bs"),k=c("requireDeferred")("MessageRequestsLog.bs").__setRef("MAWGroupInviteDialog.bs"),l=c("requireDeferred")("MessageRequestsLog.bs").__setRef("MAWGroupInviteDialog.bs"),m=c("requireDeferred")("MessageRequestsLog.bs").__setRef("MAWGroupInviteDialog.bs");function a(a){var e=a.onClose,f=a.thread,g=c("useReStore")(),n=d("MWPActor.bs").useActor(),o=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f.threadKey,tl:0}),20),function(a){var b=d("ReQLSuspense").firstExn(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}));return[a,b]})},[g,JSON.stringify(f.threadKey)])),p=i.useMemo(function(){return o.filter(function(a){return c("bs_caml").i64_neq(a[1].id,n)})},[n,o]);a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(g.table("group_invites")),{hd:f.threadKey,tl:0})},[g,JSON.stringify(f.threadKey)]));var q=i.useMemo(function(){return o.filter(function(a){return c("bs_caml").i64_neq(a[1].blockedByViewerStatus,d("LSContactBlockedByViewerStatus.bs").unblocked)}).map(function(a){return a[1]})},p),r=c("useCometLazyDialog")(c("JSResourceForInteraction")("MAWGroupInviteBlockedAccountsDialog.react").__setRef("MAWGroupInviteDialog.bs")),s=r[0];r=c("useCometLazyDialog")(c("JSResourceForInteraction")("MAWGroupInviteDeleteConfirmationDialog.react").__setRef("MAWGroupInviteDialog.bs"));var t=r[0],u=a[0];r=c("bs_caml").i64_lt(u.inviteExpirationTimestampMs,c("bs_caml_int64").of_float(d("ServerTime").getMillis()));var v=i.useCallback(function(a){if(d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType)){c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(g,f.threadKey).then(function(a){if(a.TAG!==0)return b("Promise").resolve();var e=a._0;return d("MAWUIThreadCache").getThreadJidByChatId({threadId:e}).then(function(a){if(a==null)return b("Promise").resolve();else{c("promiseDone")(m.load().then(function(e){c("bs_curry")._5(e.logActionTapped,f,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").accept),c("bs_int64").to_string(u.inviterId),d("MAWJids").groupIdFromJid(a));return b("Promise").resolve()}));return j.load().then(function(a){return a.acceptGroupInvite.waitUntilPersisted(e,c("bs_int64").to_string(u.inviterId),c("bs_int64").to_string(u.inviteeId),{priority:"UI_ACTION"})})}})}).then(function(a){return g.runInTransaction(function(a){return d("MAWUpdateLSThreadCapabilities.bs").clearGroupInviteTxn(a,f.threadKey)},"readwrite")}));return}},[g,f,u]),w=!c("MWCMIsAnyCMThread")(f.threadType),x=p.length,y=p.filter(function(a){a=a[0];var b=a.isSuperAdmin;a=a.subscribeSource;if(b!==void 0&&a!==void 0)return b;else return!1}).map(function(a){return a[1].name})[0];a=a.map(function(a){return p.filter(function(b){return c("bs_caml").i64_eq(a.inviterId,b[1].id)}).map(function(a){return a[1].name})[0]});var z=a.length,A=p.filter(function(a){return c("bs_caml").i64_lt(a[1].contactViewerRelationship,[0,2])}).length;z=z===1?h._("__JHASH__7bGkVfIbVcB__JHASH__",[h._param("GroupInviter",a[0])]):z===2?h._("__JHASH__j6LAuNWYCNU__JHASH__",[h._param("GroupInviter1",a[0]),h._param("GroupInviter2",a[1])]):h._("__JHASH__hDbsQcKNMZj__JHASH__",[h._param("GroupInviter1",a[0]),h._param("GroupInviter2",a[1])]);i.useEffect(function(){c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(g,f.threadKey).then(function(a){if(a.TAG===0)return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){if(a==null)return b("Promise").resolve();else return l.load().then(function(e){c("bs_curry")._4(e.logMessageRequestInfoShown,f,c("bs_int64").to_string(u.inviterId),d("MAWJids").groupIdFromJid(a));return b("Promise").resolve()})});else return b("Promise").resolve()}))},[]);return i.jsxs(c("MWCardedDialog.react"),{onClose:e,primaryCallToAction:{disabled:r,label:h._("__JHASH__OFdtbAdxecX__JHASH__"),onPress:function(a){if(q.length>0)return s({blockedContacts:q,closeParentDialogCallback:function(a){return c("bs_curry")._1(e)},inviter:u,onClose:function(a){},thread:f},function(a){});else{c("bs_curry")._1(v);return c("bs_curry")._1(e)}},testid:"maw-group-invite-join-button",type:"primary"},secondaryCallToAction:{label:h._("__JHASH__ZOSqE33IREJ__JHASH__"),onPress:function(a){c("promiseDone")(d("MAWThreadId.bs").ofThreadKey(g,f.threadKey).then(function(a){if(a.TAG===0)return d("MAWUIThreadCache").getThreadJidByChatId({threadId:a._0}).then(function(a){if(a==null)return b("Promise").resolve();else return k.load().then(function(e){c("bs_curry")._5(e.logActionTapped,f,c("bs_caml_int64").to_int32(d("LsMessageRequestsActions.bs").delete_),c("bs_int64").to_string(u.inviterId),d("MAWJids").groupIdFromJid(a));return b("Promise").resolve()})});else return b("Promise").resolve()}));return t({closeParentDialogCallback:function(a){return c("bs_curry")._1(e)},inviter:u,onClose:function(a){},thread:f},function(a){})},testid:"maw-group-invite-delete-button"},size:"medium",title:h._("__JHASH__CB5kGBWpU10__JHASH__"),withCloseButton:!0,children:[i.jsxs("div",{className:"xyamay9 x1l90r2v",children:[i.jsx("div",{className:"xwib8y2 x2b8uid",children:i.jsx(d("MWThreadPicture.bs").make,{badgeSize:10,photoSize:"s_60",thread:f})}),i.jsx("div",{className:"x1l90r2v x2b8uid",children:i.jsx(c("MWDialogText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized",children:i.jsx(d("LSThreadTitle.bs").make,{thread:f})})}),i.jsx("div",{className:"xwib8y2 x2b8uid",children:i.jsx(c("MWDialogText.react"),{color:"primary",type:"body",children:h._("__JHASH__8FWygrQd6jj__JHASH__",[h._param("GroupCreator",y)])})}),i.jsx("div",{className:"xwib8y2 x2b8uid",children:i.jsx(c("MWDialogText.react"),{color:"secondary",type:"body",children:h._("__JHASH__16D2I-gMAJy__JHASH__",[h._plural(A,"number")])})}),i.jsx("div",{className:"xwib8y2 x2b8uid",children:i.jsx(c("MWDialogText.react"),{color:"secondary",type:"body",children:h._("__JHASH__3ySLl-cIGrY__JHASH__")})})]}),i.jsx(c("MWDialogSection.react"),{headline:h._("__JHASH__xq1ar9Ecasz__JHASH__",[h._param("GroupSize",x,[0])]),children:i.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:i.jsx(c("MWLSGroupMembershipMemberList.bs"),{participantsAndContacts:p.map(function(a){var b=a[0];a=a[1];return{contact:a,participant:b,type:d("MWGroupMembershipListItem.bs").MWGroupMembershipMemberTypes.ParticipantAndContact}}),showAdmodIndicator:w,showAdmodsOnly:!1,showInvitedByViewerOnly:!1,thread:f})})}),i.jsx("div",{className:"x1iorvi4 xjkvuk6",children:i.jsx("div",{className:"xwib8y2 x2b8uid",children:i.jsx(c("MWTextPairing.react"),{body:h._("__JHASH__OpNpn5jXmng__JHASH__"),bodyColor:"secondary",headline:z,headlineColor:"secondary",textAlign:"center"})})})]})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.$MAWJob$Deferred=j;g.$MessageRequestsLog$Deferred=k;g.$MessageRequestsLog$Deferred$1=l;g.$MessageRequestsLog$Deferred$2=m;g.make=f}),98);
__d("MAWGroupInviteDialog.react",["MAWGroupInviteDialog.bs"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=d("MAWGroupInviteDialog.bs").make}),98);