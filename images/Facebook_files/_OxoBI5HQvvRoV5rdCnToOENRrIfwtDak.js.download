;/*FB_PKG_DELIM*/

__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("game_id",c.i64.to_string(a[1])),d[1].set("muted_user_id",c.i64.to_string(a[0])),d[1].set("owner_id",c.i64.to_string(d[0])),d[1].set("user_action_type",a[2]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,13],d[2])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSDeleteReaction",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(8).fetch([[[a[0],a[1],a[2]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.actorId,a[2])&&b.i64.eq([0,0],[0,0])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessageWithAttachments",["LSArrayGetObjectAt","LSLocalApplyOptimisticMessage","LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],f,a[7],a[8],a[9],a[10],f,a[12],!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.loopAsync(d[2],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[11],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return d[6]=d[4].get("attachment_fbid"),d[4],d[7]=d[4].get("offline_attachment_id"),d[4],d[8]=d[4].get("attachment_type"),d[4],d[9]=d[4].get("filename"),d[4],d[10]=d[4].get("filesize"),d[4],d[11]=d[4].get("attachment_index"),d[4],d[12]=d[4].get("has_media"),d[4],d[13]=d[4].get("has_xma"),d[4],d[14]=d[4].get("playable_url"),d[4],d[15]=d[4].get("playable_url_mime_type"),d[4],d[16]=d[4].get("playable_duration_ms"),d[4],d[17]=d[4].get("preview_url"),d[4],d[18]=d[4].get("preview_url_mime_type"),d[4],d[19]=d[4].get("mini_preview"),d[4],d[20]=d[4].get("preview_width"),d[4],d[21]=d[4].get("preview_height"),d[4],d[22]=d[4].get("xma_layout_type"),d[4],d[23]=d[4].get("xmas_template_type"),d[4],d[24]=d[4].get("cta1_title"),d[4],d[25]=d[4].get("cta2_title"),d[4],d[26]=d[4].get("cta3_title"),d[4],d[27]=d[4].get("image_url"),d[4],d[28]=d[4].get("action_url"),d[4],d[29]=d[4].get("title_text"),d[4],d[30]=d[4].get("subtitle_text"),d[4],d[31]=d[4].get("description_text"),d[4],d[32]=d[4].get("source_text"),d[4],d[33]=d[4].get("original_file_hash"),d[4],d[34]=d[4].get("sound_bite_client_sound_key"),d[4],d[35]=d[4].get("sound_bite_visual"),d[4],d[36]=d[4].get("ephemeral_media_state"),d[4],c.ftr(c.db.table(16).fetch([[[a[1],d[0],d[6]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&b.messageId===d[0]&&b.attachmentFbid===d[6]&&c.i64.gt(b.authorityLevel,[0,20])}).next().then(function(b){var e=b.done;b.value;return e?c.db.table(16).put({threadKey:a[1],messageId:d[0],attachmentFbid:d[6],timestampMs:d[1],offlineAttachmentId:d[7],attachmentType:d[8],filename:d[9],filesize:d[10],attachmentIndex:d[11],hasMedia:d[12],hasXma:d[13],isSharable:!1,playableUrl:d[14],playableUrlMimeType:d[15],playableDurationMs:d[16],previewUrl:d[17],previewUrlMimeType:d[18],miniPreview:d[19],previewWidth:d[20],previewHeight:d[21],xmaLayoutType:d[22],xmasTemplateType:d[23],cta1Title:d[24],cta2Title:d[25],cta3Title:d[26],imageUrl:d[27],actionUrl:d[28],titleText:d[29],subtitleText:d[30],descriptionText:d[31],sourceText:d[32],ephemeralMediaState:d[36],originalFileHash:d[33],authorityLevel:[0,20]}):0})}])}):c.resolve()},function(e){return d[2]=c.i64.of_int32(a[11].length),c.i64.gt(d[2],[0,0])?c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[1],a[3],!1,c.i64.neq(a[6],f)):c.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMessagePointQuery",["LSIssueNewTask","LSVerifyThreadRowExists"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&b.messageId===a[1]}).next().then(function(e,g){var h=e.done;e=e.value;return h?c.seq([function(d){return c.sp(b("LSVerifyThreadRowExists"),a[0],a[2],[0,1])},function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[1]=[0,1]:(e=b.item,d[7]=e.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=[0,1],d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("message_id",a[1]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),[0,19],d[5],f,f,[0,0],[0,0],f,f,[0,0])}]):(g=e.item,d[1]=g.timestampMs,c.ftr(c.db.table(13).fetch([[[a[0],{lte:d[1]}]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.le(b.minTimestampMs,d[1])&&c.i64.ge(b.maxTimestampMs,d[1])}).next().then(function(g){var e=g.done;g.value;return e?c.seq([function(b){return c.db.table(13).add({threadKey:a[0],minTimestampMs:[0,0],minMessageId:a[1],maxTimestampMs:[0,0],maxMessageId:a[1],isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:!1,hasMoreAfter:!1})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(b,e){var a=b.done;b=b.value;return a?d[2]=[0,1]:(e=b.item,d[8]=e.syncGroup,c.i64.neq(d[8],f)?d[7]=d[8]:d[7]=[0,1],d[2]=d[7])})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("message_id",a[1]),d[4].set("sync_group",d[2]),d[5]=d[4].get("thread_key"),d[4],d[6]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[5]),[0,19],d[6],f,f,[0,0],[0,0],f,f,[0,0])}]):0}))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReaction",["LSCancelTaskByQueueName","LSDeleteReaction","LSIssueNewTask","LSUpsertReaction"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[0]=d[18])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("timestamp_ms",a[1]),d[2].set("message_id",a[2]),d[2].set("actor_id",a[3]),d[2].set("reaction",a[4]),d[2].set("reaction_style",f),d[2].set("sync_group",d[0]),d[3]=c.createArray(),d[4]=(d[3].push("reaction"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),c.sp(b("LSCancelTaskByQueueName"),d[7],[0,29])},function(e){return a[4]===""?c.seq([function(d){return c.sp(b("LSDeleteReaction"),a[0],a[2],a[3])},function(a){return d[8]=f}]):c.seq([function(e){return a[4]==="\u2764\ufe0f"||a[4]==="\u2764\ufe0f"?d[18]="\u2764":d[18]=a[4],c.sp(b("LSUpsertReaction"),a[0],a[1],a[2],a[3],d[18],[0,20])},function(a){return d[8]=f}])},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=[0,1]:(b=a.item,d[19]=b.syncGroup,c.i64.neq(d[19],f)?d[18]=d[19]:d[18]=[0,1],d[9]=d[18])})},function(e){return d[11]=new c.Map(),d[11].set("thread_key",a[0]),d[11].set("timestamp_ms",a[1]),d[11].set("message_id",a[2]),d[11].set("actor_id",a[3]),d[11].set("reaction",a[4]),d[11].set("reaction_style",f),d[11].set("sync_group",d[9]),d[12]=c.createArray(),d[13]=(d[12].push("reaction"),d[12]),d[14]=d[11].get("message_id"),d[11],d[15]=(d[12].push(d[14]),d[12]),d[16]=c.toJSON(d[12]),d[17]=c.toJSON(d[11]),c.sp(b("LSIssueNewTask"),d[16],[0,29],d[17],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticUpsertReactionV2",["LSCancelTaskByQueueName","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return c.i64.eq(a[8],[0,2])?(d[10]=new c.Map(),d[10].set("thread_id",a[1]),d[10].set("message_id",a[2]),d[10].set("message_timestamp",a[3]),d[10].set("actor_id",a[0]),d[10].set("reaction_fbid",a[4]),d[10].set("reaction_style",a[7]),d[10].set("operation",a[8]),d[10].set("viewer_is_reactor",a[6]),d[10].set("current_count",a[5]),d[11]=c.createArray(),d[12]=(d[11].push("reaction_v2"),d[11]),d[13]=d[10].get("message_id"),d[10],d[14]=(d[11].push(d[13]),d[11]),d[15]=c.toJSON(d[11]),c.sp(b("LSCancelTaskByQueueName"),d[15],[0,604])):c.resolve()},function(b){return c.i64.eq(a[8],[0,2])?d[0]=c.i64.add(a[5],[-1,4294967295]):d[0]=c.i64.add(a[5],[0,1]),c.i64.eq(a[8],[0,2])?d[1]=!1:d[1]=!0,d[9]=c.i64.of_float(Date.now()),c.db.table(226).fetch([[[a[1],a[2],a[4]]]]).next().then(function(b,e){var f=b.done;b=b.value;return f?c.db.table(12).fetch([[[a[2]]],"messageId"]).next().then(function(e,f){var b=e.done;e=e.value;return b?0:(f=e.item,c.seq([function(b){return c.fe(c.ftr(c.db.table(226).fetch([[[a[1],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[2]&&c.i64.eq(b.reactionFbid,a[4])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(226).add({messageId:a[2],threadKey:a[1],reactionFbid:a[4],messageTimestamp:f.timestampMs,authorityLevel:[0,20],count:d[0],viewerIsReactor:d[1],viewerReactionTimestampMs:[0,0],lastUpdatedTimestampMs:d[9]})}]))}):(e=b.item,d[12]=e.lastUpdatedTimestampMs,d[11]=e.authorityLevel,c.i64.eq([0,20],[0,20])||c.i64.eq(d[11],[0,80])&&c.i64.eq([0,20],[0,80])||c.i64.eq(d[11],[0,20])&&c.i64.eq([0,20],[0,80])&&c.i64.le(c.i64.add(d[12],[0,2e3]),d[9])||c.i64.eq(d[11],[0,20])&&c.i64.eq([0,20],[0,60])||c.i64.eq(d[11],[0,60])&&c.i64.eq([0,20],[0,80])&&c.i64.le(d[12],d[9])?d[13]=!0:d[13]=!1,d[13]?c.db.table(226).put({messageId:a[2],threadKey:a[1],reactionFbid:a[4],messageTimestamp:e.messageTimestamp,count:d[0],authorityLevel:[0,20],viewerIsReactor:d[1],viewerReactionTimestampMs:[0,0],lastUpdatedTimestampMs:d[9]}):c.resolve())})},function(e){return d[2]=new c.Map(),d[2].set("thread_id",a[1]),d[2].set("message_id",a[2]),d[2].set("message_timestamp",a[3]),d[2].set("actor_id",a[0]),d[2].set("reaction_fbid",a[4]),d[2].set("reaction_style",a[7]),d[2].set("current_count",a[5]),d[2].set("viewer_is_reactor",a[6]),d[2].set("operation",a[8]),d[3]=c.createArray(),d[4]=(d[3].push("reaction_v2"),d[3]),d[5]=d[2].get("message_id"),d[2],d[6]=(d[3].push(d[5]),d[3]),d[7]=c.toJSON(d[3]),d[8]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),d[7],[0,604],d[8],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateBotSubscription",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",c.i64.to_string(a[0])),d[0].set("user_action_type",a[1]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",[0,12],d[1])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateDraftMessage",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({draftMessage:a[1]===""||a[1]===d?d:a[1]})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSInsertNewMediaSend",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(51).add({offlineAttachmentId:a[0],offlineThreadingId:a[1],inMessageIndex:a[2],attachmentType:a[3],shouldTranscode:a[4],useDoublePhase:a[5],sendByServer:a[6],isSecure:a[7],state:a[4]?[0,1]:[0,3]})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5057684004334977"}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5777681612252102"}),null);
__d("MWCommunityMessagingNUXQuickPromotionQuery$Parameters",["MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWCommunityMessagingNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5764908406904584"}),null);
__d("MWPublicChatsNUXQuickPromotionQuery$Parameters",["MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWPublicChatsNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWPublicChatsNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWChatUserBirthdayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4679476245513562"}),null);
__d("MWChatUserBirthdayQuery.graphql",["MWChatUserBirthdayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Date",kind:"LinkedField",name:"birthdate",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"year",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserBirthdayQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserBirthdayQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserBirthdayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5146654855396537"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:a},params:{id:b("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5063442323698780"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatUserProfileLocationQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4696875653751924"}),null);
__d("MWChatUserProfileLocationQuery.graphql",["MWChatUserProfileLocationQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"region",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserProfileLocationQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWChatUserProfileLocationQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserProfileLocationQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useCometDynamicEntryPointDialog",["CometDialogContext","CometDialogLoadingState.react","CometRelay","CometSuspendedDialogImpl.react","clearTimeout","react","setTimeout","tracePolicyFromResource","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useContext,k=b.useEffect,l=b.useRef;function m(a){var b=a.entryPoint,e=a.environmentProvider,f=a.onClose,g=a.otherProps,i=a.preloadedEntryPoint,j=a.preloadParams;a=d("CometRelay").useEntryPointLoader(e,b);var m=a[0],n=a[1],o=a[2],p=(e=m)!=null?e:i,q=l(null);k(function(){q.current!=null&&(c("clearTimeout")(q.current),q.current=null);p.isDisposed&&n(j);return function(){q.current=c("setTimeout")(function(){m?o():i.dispose(),q.current=null},6e4)}},[o,p.isDisposed,i,j,n,m]);b=babelHelpers["extends"]({},g,{onClose:f});return h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:i,props:b})}m.displayName=m.name+" [from "+f.id+"]";var n=function(a){return h.jsx(c("CometDialogLoadingState.react"),{onClose:a})};function a(a,b,e){var f=c("useCometRelayEntrypointContextualEnvironmentProvider")(),g=j(c("CometDialogContext"));return i(function(h,i,j,k){var l=d("CometRelay").loadEntryPoint(f,a,h),o=m,p=function(){j&&j.apply(void 0,arguments);var a=l==null?void 0:l.dispose;a&&a()};g(c("CometSuspendedDialogImpl.react"),{dialog:o,dialogProps:{entryPoint:a,environmentProvider:f,otherProps:i,preloadedEntryPoint:l,preloadParams:h},fallback:(o=e)!=null?o:n},{loadType:"entrypoint",preloadTrigger:b,tracePolicy:(i=k)!=null?i:c("tracePolicyFromResource")("comet.dialog",a.root)},p)},[f,a,g,e,b])}g["default"]=a}),98);
__d("CometPhotoGrid.react",["CometAspectRatioContainer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return a<2&&b%3===2}function a(a){var b=a.spacing,d=b===void 0?"narrow":b;b=a.uniformGrid;var e=b===void 0?!1:b;b=babelHelpers.objectWithoutPropertiesLoose(a,["spacing","uniformGrid"]);a=h.Children.toArray(b.children);var f=a.length;return h.jsx("div",{className:"x78zum5 x1q0g3np x1a02dak"+(d==="wide"?" x1198e8h xj3m2qm x1huwwth x1uirj4r":""+(d==="narrow"?" x1kgmq87 xwrv7xz xmgb6t1 x8182xy":"")),children:h.Children.map(a,function(a,b){return h.jsx("div",{className:"x9f619"+((!e&&i(b,f)?" x4pfjvb":" x1yu6fn4"+(d==="narrow"?"":""+(d==="wide"?"":"")))+(d==="narrow"?" x1nn3v0j xg83lxy x1120s5i x1h0ha7o":""+(d==="wide"?" xyqdw3p x10ogl3i xg8j3zb x1k2j06m":""))),children:h.jsx(c("CometAspectRatioContainer.react"),{aspectRatio:1,children:a})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.routeProps;var c=a.adminActivityID,e=a.groupID;a=a.isManagementActivityLogTargetProfilePlus;c={UFI2CommentsProvider_commentsKey:"GroupsCometAdminActivityLogItem",adminActivityID:c,displayCommentsContextEnableComment:null,displayCommentsContextIsAdPreview:null,displayCommentsContextIsAggregatedShare:null,displayCommentsContextIsStorySet:null,displayCommentsFeedbackContext:null,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:e,isManagementActivityLogTargetProfilePlus:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:d("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:b("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:c}}}},root:c("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join(""),i=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;";function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({disallowedChars:i,minMatchLength:a,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("MessengerLexicalEntityTextNode",["Lexical","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(){return b.apply(this,arguments)||this}var d=a.prototype;d.getEntity=function(){throw c("unrecoverableViolation")("CometMessengerLexicalEntityTextNode does not implement getEntity","messenger_comet")};return a}(d("Lexical").TextNode);function a(a){return a instanceof h}g.MessengerLexicalEntityTextNode=h;g.isMessengerLexicalEntityTextNode=a}),98);
__d("MessengerLexicalActorNode",["MessengerLexicalEntityTextNode"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.replace(" name","");a=a.replace(" nickname","");return a}var i=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"actor"};a.clone=function(b){return new a({id:b.__contactID,prefix:b.__prefix,text:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return j({id:a.id,prefix:a.prefix,text:a.text})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:this.__text.slice(1),type:"actor"})};function a(a,c){var d=a.id,e=a.prefix;e=e===void 0?"@":e;a=a.text;a=b.call(this,""+e+a,c)||this;a.__contactID=h(d);a.__prefix=e;return a}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);(this.__prefix==="@"||this.__prefix==="#")&&(a.className="xv78j7m xt0e3qv");a.spellcheck=!1;return a};c.getEntity=function(){return{id:this.__contactID,isWeak:!1}};return a}(d("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function j(a){return new i(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof i}g.MessengerLexicalActorNode=i;g.$createMessengerLexicalActorNode=j;g.$isMessengerLexicalActorNode=a}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","UserAgent","gkx","useLayoutEffect_SAFE_FOR_SSR"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("useLayoutEffect_SAFE_FOR_SSR")(function(){return a.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(e){e=e;if(e!=null&&!e.shiftKey&&!e.altKey&&(c("gkx")("6934")?c("UserAgent").isPlatform("Mac OS X")?e.metaKey&&!e.ctrlKey:e.ctrlKey&&!e.metaKey:!e.ctrlKey&&!e.metaKey)){e.preventDefault();a.dispatchCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,"create");b();return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[a,b])}g["default"]=a}),98);
__d("MWTooltipGroup.react",["cr:11874"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11874")}),98);
__d("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWCommunityMessagingNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWCommunityMessagingNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCommunityMessagingNUXQuickPromotion.react").__setRef("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWPublicChatsNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWPublicChatsNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryRef:{parameters:c("MWPublicChatsNUXQuickPromotionQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWPublicChatsNUXQuickPromotion.react").__setRef("MWPublicChatsNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MAWEphemeralConsts.bs",["WATimeUtils"],(function(a,b,c,d,e,f){"use strict";a=300;c=600;d=900;e=1800;var g=(b=b("WATimeUtils")).HOUR_SECONDS,h=Math.imul(b.HOUR_SECONDS,6),i=Math.imul(b.HOUR_SECONDS,12),j=b.DAY_SECONDS;b=Math.imul(b.DAY_SECONDS,14);var k=60,l=1e3,m=5,n=10,o=30,p=60,q=h;f.minuteSeconds=k;f.msPerSec=l;f.fiveSeconds=m;f.tenSeconds=n;f.thirtySeconds=o;f.oneMinuteInSeconds=p;f.fiveMinutesInSeconds=a;f.tenMinutesInSeconds=c;f.fifteenMinutesInSeconds=d;f.thirtyMinutesInSeconds=e;f.oneHourInSeconds=g;f.sixHoursInSeconds=h;f.twelveHoursInSeconds=i;f.oneDayInSeconds=j;f.ephemeralMaxDelectionWindowForUnseenMessage=b;f.ephemeralReportingWindowInSeconds=q}),null);
__d("MessengerFilePreviewGenerationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("606");c=b("FalcoLoggerInternal").create("messenger_file_preview_generation",a);e.exports=c}),null);
__d("MessengerFilePreviewGenerationFalcoEvent.bs",["MessengerFilePreviewGenerationFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("MessengerFilePreviewGenerationFalcoEvent").log(a)}function b(a){c("MessengerFilePreviewGenerationFalcoEvent").logAsync(a)}function d(a){c("MessengerFilePreviewGenerationFalcoEvent").logImmediately(a)}function e(a){c("MessengerFilePreviewGenerationFalcoEvent").logCritical(a)}g.log=a;g.logAsync=b;g.logImmediately=d;g.logCritical=e}),98);
__d("MWFileViewerLogger.bs",["MessengerFilePreviewGenerationFalcoEvent.bs","bs_belt_Option","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","gkx"],(function(a,b,c,d,e,f,g){"use strict";function b(b){b=function(){return Array.from((a.crypto||a.msCrypto).getRandomValues(new Uint32Array(2)))};return c("bs_int64").to_string(c("bs_curry")._1(b))}var h=c("gkx")("1016");function i(a,b){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(b.attachmentID),entry_point:b.entryPoint,event:a,filesize:c("bs_belt_Option").flatMap(b.attachment,function(a){return c("bs_belt_Option").map(a.filesize,c("bs_int64").to_string)}),filetype:c("bs_belt_Option").flatMap(b.attachment,function(a){return a.playableUrlMimeType}),is_rich_preview:b.isRichPreview,message_id:b.messageID.messageId,session_id:b.sessionId,thread_id:c("bs_int64").to_string(b.thread.threadKey),thread_type:c("bs_caml_int64").to_int32(b.thread.threadType)}})}function e(a){return i("file_viewer_click",a)}function f(a){return i("file_viewer_direct_download",a)}function j(a,b){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(b.attachmentId),entry_point:c("bs_caml_option").nullable_to_opt(b.entryPoint),event:a,file_pages:c("bs_caml_option").nullable_to_opt(b.filePages),filesize:c("bs_caml_option").nullable_to_opt(b.filesize),filetype:c("bs_caml_option").nullable_to_opt(b.filetype),message_id:b.messageId,session_id:b.sessionId,target_id:c("bs_caml_option").nullable_to_opt(b.targetId),thread_id:c("bs_caml_option").some(b.threadId),thread_type:c("bs_caml_option").nullable_to_opt(b.threadType)}})}function k(a){return j("file_viewer_impression",a)}function l(a){return j("file_viewer_fallback",a)}function m(a){return j("file_viewer_download_from_header",a)}function n(a){return j("file_viewer_download_from_fallback",a)}function o(a){return j("file_viewer_open_forward_dialog",a)}function p(a){return j("file_viewer_forward",a)}function q(a){if(h)return d("MessengerFilePreviewGenerationFalcoEvent.bs").log(function(){return{attachment_id:c("bs_caml_option").some(a.attachmentId),entry_point:c("bs_caml_option").nullable_to_opt(a.entryPoint),event:"file_viewer_close",file_pages:c("bs_caml_option").nullable_to_opt(a.filePages),filesize:c("bs_caml_option").nullable_to_opt(a.filesize),filetype:c("bs_caml_option").nullable_to_opt(a.filetype),max_scroll_depth:c("bs_caml_option").nullable_to_opt(a.maxScrollDepth),message_id:a.messageId,session_duration:c("bs_caml_option").nullable_to_opt(a.sessionDuration),session_id:a.sessionId,thread_id:c("bs_caml_option").some(a.threadId),thread_type:c("bs_caml_option").nullable_to_opt(a.threadType)}})}b=b;e=e;f=f;k=k;l=l;m=m;n=n;o=o;p=p;q=q;g.generateSessionId=b;g.logFileViewerClick=e;g.logFileViewerDirectDownload=f;g.logFileViewerImpression=k;g.logFileViewerFallback=l;g.logFileViewerDownloadFromHeader=m;g.logFileViewerDownloadFromFallback=n;g.logFileViewerOpenForwardDialog=o;g.logFileViewerForward=p;g.logFileViewerClose=q}),98);
__d("MWChatComposerIcons.bs",["cr:1755987"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMWChatComposerIcons$OR$TetraMWChatComposerIcons$requireCond=a=b("cr:1755987");g.Gif=a.Gif;g.Sticker=a.Sticker;g.Photo=a.Photo;g.MoreActions=a.MoreActions;g.Emoji=a.Emoji;g.PaperclipSVG=a.PaperclipSVG;g.Paperclip=a.Paperclip;g.Pin=a.Pin;g.Camera=a.Camera;g.Microphone=a.Microphone;g.Poll=a.Poll;g.Currency=a.Currency}),98);
__d("MWUseAriaDescribedByForComposer.bs",["fbt","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","intlList","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a.contactId,tl:0}))})},[b,JSON.stringify(a.threadKey)]));return i.useMemo(function(){var b=a.threadName;if(b!==void 0)return h._("__JHASH__AZYBx6Ry0lI__JHASH__",[h._param("name of conversation",b)]).toString();var d=[];f.forEach(function(a){if(a!==void 0&&c("bs_caml").i64_neq(a.id,e)){d.push(a.name);return}});b=c("intlList")(d,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__a-kg7czmDb1__JHASH__",[h._param("participant list",b)]).toString()},[JSON.stringify(a.threadKey),JSON.stringify(e)])}b=a;g.useHook=b}),98);
__d("MWChatChatButtonColorConstants.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};g.styles=a}),98);
__d("TetraMWChatComposerIcons.bs",["ix","MWIcon.react","bs_caml_option","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={fillGrey:{fill:"xsrhx6k",$$css:!0},icon:{display:"x1lliihq",transitionDuration:"x1k90msu",transitionProperty:"x13hzchw",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};function a(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 16 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsx("path",{d:"M.783 12.705c.4.8 1.017 1.206 1.817 1.606 0 0 1.3.594 2.5.694 1 .1 1.9.1 2.9.1s1.9 0 2.9-.1 1.679-.294 2.479-.694c.8-.4 1.157-.906 1.557-1.706.018 0 .4-1.405.5-2.505.1-1.2.1-3 0-4.3-.1-1.1-.073-1.976-.473-2.676-.4-.8-.863-1.408-1.763-1.808-.6-.3-1.2-.3-2.4-.4-1.8-.1-3.8-.1-5.7 0-1 .1-1.7.1-2.5.5s-1.417 1.1-1.817 1.9c0 0-.4 1.484-.5 2.584-.1 1.2-.1 3 0 4.3.1 1 .2 1.705.5 2.505zm10.498-8.274h2.3c.4 0 .769.196.769.696 0 .5-.247.68-.747.68l-1.793.02.022 1.412 1.252-.02c.4 0 .835.204.835.704s-.442.696-.842.696H11.82l-.045 2.139c0 .4-.194.8-.694.8-.5 0-.7-.3-.7-.8l-.031-5.631c0-.4.43-.696.93-.696zm-3.285.771c0-.5.3-.8.8-.8s.8.3.8.8l-.037 5.579c0 .4-.3.8-.8.8s-.8-.4-.8-.8l.037-5.579zm-3.192-.825c.7 0 1.307.183 1.807.683.3.3.4.7.1 1-.2.4-.7.4-1 .1-.2-.1-.5-.3-.9-.3-1 0-2.011.84-2.011 2.14 0 1.3.795 2.227 1.695 2.227.4 0 .805.073 1.105-.127V8.6c0-.4.3-.8.8-.8s.8.3.8.8v1.8c0 .2.037.071-.063.271-.7.7-1.57.991-2.47.991C2.868 11.662 1.3 10.2 1.3 8s1.704-3.623 3.504-3.623z",fill:b,fillRule:"nonzero"})})}a.displayName=a.name+" [from "+f.id+"]";a={make:a};function b(a){var b=a.fill,d=a.size;a=a.xstyle;a=a===void 0?null:a;return i.jsx("svg",{className:c("stylex")(j.icon,j.fillGrey,a),height:String(d)+"px",viewBox:"0 0 17 16",width:String(d)+"px",x:"0px",y:"0px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("circle",{cx:"5.5",cy:"5.5",fill:"none",r:"1"}),i.jsx("circle",{cx:"11.5",cy:"4.5",fill:"none",r:"1"}),i.jsx("path",{d:"M5.3 9c-.2.1-.4.4-.3.7.4 1.1 1.2 1.9 2.3 2.3h.2c.2 0 .4-.1.5-.3.1-.3 0-.5-.3-.6-.8-.4-1.4-1-1.7-1.8-.1-.2-.4-.4-.7-.3z",fill:"none"}),i.jsx("path",{d:"M10.4 13.1c0 .9-.4 1.6-.9 2.2 4.1-1.1 6.8-5.1 6.5-9.3-.4.6-1 1.1-1.8 1.5-2 1-3.7 3.6-3.8 5.6z",fill:b}),i.jsx("path",{d:"M2.5 13.4c.1.8.6 1.6 1.3 2 .5.4 1.2.6 1.8.6h.6l.4-.1c1.6-.4 2.6-1.5 2.7-2.9.1-2.4 2.1-5.4 4.5-6.6 1.3-.7 1.9-1.6 1.9-2.8l-.2-.9c-.1-.8-.6-1.6-1.3-2-.7-.5-1.5-.7-2.4-.5L3.6 1.5C1.9 1.8.7 3.4 1 5.2l1.5 8.2zm9-8.9c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1zm-3.57 6.662c.3.1.4.4.3.6-.1.3-.3.4-.5.4h-.2c-1-.4-1.9-1.3-2.3-2.3-.1-.3.1-.6.3-.7.3-.1.5 0 .6.3.4.8 1 1.4 1.8 1.7zM5.5 5.5c.6 0 1 .4 1 1s-.4 1-1 1-1-.4-1-1 .4-1 1-1z",fill:b,fillRule:"nonzero"})]})})}b.displayName=b.name+" [from "+f.id+"]";b={make:b};function e(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var e=b===void 0?"xsrhx6k":void 0,f=b===void 0?"x1dmfqyo":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 -1 17 17",width:String(d)+"px",children:i.jsxs("g",{fill:"none",fillRule:"evenodd",children:[i.jsx("path",{className:e,d:"M2.882 13.13C3.476 4.743 3.773.48 3.773.348L2.195.516c-.7.1-1.478.647-1.478 1.647l1.092 11.419c0 .5.2.9.4 1.3.4.2.7.4.9.4h.4c-.6-.6-.727-.951-.627-2.151z",fill:b}),i.jsx("circle",{className:e,cx:"8.5",cy:"4.5",fill:b,r:"1.5"}),i.jsx("path",{className:e,d:"M14 6.2c-.2-.2-.6-.3-.8-.1l-2.8 2.4c-.2.1-.2.4 0 .6l.6.7c.2.2.2.6-.1.8-.1.1-.2.1-.4.1s-.3-.1-.4-.2L8.3 8.3c-.2-.2-.6-.3-.8-.1l-2.6 2-.4 3.1c0 .5.2 1.6.7 1.7l8.8.6c.2 0 .5 0 .7-.2.2-.2.5-.7.6-.9l.6-5.9L14 6.2z",fill:b}),i.jsx("path",{className:f,d:"M13.9 15.5l-8.2-.7c-.7-.1-1.3-.8-1.3-1.6l1-11.4C5.5 1 6.2.5 7 .5l8.2.7c.8.1 1.3.8 1.3 1.6l-1 11.4c-.1.8-.8 1.4-1.6 1.3z",stroke:b,strokeLinecap:"round",strokeLinejoin:"round"})]})})}e.displayName=e.name+" [from "+f.id+"]";e={make:e};function k(a){var b=a.fill,c=a.isRotated;a=a.size;return i.jsx("svg",{className:"x1lliihq x1k90msu x13hzchw x1qfuztq xsrhx6k"+(c?" x1158fpu":" x7p49u4"),height:String(a)+"px",viewBox:"0 0 24 24",width:String(a)+"px",children:i.jsxs("g",{fillRule:"evenodd",children:[i.jsx("polygon",{fill:"none",points:"-6,30 30,30 30,-6 -6,-6 "}),i.jsx("path",{d:"m18,11l-5,0l0,-5c0,-0.552 -0.448,-1 -1,-1c-0.5525,0 -1,0.448 -1,1l0,5l-5,0c-0.5525,0 -1,0.448 -1,1c0,0.552 0.4475,1 1,1l5,0l0,5c0,0.552 0.4475,1 1,1c0.552,0 1,-0.448 1,-1l0,-5l5,0c0.552,0 1,-0.448 1,-1c0,-0.552 -0.448,-1 -1,-1m-6,13c-6.6275,0 -12,-5.3725 -12,-12c0,-6.6275 5.3725,-12 12,-12c6.627,0 12,5.3725 12,12c0,6.6275 -5.373,12 -12,12",fill:b})]})})}k.displayName=k.name+" [from "+f.id+"]";k={make:k};function l(a){var b=a.fill,d=a.size;a=a.xstyle;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;var e=b===void 0?"xsrhx6k":void 0;return i.jsx("svg",{className:c("stylex")(j.icon,a),height:String(d)+"px",viewBox:"0 0 38 38",width:String(d)+"px",children:i.jsx("g",{fill:"none",fillRule:"evenodd",children:i.jsx("g",{transform:"translate(-893.000000, -701.000000)",children:i.jsx("g",{transform:"translate(709.000000, 314.000000)",children:i.jsx("g",{children:i.jsx("path",{className:e,d:"M210.5,405 C209.121,405 208,403.879 208,402.5 C208,401.121 209.121,400 210.5,400 C211.879,400 213,401.121 213,402.5 C213,403.879 211.879,405 210.5,405 M212.572,411.549 C210.428,413.742 206.938,415 203,415 C199.062,415 195.572,413.742 193.428,411.549 C192.849,410.956 192.859,410.007 193.451,409.428 C194.045,408.85 194.993,408.859 195.572,409.451 C197.133,411.047 199.909,412 203,412 C206.091,412 208.867,411.047 210.428,409.451 C211.007,408.859 211.956,408.85 212.549,409.428 C213.141,410.007 213.151,410.956 212.572,411.549 M195.5,400 C196.879,400 198,401.121 198,402.5 C198,403.879 196.879,405 195.5,405 C194.121,405 193,403.879 193,402.5 C193,401.121 194.121,400 195.5,400 M203,387 C192.523,387 184,395.523 184,406 C184,416.477 192.523,425 203,425 C213.477,425 222,416.477 222,406 C222,395.523 213.477,387 203,387",fill:b})})})})})})}l.displayName=l.name+" [from "+f.id+"]";l={make:l};function m(a){var b=a.fill,d=a.size;a=a.xstyle;a!==void 0&&c("bs_caml_option").valFromOption(a);a=b===void 0?"xsrhx6k":void 0;return i.jsx("svg",{fill:"none",height:String(d)+"px",viewBox:"3 2 20 20",width:String(d)+"px",children:i.jsx("path",{className:a,clipRule:"evenodd",d:"M14.307 7.485a5.102 5.102 0 017.205 7.223l-.01.01-4.717 4.583a1 1 0 01-1.394-1.434l4.711-4.578a3.102 3.102 0 00-4.39-4.38l-.018.016-8.094 7.71c-.802.81-.8 2.12.008 2.929.65.65 1.705.65 2.356 0l.01-.01 7.216-7.011a.64.64 0 00-.91-.901l-4.297 4.296a1 1 0 11-1.414-1.415l4.298-4.295A2.64 2.64 0 0118.6 13.96l-.01.011-7.219 7.012a3.666 3.666 0 01-5.178-.005 4.078 4.078 0 010-5.765l.017-.017 8.096-7.711z",fill:b,fillRule:"evenodd"})})}m.displayName=m.name+" [from "+f.id+"]";m={make:m};function n(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("528566"),20)})}n.displayName=n.name+" [from "+f.id+"]";n={make:n};function o(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("481942"),20)})}o.displayName=o.name+" [from "+f.id+"]";o={make:o};function p(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("550096"),20)})}p.displayName=p.name+" [from "+f.id+"]";p={make:p};function q(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("624149"),20)})}q.displayName=q.name+" [from "+f.id+"]";q={make:q};function r(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("577048"),20)})}r.displayName=r.name+" [from "+f.id+"]";r={make:r};function s(a){return i.jsx(c("MWIcon.react"),{color:"primary",icon:d("fbicon")._(h("480625"),20)})}s.displayName=s.name+" [from "+f.id+"]";f={make:s};g.Gif=a;g.Sticker=b;g.Photo=e;g.MoreActions=k;g.Emoji=l;g.PaperclipSVG=m;g.Paperclip=n;g.Pin=o;g.Camera=p;g.Microphone=q;g.Poll=r;g.Currency=f}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(b.length===0)return!0;var d=c("remove-accents")(b).toLowerCase();b=c("remove-accents")(a).toLowerCase();return b.split(" ").some(function(a){return a.startsWith(d)})||b.startsWith(d)}g.doesParticipantNameMatch=a}),98);
__d("MWChatComposerMentionsViewItem.react",["CometIcon.react","CometImageIcon_DEPRECATED.react","CometSearchMentionsBaseViewItem.react","TetraTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=d.handle;e=d.key;e=d.label;var f=d.rawData,g=f.icon,i=f.photoURI;f=f.subtitle;return h.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:d,children:h.jsxs("div",{className:"x6s0dn4 x78zum5 x1jzhcrs","data-testid":void 0,children:[g!=null&&h.jsx(c("CometIcon.react"),{color:"primary",disabled:!1,icon:g}),i!=null&&h.jsx("div",{className:"x1fgtraw xgd8bvy",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:28,src:i,style:"circle"})}),h.jsx("div",{className:"x16n37ib",children:h.jsx(c("TetraTextPairing.react"),{body:e,bodyLineLimit:1,level:3,meta:f,metaLineLimit:1})})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","MWChatComposerMentionsUtils","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";var i=6;function a(a,b,e,f){var g=a.query,j=[];b.forEach(function(a){var b=a.actualName,c=a.contactId,e=a.nickname,f=a.profilePictureUrl;a=a.secondaryName;var h=null;a!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(a,g)?h="secondaryName":d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,g)?h="name":e!=null&&d("MWChatComposerMentionsUtils").doesParticipantNameMatch(e,g)&&(h="nickname");if(h!=null&&f!=null){var i;j.push({decorType:"regular",handle:(i=a)!=null?i:h==="nickname"?(i=e)!=null?i:b:b,key:c+" "+h,label:b,rawData:{photoURI:f,source:h,subtitle:(i=a)!=null?i:e},type:"entry"})}});if(c("gkx")("1608686")){b=h._("__JHASH__ovEnf-Gks1s__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,g)){var k=h._("__JHASH__oEf5vzwfdeB__JHASH__").toString();j.push({decorType:"regular",handle:b,key:""+e,label:b,rawData:{source:"all",subtitle:k},type:"entry"})}b=h._("__JHASH__pCjH3XwrsJ-__JHASH__").toString();if(d("MWChatComposerMentionsUtils").doesParticipantNameMatch(b,g)){k=h._("__JHASH__l7GTPV1uQCP__JHASH__").toString();j.push({decorType:"regular",handle:b,key:e+"-active",label:b,rawData:{source:"all",subtitle:k},type:"entry"})}}j.length>i&&(j=j.slice(0,i));j.length<i&&f&&f(g,i-j.length);return{entries:j,params:a}}g.fetchCacheComposerMentionsTypeahead=a}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=[];this.$1=Array.from(a.values()).filter(function(a){return a.contactId!==c("CurrentUser").getID()});this.$2=b;this.$3=(a=d)!=null?a:null}var e=a.prototype;e.bootstrap=function(){return};e.fetchCache=function(a){return d("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(a,this.$1,this.$2,this.$3)};e.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();g["default"]=a}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["MWChatComposerMentionsTypeaheadDataSource","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","useCometMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.participants,d=a.threadFBID,e=a.triggerParticipantsSearch;a=h(function(){return[{dataSource:new(c("MWChatComposerMentionsTypeaheadDataSource"))(b,d,e),matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[b,d,e]);return c("useCometMentionsDataSourceResolverConfig")(a,!0)}g["default"]=a}),98);
__d("WorkXMAContentContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){return i.Provider}function b(a){return h.useContext(i)}g.xmaContentContext=i;g.getProvider=a;g.useHook=b}),98);
__d("MWChatPollFacepile.bs",["fbt","ix","CometImage.react","CometPressable.react","CometTintedIcon.react","JSResource","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","WorkXMAContentContext.bs","bs_belt_Option","bs_caml_option","bs_curry","fbicon","react","stylex","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={contact:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",$$css:!0},contactGapNegative:{marginStart:"xrzrlj5",$$css:!0},contactGapNormal:{marginStart:"xsgj6o6",$$css:!0},contactLarge:{height:"x10w6t97",width:"x1td3qas",$$css:!0},contactMedium:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},contactSmall:{height:"x1v9usgg",width:"x6jxa94",$$css:!0},contactWithBoarder:{borderTop:"xifua3y",borderEnd:"x4l9i0w",borderBottom:"xuf84vp",borderStart:"x1bf0f5m",$$css:!0},overflow:{backgroundColor:"x1vtvx1t",borderTopStartRadius:"x1rcc7c0",borderTopEndRadius:"xbtbmw4",borderBottomEndRadius:"x1lie4ck",borderBottomStartRadius:"x16hxpj1",color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"xk50ysn",lineHeight:"x1u7k74",marginStart:"xrzrlj5",paddingTop:"x1nn3v0j",paddingEnd:"x1sxyh0",paddingBottom:"x1120s5i",paddingStart:"xurb0ha",$$css:!0},overflowOverlay:{alignItems:"x6s0dn4",backgroundColor:"xdit8p8",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",justifyContent:"xl56j7k",opacity:"x1us6l5c",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",zIndex:"x1vjfegm",$$css:!0},photoWrap:{display:"x1rg5ohu",position:"x1n2onr6",$$css:!0},root:{display:"x78zum5",$$css:!0},rootReversed:{flexDirection:"x15zctf7",$$css:!0}};function l(a){var b=a.align,d=a.children,e=a.position;a=a.tooltip;if(a!==void 0)return j.jsx(c("MWTooltip.react"),{align:function(){switch(b){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:function(){switch(e){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:c("bs_caml_option").valFromOption(a),children:d});else return d}b={make:l};function a(a){var b=a.gap,e=a.direction,f=a.limit,g=a.contactWithBorder,m=a.overflowStyle,n=a.contacts,o=a.countOverride,p=a.optionId,q=a.size,r=b!==void 0?b:"normal",s=e!==void 0?e:"normal",t=f!==void 0?f:2,u=g!==void 0?g:!0,v=m!==void 0?m:"showTotalCount",w=n.length>t;if(w&&v==="showTotalCount"){a=n.slice(0,-t|0).reverse().filter(function(a){return a.name!==void 0}).map(function(a){a=a.name;if(a!==void 0)return a;else return""});b=a.length===0?void 0:c("bs_caml_option").some(j.jsx("ul",{children:a.map(function(a,b){return j.jsx("li",{children:a},String(b))})}));e=j.jsx(l,{align:"middle",position:"above",tooltip:b,children:j.jsx("div",{className:"x1vtvx1t x1rcc7c0 xbtbmw4 x1lie4ck x16hxpj1 xi81zsa x1nxh6w3 xk50ysn x1u7k74 xrzrlj5 x1nn3v0j x1sxyh0 x1120s5i xurb0ha",children:"+"+String((o!==void 0?o:n.length)-2|0)})})}else e=null;f=j.jsxs(c("MWTooltipGroup.react"),{children:[e,n.slice(-(w?t:1e3)|0).reverse().map(function(a,b){return j.jsxs("div",{className:c("stylex")(k.photoWrap,r==="normal"?k.contactGapNormal:k.contactGapNegative,q==="medium"?k.contactMedium:q==="small"?k.contactSmall:k.contactLarge),children:[j.jsx(l,{align:"middle",position:"above",tooltip:c("bs_belt_Option").map(a.name,function(a){return a}),children:j.jsx(c("CometImage.react"),{src:a.profile_picture_url,xstyle:[k.contact,q==="medium"?k.contactMedium:q==="small"?k.contactSmall:k.contactLarge,u?k.contactWithBoarder:!1]})}),w&&v==="overlayLastPhoto"&&b===(t-1|0)?j.jsx("div",{className:"x6s0dn4 xdit8p8 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ey2m1c x78zum5 xds687c xl56j7k x1us6l5c x6ikm8r x10wlt62 x10l6tqk x17qophe x13vifvy x1vjfegm",children:j.jsx(c("CometTintedIcon.react"),{color:"white",icon:d("fbicon")._(i("484386"),16)})}):null]},String(b))})]});var x=d("WorkXMAContentContext.bs").useHook();g=j.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context);var y=g.setIsDialogOpened,z=g.setFocused;if(p!==void 0&&x!==void 0){m=c("useCometLazyDialog")(c("JSResource")("ChatLSGeminiChatPollFacepileDialog.react").__setRef("MWChatPollFacepile.bs"));var A=m[0];return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__WPE2y-osfy7__JHASH__").toString(),onPress:function(a){c("bs_curry")._1(y,function(a){return!0});return A({onHide:function(a){c("bs_curry")._1(y,function(a){return!1});return c("bs_curry")._1(z,function(a){return!0})},optionId:p,pollId:x},function(a){})},overlayDisabled:!0,xstyle:function(a){return[k.root,s==="reversed"?k.rootReversed:!1]},children:f})}return j.jsx("div",{className:c("stylex")(k.root,s==="reversed"?k.rootReversed:!1),children:f})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.ConditionalTooltip=b;g.make=e}),98);
__d("MWInboxInfoPanelContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({isExpanded:void 0,isOnMemberRequestsPageRef:{current:!1},pushMemberRequestsPage:function(a){},setIsExpanded:function(a){},setPushMemberRequestsPage:function(a){},setShouldNavToMemberRequests:function(a){},shouldNavToMemberRequests:!1});function a(a){var b=a.children,c=a.isExpanded,d=a.setIsExpanded,e=h.useRef(!1),f=e.current,g=h.useRef(function(a){}),j=g.current,k=h.useRef(!1);a=h.useMemo(function(){return{isExpanded:c,isOnMemberRequestsPageRef:k,pushMemberRequestsPage:j,setIsExpanded:d,setPushMemberRequestsPage:function(a){g.current=a},setShouldNavToMemberRequests:function(a){e.current=a},shouldNavToMemberRequests:f}},[c,d,f,j,k]);return h.createElement(i.Provider,{children:b,value:a})}b=a;g.context=i;g.make=b}),98);
__d("MWCMBotIcons.react",["ix","cr:2344","cr:4919","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){if(b("cr:4919")!=null)return i.jsx("span",{className:"x1n2onr6 x1atx4j1",children:i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"4 4 24 24"})});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}a.displayName=a.name+" [from "+f.id+"]";function c(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:16,viewBox:"2 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("1108145"),12)}):null}c.displayName=c.name+" [from "+f.id+"]";function e(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"secondary",inline:!0,size:24,viewBox:"4 4 24 24"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"secondary",icon:d("fbicon")._(h("621884"),20)}):null}e.displayName=e.name+" [from "+f.id+"]";function j(){if(b("cr:4919")!=null)return i.jsx(b("cr:4919"),{color:"primary",inline:!1,size:28,viewBox:"-1 -1 32 32"});return b("cr:2344")!=null?i.jsx(b("cr:2344"),{color:"primary",icon:d("fbicon")._(h("621884"),20)}):null}j.displayName=j.name+" [from "+f.id+"]";g.BadgeIcon=a;g.WelcomeCardBadgeIcon=c;g.ProfileCardBadgeIcon=e;g.EntryPointIcon=j}),98);
__d("MWCMBotBadge.react",["I64","LSContactBitOffset.bs","LSContactCapabilityBitOffset.re","MWCMBotIcons.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=d("react").memo;b=a(function(a){var b=a.senderId,e=c("useReStore")();a=d("I64").to_string(b);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.table("contacts")).getKeyRange(b)},[e,a]);a=a?d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.re").isCommunityBotPage,a):!1;return a===!0?h.jsx("span",{className:"x1c7jfne x1n2onr6",children:h.jsx(d("MWCMBotIcons.react").BadgeIcon,{})}):null});e=b;g["default"]=e}),98);
__d("MWCMBotBadgeDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMBotBadge.react").__setRef("MWCMBotBadgeDeferred.react"));b=a;g["default"]=b}),98);
__d("MWInboxHeaderPublicChatSubText.react",["fbt","CometMiddot.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.count;return i.jsxs(i.Fragment,{children:[c("gkx")("3187")?h._("__JHASH__e_CSXZOMSHT__JHASH__"):h._("__JHASH__u3LpXcI2cyj__JHASH__"),i.jsx(c("CometMiddot.react"),{}),h._("__JHASH__auWIPhKvwTb__JHASH__",[h._plural(a,"number")])]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSLogSend.bs",["CometHeroLogging","LSMessagingInitiatingSource.bs","MWChatInteraction.bs","bs_caml","bs_curry","bs_int64","bs_js_dict"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e,f,g,h,i){var j=c("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(c("bs_curry")._1(a.getTraceId),null);d("MWChatInteraction.bs").set(b,j);e!==void 0&&(c("bs_caml").i64_eq(e,d("LSMessagingInitiatingSource.bs").facebookChat)?a.addMetadata("entrypoint","chat"):c("bs_caml").i64_eq(e,d("LSMessagingInitiatingSource.bs").facebookInbox)&&a.addMetadata("entrypoint","inbox"));a.addMetadata("mw_version",c("bs_int64").to_string(f));a.addMetadata("is_dual_send",g?"true":"false");a.addMetadata("is_message_request",h?"true":"false");a.addMetadata("thread_type",c("bs_int64").to_string(i));return a.onComplete(function(a){return c("bs_js_dict").unsafeDeleteKey(d("MWChatInteraction.bs").interactions,b)})}function a(a,b,c,d,e,f){return function(d){return function(g){return h(a,b,c,e,d,g,f)}}}g.logSentHeroInteraction=h;g.logSentWithHeroInteraction=a}),98);
__d("MWVersion.bs",["bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";a=[0,2];g.v1=c("bs_caml_int64").one;g.v2=a}),98);
__d("MWMarkThreadAsReadWhenNewMessagesArrive.bs",["MWInboxPassiveContext.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){var e=d("MWV2IsTabFocusedContext.bs").useContext(),f=d("MWInboxPassiveContext.bs").useMWInboxPassiveContext(),g=d("MWLSThreadDisplayContext.bs").useHook(),i=g!==void 0?g==="ChatTab"?e:g==="Inbox"&&c("gkx")("6531")?!f.isPassive:!0:!0,j;if(b!==void 0){e=c("bs_caml").i64_gt(b.timestampMs,a.lastActivityTimestampMs)?b.timestampMs:a.lastActivityTimestampMs;j=c("bs_caml").i64_gt(e,a.lastReadWatermarkTimestampMs)}else j=!1;return h.useCallback(function(a){if(c("UserActivity").isOnTab()&&c("UserActivity").isActive()&&i)return j;else return!1},[i,j])}function j(a,b,d){var e=i(a,b);return h.useCallback(function(a){if(c("bs_curry")._1(e))return c("bs_curry")._1(d)},[e,d])}function k(a,b,d){h.useEffect(function(){var e=function(e){if(c("bs_curry")._1(a)&&!c("bs_curry")._1(b))return c("bs_curry")._1(d)},f=c("bs_belt_Option").getExn(c("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));f.addEventListener("focus",e);document.hasFocus()&&c("bs_curry")._1(a)&&!c("bs_curry")._1(b)&&c("bs_curry")._1(d);return function(a){f.removeEventListener("focus",e)}},[d,a,b])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a,b,d,e,f){b=j(a,b,d);c("bs_curry")._1(l,a);k(e,f,b);return b}e=a;g.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");g.useHook=e}),98);
__d("MDSAccountSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0118 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 01.059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("memoizeByIdentity",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();return function(c){b.has(c)||b.set(c,a.call(this,c));return b.get(c)}}f["default"]=a}),66);
__d("MWPMessageAuthor.bs",["LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSVerifyContactRowExists","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_obj","bs_caml_option","bs_int64","memoizeByIdentity","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext({contact:void 0,nickname:void 0});function j(a){var b=a.children,e=a.contactId,f=c("useReStore")(),g=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("contacts")),{hd:e,tl:0})},[f,JSON.stringify(e)]));a=h.useMemo(function(){var a=g!==void 0?g.name:void 0;return{contact:g,nickname:a}},[g]);h.useEffect(function(){c("promiseDone")(f.runInTransaction(function(a){return c("LSVerifyContactRowExists")(e,d("LSContactIdType.bs").fbid,void 0,void 0,d("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,d("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,d("LSAuthorityLevel.bs").clientPartial,void 0,void 0,d("LSContactWorkForeignEntityType.bs").unknown,d("LSContactGender.bs").unknown,d("LSContactViewerRelationship.bs").unknown,void 0,d("LS.bs").make(a))},"readwrite"))},[f,JSON.stringify(e)]);return h.createElement(i.Provider,{children:b,value:a})}f={make:j};function k(a){var b=a.children,c=a.contact,d=a.nickname;a=h.useMemo(function(){return{contact:c,nickname:d}},[c,d]);return h.createElement(i.Provider,{children:b,value:a})}var l={make:k};function a(a){var b=a.children,e=a.contactId,f=a.threadKey,g=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e,tl:0})},[e]);var i=c("bs_belt_Option").flatMap(d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f,tl:{hd:e,tl:0}}),c("memoizeByIdentity")(function(a){return a.nickname}))},[e,f]),function(a){return a}),l=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("threads")),{hd:f,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("community_folders")),{hd:a.parentThreadKey,tl:0}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contextual_profile_v1")),{hd:e,tl:{hd:a.folderId,tl:0}}),c("memoizeByIdentity")(function(a){return a.profileName})),1))}),1))}),1)},[c("bs_int64").to_string(f),c("bs_int64").to_string(e)]);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);if(l!==void 0){l=c("bs_caml_option").valFromOption(l);l=l!==void 0?l:void 0}else l=void 0}else l=void 0}else l=i!==void 0?i:void 0;if(a!==void 0)if(c("bs_caml").i64_ge(a.authorityLevel,d("LSAuthorityLevel.bs").authoritativePendingReplacement))return h.jsx(k,{contact:a,nickname:l,children:b});else return h.jsx(j,{contactId:e,children:b});else return h.jsx(j,{contactId:e,children:b})}a=h.memo(a,function(a,b){if(!(a==null)&&!(b==null)&&c("bs_caml_obj").caml_equal(a.contactId,b.contactId)&&c("bs_caml_obj").caml_equal(a.threadKey,b.threadKey))return a.children===b.children;else return!1});function b(a){a=h.useContext(i);var b=a.nickname;a=a.contact;if(b!==void 0)b=b;else if(a!==void 0){var c=a.firstName;b=c!==void 0?c:a.name}else b=void 0;return[b,a]}function e(a){a=h.useContext(i);a=a.contact;var b=a!==void 0?a.name:void 0;return[b,a]}var m=i;f=f;l=l;a=a;b=b;e=e;g.ctx=m;g.MissingContactProvider=f;g.Provider=l;g.make=a;g.useAuthorName=b;g.useAuthorFullName=e}),98);
__d("MWV2MessageProfilePhoto.bs",["fbt","BaseGlimmer.react","CometImageCover.react","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMediaUrl.bs","MDSAccountSvgIcon.react","MWIcon.react","MWPMessageAuthor.bs","MWTooltip.react","bs_belt_Option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"xgd8bvy"})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1fgtraw",width:"xgd8bvy",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",width:"xgd8bvy",$$css:!0}};function a(a){var b=a.isGroupThread,e=a.isLastMessageInGroup,f=a.message,g=a.ariaHidden;a=a.isCMAdmin;g=g!==void 0?g:!1;var l=a!==void 0?a:!1;a=i.useContext(d("MWPMessageAuthor.bs").ctx);var m=a.nickname,n=a.contact,o={borderRadius:"50%"};if(!e)return i.jsx(j,{});a=f.takedownState;var p;e=0;var q=0;if(a!==void 0){a=h._("__JHASH__RNW_2o_rk9o__JHASH__");var r=function(a){return i.jsx(c("MDSAccountSvgIcon.react"),{color:"disabled",size:28,viewBox:"6 6 24 24"})};p=i.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:i.jsx(c("MWIcon.react"),{alt:a,icon:r})})}else q=2;if(q===2)if(n!==void 0&&d("LSMediaUrl.bs").Contact.profilePictureUrl(n)!==""){a=m!==void 0?m+" ("+n.name+")":n.name;var s=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isCommunityBotPage,n),!1);p=i.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:c("gkx")("4185")?i.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{message:f,position:"above"},popoverResource:c("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu").__setRef("MWV2MessageProfilePhoto.bs"),children:function(a,e,f,g,h,j,m){if(b&&(!s||l))return i.jsx(c("CometPressable.react"),{onPress:function(a){return c("bs_curry")._1(e)},overlayRadius:"50%",ref:a,xstyle:function(a){return[k.profile]},children:i.jsx(c("CometImageCover.react"),{alt:n.name,src:d("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})});else return i.jsx(c("CometImageCover.react"),{alt:n.name,src:d("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})}}):i.jsx(c("CometImageCover.react"),{alt:n.name,src:d("LSMediaUrl.bs").Contact.profilePictureUrl(n),style:o})})}else e=1;e===1&&(p=i.jsx(c("BaseGlimmer.react"),{index:1,xstyle:k.glimmer}));return i.jsx("div",{"aria-hidden":g,className:"xuk3077 x78zum5 x2lah0s x1fgtraw xgd8bvy",children:p})}a.displayName=a.name+" [from "+f.id+"]";e=b;f=a;g.NoProfilePhoto=e;g.make=f}),98);
__d("MWMessageRequestSharedTexts.bs",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return h._("__JHASH__U0QsQTXo_Q6__JHASH__",[h._param("FBFullName",a)])}function b(a){return h._("__JHASH__ftbQaI1YVpP__JHASH__",[h._param("name",a)])}function c(a){return h._("__JHASH__9ycmorSoeEo__JHASH__",[h._param("FBShortName",a)])}g.getFBUserInfoTextMessage=a;g.getDefaultInfoTextFooter=b;g.getDeclineUserDialogText=c}),98);
__d("MWPVisibleMessageContext.bs",["bs_js_null_undefined","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){}f={setVisibleMessage:a,visibleMessage:void 0};var i=h.createContext(f);function b(a){a=a.children;var b=h.useState(function(){}),d=b[0],e=b[1];b=h.useMemo(function(){return{setVisibleMessage:e,visibleMessage:c("bs_js_null_undefined").fromOption(d)}},[d,e]);return h.createElement(i.Provider,{children:a,value:b})}d={make:b};function e(a){return h.useContext(i)}g.context=i;g.Provider=d;g.useHook=e}),98);
__d("MWPVisibleMessageContext.re",["MWPVisibleMessageContext.bs"],(function(a,b,c,d,e,f){a=b("MWPVisibleMessageContext.bs").Provider.make;f.Provider_make=a;c=b("MWPVisibleMessageContext.bs").useHook;f.useHook=c;d=b("MWPVisibleMessageContext.bs").Provider;f.Provider=d}),null);
__d("MWChatBusinessQuickReply.bs",["CometImage.react","MDSTextPairing.react","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={image:{borderTopStartRadius:"x1z11no5",borderTopEndRadius:"xjy5m1g",borderBottomEndRadius:"x1mnwbp6",borderBottomStartRadius:"x4pb5v6","float":"xrbpyxo",height:"x158ke7r",marginTop:"x16ldp7u",marginEnd:"x1t4t16n",marginBottom:"xz62fqu",marginStart:"xbmpl8g",width:"x1kl0l3y",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTop:"x731872",borderEnd:"x170eksp",borderBottom:"xug2kuu",borderStart:"x1p5fkxa",borderTopStartRadius:"xfh8nwu",borderTopEndRadius:"xoqspk4",borderBottomEndRadius:"x12v9rci",borderBottomStartRadius:"x138vmkv",boxShadow:"x1vnslfi",boxSizing:"x9f619",cursor:"x1ypdohk",fontFamily:"xjb2p0i",fontWeight:"xk50ysn",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginEnd:"x1emribx",marginBottom:"xjpr12u",marginStart:"x1i64zmx",overflowWrap:"x1mzt3pk",paddingBottom:"x1a8lsjc",paddingEnd:"xn6708d",paddingStart:"x1ye3gou",paddingTop:"x889kno",textAlign:"x1yc453h",wordBreak:"x13faqbe",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingEnd:"xn6708d",paddingStart:"xr9oo41",$$css:!0}};function a(a){var b=a.bodyLineLimit,d=a.quickReplyVertical,e=a.onClick,f=a.text;a=a.imageUrl;b=b!==void 0?b:1;d=d!==void 0?d:!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):void 0;return h.jsx("div",{className:c("stylex")(d?i.vertical:!1),children:h.jsxs("button",{className:"x6s0dn4 xcrg951 x731872 x170eksp xug2kuu x1p5fkxa xfh8nwu xoqspk4 x12v9rci x138vmkv x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1emribx xjpr12u x1i64zmx x1mzt3pk x1a8lsjc xn6708d x1ye3gou x889kno x1yc453h x13faqbe",onClick:function(a){return c("bs_curry")._1(e)},children:[a!==void 0?h.jsx(c("CometImage.react"),{src:a,xstyle:[i.image]}):null,h.jsx(c("MDSTextPairing.react"),{body:f,bodyLineLimit:b,level:3})]})})}a.displayName=a.name+" [from "+f.id+"]";b=32;e=a;g.mediumHeight=b;g.make=e}),98);
__d("MWChatBusinessQuickReplyText.bs",["MWChatBusinessQuickReply.bs","bs_caml_option","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply;a=a.quickReplyVertical;var f=a?3:1,g=function(a){return c("bs_curry")._1(b,e)},i=e.image_url;return h.jsx(d("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:f,imageUrl:i!==void 0?c("bs_caml_option").nullable_to_opt(c("bs_caml_option").valFromOption(i)):void 0,onClick:g,quickReplyVertical:a,text:e.title})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserBirthdayQuery",["CometRelay","MWChatUserBirthdayQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i="en-US";function j(a,b,c,d){c=new Date(c,b-1,a);return c.toLocaleDateString(d,{day:"numeric",month:"numeric",year:"numeric"})}a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,k,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.birthdate;if(a){var c=a==null?void 0:a.day,d=a==null?void 0:a.month;a=a==null?void 0:a.year;c&&d&&a&&b(j(c,d,a,i))}});c("promiseDone")(e)}};var k=h!==void 0?h:h=b("MWChatUserBirthdayQuery.graphql");g.useUserBirthdayDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserBirthday.bs",["MWChatBusinessQuickReply.bs","MWChatUserBirthdayQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserBirthdayQuery").useUserBirthdayDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(b){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(a){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.all_emails;if(a&&a.length>0){var c=a.find(function(a){return a.is_primary});c!=null?b(c.display_email):b(a[0].display_email)}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserEmailQuery.graphql");g.useUserEmailDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserEmail.bs",["MWChatBusinessQuickReply.bs","MWChatUserEmailQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserEmailQuery").useUserEmailDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(b){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(a){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.all_phones;if(a&&a.length>0){var c=a.find(function(a){return a.is_preferred});if(c!=null){b((c=c.phone_number)==null?void 0:c.universal_number)}else{b((c=a[0].phone_number)==null?void 0:c.universal_number)}}});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserPhoneNumberQuery.graphql");g.useUserPhoneNumberDataQuery=a}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.bs",["MWChatBusinessQuickReply.bs","MWChatUserPhoneNumberQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(b){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(a){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatUserProfileLocationQuery",["CometRelay","MWChatUserProfileLocationQuery.graphql","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:(a=a.viewer.user.address)==null?void 0:a.region;a!=null&&a!==""&&b(a)});c("promiseDone")(e)}};e=function(){var a=d("CometRelay").useRelayEnvironment();return function(b){var e=d("CometRelay").fetchQuery(a,i,{}).toPromise().then(function(a){a=a==null?void 0:a.viewer.user.address;a=a==null?void 0:a.postal_code;a&&b(a)});c("promiseDone")(e)}};var i=h!==void 0?h:h=b("MWChatUserProfileLocationQuery.graphql");g.useUserProfileStateDataQuery=a;g.useUserProfileZipCodeDataQuery=e}),98);
__d("MWChatBusinessQuickReplyUserState.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileStateDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(b){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(a){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatBusinessQuickReplyUserZipCode.bs",["MWChatBusinessQuickReply.bs","MWChatUserProfileLocationQuery","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onSend,e=a.quickReply,f=a.quickReplyVertical;a=a.userID;var g=d("MWChatUserProfileLocationQuery").useUserProfileZipCodeDataQuery(),i=h.useState(function(){}),j=i[0],k=i[1];h.useEffect(function(){g(function(a){return c("bs_curry")._1(k,function(b){return a})})},[a,g,k]);if(j===void 0)return null;i=e.content_type;a=e.data;var l=e.image_url;e=e.payload;var m={content_type:i,data:a,image_url:l,payload:e,title:j};i=function(a){return c("bs_curry")._1(b,m)};return h.jsx(d("MWChatBusinessQuickReply.bs").make,{onClick:i,quickReplyVertical:f,text:j})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWChatBusinessQuickReplyList.bs",["CometScrollableArea.react","CurrentUser","LSQuickReplyType.bs","MWChatBusinessQuickReplyText.bs","MWChatBusinessQuickReplyUserBirthday.bs","MWChatBusinessQuickReplyUserEmail.bs","MWChatBusinessQuickReplyUserPhoneNumber.bs","MWChatBusinessQuickReplyUserState.bs","MWChatBusinessQuickReplyUserZipCode.bs","MessengerWebEventsFalcoEvent.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.arrayQR,e=a.id,f=a.onSend;a=a.quickReplyType;a=a!==void 0?a:d("LSQuickReplyType.bs").none;var g=c("bs_caml").i64_eq(a,d("LSQuickReplyType.bs").vertical);h.useEffect(function(){d("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:"render_quick_replies",other_user_fbid:e}})},[e]);return h.jsx("div",{className:"x1n2onr6 xh8yej3 xcrg951",children:h.jsx(c("CometScrollableArea.react"),{horizontal:!0,children:h.jsx("div",{className:""+(g?" xuk3077 xcrg951 x78zum5 xdt5ytf xm7lytj":" xcrg951 x78zum5 x1q0g3np x1nn3v0j xozqiw3 x1sxyh0 x1a8lsjc xurb0ha"),children:b.map(function(a,b){var e=c("CurrentUser").getID(),i=a.content_type;switch(i){case"text":return h.jsx(d("MWChatBusinessQuickReplyText.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g},String(b));case"user_birthday":return h.jsx(d("MWChatBusinessQuickReplyUserBirthday.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_email":return h.jsx(d("MWChatBusinessQuickReplyUserEmail.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_phone_number":return h.jsx(d("MWChatBusinessQuickReplyUserPhoneNumber.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_state":return h.jsx(d("MWChatBusinessQuickReplyUserState.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));case"user_zip_code":return h.jsx(d("MWChatBusinessQuickReplyUserZipCode.bs").make,{onSend:f,quickReply:a,quickReplyVertical:g,userID:e},String(b));default:return null}})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPQuickReplies.bs",["LS.bs","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSMessagingSource.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWChatBusinessQuickReplyList.bs","MWPActor.bs","MessagingThreadType.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml_option","bs_int64","bs_js_null_undefined","promiseDone","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var e=a.lastMessageId,f=a.quickReplyType,g=a.threadKey,i=d("LSMessagingSource.bs").useHook(),j=c("useReStore")(),k=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("quick_reply_ctas")),{hd:g,tl:{hd:e,tl:0}}),function(a){var b=a.type_;b=b==="quick_reply_text"?"text":b==="quick_reply_phone"?"user_phone_number":b==="quick_reply_email"?"user_email":(c("recoverableViolation")("Unexpected quick-reply type","messenger_web_produce"),"");return{content_type:b,data:void 0,image_url:c("bs_caml_option").some(c("bs_js_null_undefined").fromOption(a.imageUrl)),payload:c("bs_caml_option").some(a.platformToken),title:a.title}}),function(a){return a.content_type!==""})},[j,e,g]));if(a.length>0)return h.jsx(d("MWChatBusinessQuickReplyList.bs").make,{arrayQR:a,id:c("bs_int64").to_string(k),onSend:function(a){var e=d("LSThreadAttributionTypeUtil.bs").getSource(g,i),f=j.runInTransaction(function(f){var h=a.payload;if(h!==void 0){h=c("bs_caml_option").valFromOption(h);var i=h==null?void 0:c("bs_caml_option").some(h);h=h==null?void 0:i}else h=void 0;return c("LSOptimisticSendMessage")(k,g,d("MessagingThreadType.bs").oneToOne,d("LSMailboxType.bs").messenger,a.title,void 0,!1,void 0,void 0,void 0,void 0,e,void 0,h!==void 0?c("bs_caml_option").valFromOption(h):void 0,void 0,d("LSMessageReplySourceType.bs").none,d("LSMessageReplySourceTypeV2.bs").none,void 0,void 0,void 0,!0,!0,void 0,void 0,void 0,void 0,void 0,d("LS.bs").make(f)).then(function(a){return b("Promise").resolve(a)})},"readwrite");c("promiseDone")(f)},quickReplyType:f});else return null}e={make:i};function a(a){var b=a.threadKey,e=c("useReStore")();a=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(e.table("messages")),{hd:b,tl:0})},[e,b]);if(a!==void 0)return h.jsx(i,{lastMessageId:a.messageId,quickReplyType:a.quickReplyType,threadKey:b});else return null}f=a;g.Impl=e;g.make=f}),98);
__d("MWTheme.bs",["bs_caml_exceptions","bs_caml_int64","cr:1581959","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){if(a.TAG===0)return!1;else return!0}var i=b("bs_caml_exceptions").create("MWTheme.NotEnoughColorsForAGradient");function c(a,b){a=a!==void 0?a:.4;var c=parseInt(b.slice(1,3),16),d=parseInt(b.slice(3,5),16);b=parseInt(b.slice(5,7),16);a=a.toFixed(4);return"rgba("+c+","+d+","+b+","+a+")"}function d(a){if(a.TAG===0)return a._0.color;else return a._0.colors[0]}function e(a){if(a.TAG===0)return a._0.color;a=a._0.colors;return a[a.length-1|0]}function j(a){if(a.TAG===0)return a._0.color;else return a._0.fallback}function k(a,b,c){var d=a!==void 0?a:0;a=b!==void 0?b:100;b=c.length;if(b!==1){if(b!==0){var e=[];b=c.length;var f=a-d,g=f/(b-1|0);d!==0&&e.push(c[0]+" 0%");c.forEach(function(a,b){b=(d+b*g).toFixed(2);e.push(""+a+" "+b+"%")});a!==100&&e.push(c[b-1|0]+" 100%");f=e.join(", ");return"linear-gradient("+f+")"}throw{Error:new Error(),RE_EXN_ID:i}}throw{Error:new Error(),RE_EXN_ID:i}}function l(a){return"#"+a.slice(2)}function m(a){a=b("bs_caml_int64").to_int32(a);var c=(a&16711680)>>>16,d=(a&65280)>>>8;a=a&255;var e=function(a){return a.toString(16).padStart(2,"0")};return"#"+(e(c)+(e(d)+e(a)))}var n=h.createContext({clearTheme:function(a){},setTheme:function(a){},theme:b("cr:1581959").defaultTheme});function o(a){return h.useContext(n).theme}function p(a){a=h.useContext(n);var b=a.clearTheme;h.useEffect(function(){return b},[b]);return[a.setTheme,b]}function q(a){}function r(a){}function s(a){var b=a.setTheme,c=a.clearTheme,d=a.children;a=a.theme;b=b!==void 0?b:q;c=c!==void 0?c:r;c={clearTheme:c,setTheme:b,theme:a};return h.createElement(n.Provider,{children:d,value:c})}var t=b("cr:1581959"),u=b("cr:1581959").defaultTheme;s=s;f.isGradient=a;f.NotEnoughColorsForAGradient=i;f.lighten=c;f.top=d;f.bottom=e;f.middle=j;f.gradient=k;f.aRGBtoHex=l;f.intToHex=m;f.$WorkChatDefaultTheme$OR$MessengerDefaultTheme$requireCond=b("cr:1581959");f.DefaultTheme=t;f.defaultTheme=u;f.context=n;f.useTheme=o;f.usePreview=p;f.defaultSetTheme=q;f.defaultClearTheme=r;f.provider=s}),null);
__d("MessengerDefaultTheme.bs",["CurrentEnvironment","bs_caml_format"],(function(a,b,c,d,e,f,g){"use strict";a=c("bs_caml_format").caml_int64_of_string("196241301102133");b={_0:{color:c("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:a,label:"Default Blue"},TAG:0};g.defaultThemeInt64=a;g.defaultTheme=b}),98);
__d("MWLSUseLatch.bs",["CometThrottle","Run","bs_curry","debounce","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e){var f=b!==void 0?b:!1;h.useEffect(function(){if(!f)return;var b=d("Run").onUnload(function(b){return c("bs_curry")._1(a,!1)});return function(a){return b.remove()}},[f,a]);return h.useMemo(function(){var b={contents:!1},d=c("debounce")(function(d){if(!b.contents)return c("bs_curry")._1(a,!1)},e|0),f=c("CometThrottle")(function(b){return c("bs_curry")._1(a,!0)},3e3,{leading:!0,trailing:!1}),g=function(d){c("bs_curry")._1(a,!1),b.contents=!0},h=function(a){c("bs_curry")._1(f);return d()};return[h,g]},[a,e])}g.throttle=c("CometThrottle");g.useLatch=a}),98);
__d("MWPThreadGradientBackground.bs",["MWPColorUtils.bs","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=d("MWPThreadTheme.bs").useHook(),c=b.gradientColors;b=h.useMemo(function(){if(c.length>1)return{backgroundImage:d("MWPColorUtils.bs").gradient(c)};else return{}},[c]);return h.jsx("div",{className:"x78zum5 x1r8uery xdt5ytf x1iyjqo2 xmz0i5r x6ikm8r x10wlt62 x1n2onr6",style:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){var b=a.id;a=a.text;return d("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:b,text:a})});b=a;g["default"]=b}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWCMThreadTypes.bs","MWCMUseFolder.re","MWChatComposerMentionsViewItem.react","MWLSThread.bs","cr:2600","cr:4183","messengerMentionsLexicalCreateNodeStrategy","react","useCometTypeaheadSectionedViewListStrategy","useMWChatMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=(e=b("cr:4183"))!=null?e:function(a){return function(a,b){}};function a(a){var e=a.editor,f=a.participants,g=a.threadFBID,k=j(d("I64").of_string(g));a=i(function(){return{participants:f,threadFBID:g,triggerParticipantsSearch:k}},[f,g,k]);a=c("useMWChatMentionsDataSourceResolverConfig")(a);var l=c("useCometTypeaheadSectionedViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")}),m=d("MWLSThread.bs").useThreadExn(d("I64").of_string(g)),n=d("MWCMUseFolder.re").useFolder(m);if(d("MWCMThreadTypes.bs").isJoinedCMThread(m.threadType)&&n&&b("cr:2600"))return h.jsx(b("cr:2600"),{editor:e,fbGroupId:n.fbGroupId,folderId:n.folderId,threadFBID:g});else return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:a,editor:e,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","DEPRECATED_useLexicalCanShowPlaceholder","LexicalComposerContext","LexicalErrorBoundary","MLCInstrumentationPluginDeferred__INTERNAL.react","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","cr:1948","cr:5333","react","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=c("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),m={container:{backgroundColor:"xmjcpbm",borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",boxSizing:"x9f619",flexGrow:"x1iyjqo2",minWidth:"xeuugli",$$css:!0},editor:{flexGrow:"x1iyjqo2",maxHeight:"x1gh3ibb",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0},editorWrapper:{display:"x78zum5",flexGrow:"x1iyjqo2",marginEnd:"x1gja9t",marginStart:"x16n37ib",marginTop:"x1xmf6yo",marginBottom:"x1e56ztr",minWidth:"xeuugli",position:"x1n2onr6",$$css:!0},inputRow:{display:"x78zum5",flexWrap:"x1a02dak",justifyContent:"x13a6bvl",$$css:!0}},n=h._("__JHASH__mUqaYJ48Erc__JHASH__").toString();function a(a){var e=a.ariaDescribedBy,f=a.contentEditableRef,g=a.editor,h=a.endContent,o=a.handlePastedFiles,p=a.participants,q=a.policyProduct,r=a.startContent,s=a.surface,t=a.testId,u=a.threadID,v=a.topContent;a=a.useMentionsPlugin;var w=j(function(a){var b=f.current;if(a==null||b===a)return;f.current=a;g.setRootElement(a)},[f,g]),x=d("DEPRECATED_useLexicalCanShowPlaceholder").useLexicalCanShowPlaceholder(g),y=d("LexicalComposerContext").createLexicalComposerContext(),z=k(function(){return[g,y]},[g,y]);e=i.jsx(c("CometLexicalContentEditable.react"),{ariaDescribedBy:e,ariaLabel:n,contentEditableRef:w,editor:g,spellCheck:!0,tabIndex:0,webDriverTestID:t,xstyle:m.editor});w=i.jsx(c("CometLexicalPlaceholder.react"),{children:"Aa"});t=c("useDeferredModuleOnReady")(l);return i.jsxs("div",{className:"xmjcpbm x107yiy2 xv8uw2v x1tfwpuw x2g32xy x9f619 x1iyjqo2 xeuugli",children:[i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{editor__DEPRECATED:g,policyProduct:q,surface:s}),v,i.jsxs("div",{className:"x78zum5 x1a02dak x13a6bvl",children:[r,i.jsx("div",{className:"x78zum5 x1iyjqo2 x1gja9t x16n37ib x1xmf6yo x1e56ztr xeuugli x1n2onr6",children:b("cr:5333")!=null?i.jsx(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:z,children:i.jsx(b("cr:5333").PlainTextPlugin,{ErrorBoundary:c("LexicalErrorBoundary"),contentEditable:e,placeholder:w})}):i.jsxs(i.Fragment,{children:[e,x?w:null]})}),h]}),a&&i.jsx(c("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:g,participants:p,threadFBID:u}),b("cr:1948")&&i.jsx(b("cr:1948"),{editor:g}),t==null?null:i.jsx(t,{editor:g,handlePastedFiles:o})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LS.re","LSClearCommunityMembersAndRange","LSIssueCommunityMemberListFetch","LSVec","MWChatComposerMentionsViewItem.react","Promise","ReQL","ReQLSuspense","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","messengerMentionsLexicalCreateNodeStrategy","react","regeneratorRuntime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy","useCommunityMembers","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=e.useRef;function m(a,e,f){var g=c("useReStore")(),h=l(""),j=l([]),k=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.table("community_members").index("communitySource")).getKeyRange(a,d("I64").of_int32(8)).take(6).map(function(a){var b,c;b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contextual_profile_v1")).getKeyRange(a.contactId,f)))==null?void 0:b.profileName;return{key:d("I64").to_string(a.contactId),label:(c=b)!=null?c:a.name,rawData:{photoURI:a.profilePictureUrl,source:"all",subtitle:b!=null?a.name:a.subtitle},type:"entry"}})},[g,d("I64").to_string(a)]),m=i(function(f){return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(g.runInTransaction(function(a){return c("LSClearCommunityMembersAndRange")(d("I64").of_int32(8),c("LS.re").make(a))},"readwrite"));case 2:h.next=4;return b("regeneratorRuntime").awrap(g.runInTransaction(function(b){return c("LSIssueCommunityMemberListFetch")(a,c("LSVec").make([d("I64").of_int32(0)]),!1,!1,"","",d("I64").of_int32(8),d("I64").of_string(e),f,c("LSVec").make([]),c("LS.re").make(b))},"readwrite"));case 4:case"end":return h.stop()}},null,this)},[g,d("I64").to_string(a),e,k]),n=i(function(a){return new(b("Promise"))(function(b){a.query!==h.current&&(h.current=a.query,m(h.current)),k.length!==0&&(j.current=k),b({entries:k.length===0?j.current:k,params:a})})},[k,m]);return{bootstrap:function(){},fetchCache:void 0,fetchNetwork:n}}function n(a,b,e){var f=m(a,b,e);e=k(function(){return[{dataSource:f,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0})}]},[d("I64").to_string(a),b,f]);return c("useCometMentionsDataSourceResolverConfig")(e,!1)}function a(a){var b=a.editor,e=a.fbGroupId,f=a.folderId;a=a.threadFBID;e=n(e,a,f);a=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")});var g=d("useCommunityMembers").useClearMemberList(8);j(function(){return function(){g()}},[g]);return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:e,editor:b,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalEntityTextNode","cr:3101"],(function(a,b,c,d,e,f,g){"use strict";a={getRanges:function(a){var c=[],e=0;a.getEditorState().read(function(){var a=d("Lexical").$getRoot().getFirstChild();a instanceof d("Lexical").ElementNode&&a.getChildren().forEach(function(a){if(d("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(a)){var f=a.getEntity();c.push({id:f.id,length:a.getTextContent().length,offset:e,type:"p"})}(b("cr:3101")==null?void 0:b("cr:3101").isMessengerCommandNode(a))&&c.push({id:"0",length:a.getTextContent().length,offset:e,type:a.getRangeType()});e+=a.getTextContent().length})});return c}};c=a;g["default"]=c}),98);
__d("MWV2ComposerEmojiButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","JSResourceForInteraction","MWChatComposerIcons.bs","MWTooltip.react","Promise","bs_curry","gkx","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__HXazdxq92Fj__JHASH__"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l=c("JSResource")("CometAddEmojiToComposerForLexical.bs").__setRef("MWV2ComposerEmojiButton.bs");function a(a){var e=a.color,f=a.editor;a=function(a){c("promiseDone")(l.load().then(function(d){c("bs_curry")._3(d.make,a,f,16);return b("Promise").resolve()}))};return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",fallback:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{onSelect:a,withArrow:!0},popoverResource:c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.bs"),children:function(a,b,f,g,h,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{"aria-label":j,onHoverIn:c("bs_curry").__1(g),onHoverOut:function(a){return c("bs_curry")._1(h)},onPress:function(a){c("bs_curry")._1(b),l.preload()},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(a){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Emoji.make,{fill:e,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.label=j;g.cometAddEmojiToComposerForLexical=l;g.make=e}),98);
__d("MWV2ComposerFileButton.bs",["fbt","CometFileSelector.react","CometPressable.react","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__irWVZkNfl97__JHASH__");function l(a){return i.useCallback(function(b){b=Array.from(b);if(b.length>0)return c("bs_curry")._1(a,b)},[a])}function a(a){var b=a.color,e=a.disabled,f=a.onAttachmentsAdded;a=a.supportedFileTypes;f=l(f);f={children:function(a){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onPress:function(b){return c("bs_curry")._1(a)},overlayRadius:"50%",testid:void 0,xstyle:function(a){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Photo.make,{fill:e?void 0:b,size:20})})})},multiple:!0,onFilesSelected:f};a!==void 0&&(f.accept=c("bs_caml_option").valFromOption(a));return i.jsx(c("CometFileSelector.react"),babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnFilesSelected=l;g.make=b}),98);
__d("MWV2ComposerGifButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},k=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function l(a,b,d,e){return c("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d})}function m(a){return i.useCallback(function(b){var d=c("bs_caml_format").caml_int64_of_string(b.platformFBID),e=b.source.url;return c("bs_curry").app(a,[void 0,void 0,void 0,void 0,d,e,c("bs_caml_option").some(l(e,c("bs_caml_int64").of_int32(b.source.height),c("bs_caml_int64").of_int32(b.source.width))),void 0,void 0,void 0,void 0])},[a])}function a(a){var b=a.color,e=a.disabled,f=a.isSecureThread;a=a.onSendMessage;a=m(a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:f,onSelect:c("bs_curry").__1(a),testid:"mw_gif_picker"},popoverResource:c("JSResource")("MWChatAnimatedImageFlyout.react").__setRef("MWV2ComposerGifButton.bs"),position:"above",children:function(a,f,g,h,l,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onHoverIn:c("bs_curry").__1(h),onHoverOut:function(a){return c("bs_curry")._1(l)},onPress:function(a){return c("bs_curry")._1(f)},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,xstyle:function(a){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Gif.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnGifSelect=m;g.make=b}),98);
__d("MWV2ComposerSendButton.bs",["fbt","CometPressable.react","MWChatChatButtonColorConstants.bs","MWTooltip.react","UserAgent","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=c("gkx")("6934");e=c("UserAgent").isPlatform("Mac OS X");var j=b?e?h._("__JHASH__rZOmP6eifIV__JHASH__"):h._("__JHASH__ylwhpFdWk4l__JHASH__"):h._("__JHASH__7975gRkNyLl__JHASH__"),k={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.onPress;a=a.disabled;a=a!==void 0?a:!1;return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:j,children:i.jsx(c("CometPressable.react"),{disabled:a,label:j,onPress:e,overlayDisabled:a,overlayRadius:"50%",testid:void 0,xstyle:function(a){return[c("gkx")("571")?k.buttonMDS:k.buttonFDS]},children:i.jsx("svg",{className:c("stylex")(d("MWChatChatButtonColorConstants.bs").styles.fillGrey),height:"20px",viewBox:"0 0 24 24",width:"20px",children:i.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:b})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ComposerStickerButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSDict","MWChatComposerIcons.bs","MWTooltip.react","bs_belt_Option","bs_caml_format","bs_caml_option","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}},k=h._("__JHASH__430IPCMJAf3__JHASH__");function l(a,b,d,e){return c("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:b,preview_url:a,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:d})}function m(a,b){return i.useCallback(function(d){return function(e,f){e=f.animated_uri;e=c("bs_belt_Option").isSome(e)?e:f.uri;if(b)return c("bs_curry").app(a,[void 0,void 0,c("bs_caml_format").caml_int64_of_string(d),void 0,void 0,c("bs_belt_Option").getExn(e),void 0,void 0,void 0,void 0,void 0]);else return c("bs_curry").app(a,[void 0,void 0,c("bs_caml_format").caml_int64_of_string(d),void 0,void 0,void 0,c("bs_caml_option").some(l(e,[0,128],[0,128])),void 0,void 0,void 0,void 0])}},[a,b])}function a(a){var b=a.color,e=a.disabled,f=a.onSendMessage;a=a.useSecureSend;f=m(f,a);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,onVisibilityChange:function(a){},popoverProps:{className:"x1fepime",onClose:function(a){},onStickerSelect:f,shouldHideDefaultPacks:a},popoverResource:c("JSResource")("MWChatStickersFlyoutForJSResource.react").__setRef("MWV2ComposerStickerButton.bs"),position:"above",children:function(a,f,g,h,l,m,n){return i.jsx(c("MWTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:k,children:i.jsx(c("CometPressable.react"),{"aria-label":k,disabled:e,onHoverIn:c("bs_curry").__1(h),onHoverOut:function(a){return c("bs_curry")._1(l)},onPress:function(a){return c("bs_curry")._1(f)},onPressIn:c("bs_curry").__1(m),overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(a){return[c("gkx")("571")?j.buttonMDS:j.buttonFDS]},children:i.jsx(d("MWChatComposerIcons.bs").Sticker.make,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.label=k;g.useOnStickerSelect=m;g.make=b}),98);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon"],(function(a,b,c,d,e,f,g,h,i){"use strict";b=h._("__JHASH__fM-I8ly761K__JHASH__");e=h._("__JHASH__bcTzx6eBHE9__JHASH__");f=[{decorType:"regular",handle:b.toString(),key:"silent",label:b.toString(),rawData:{icon:d("fbicon")._(i("549627"),16),subtitle:e.toString()},type:"entry"}];var j=(h={},h[b.toString()]="s",h);function a(a){var b=j[a];if(b==null){c("FBLogger")("messenger_web_product").mustfix("Unregisted messenger composer command "+a+" used. Please add the command to the mapping in MWCommandsComposerPluginCommandList");return"n"}return b}g.commands=f;g.commandMapping=j;g.commandToRangeType=a}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical","MWCommandsComposerPluginCommandList"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);function a(a,c){a=a.handle;c=b.call(this,"/"+a,c)||this;c.__handle=a;return c}a.getType=function(){return"command"};a.clone=function(b){return new a({handle:b.__text.slice(1)},b.__key)};a.importJSON=function(a){return i({handle:a.handle})};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{handle:this.__handle,type:"command"})};c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="xv78j7m xt0e3qv";a.spellcheck=!1;return a};c.getEntity=function(){return{handle:this.__handle}};c.getRangeType=function(){return d("MWCommandsComposerPluginCommandList").commandToRangeType(this.__handle)};return a}(d("Lexical").TextNode);function i(a){return new h(a).setMode("segmented").toggleDirectionless()}function a(a){return a instanceof h}g.MessengerLexicalCommandNode=h;g.$createMessengerLexicalCommandNode=i;g.isMessengerCommandNode=a}),98);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){a=a.text;return d("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({handle:a})});b=a;g["default"]=b}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo,j=function(){function a(){}var c=a.prototype;c.bootstrap=function(){return};c.fetchCache=function(a){return{entries:a.query.length===0?d("MWCommandsComposerPluginCommandList").commands:d("MWCommandsComposerPluginCommandList").commands.filter(function(b){return(b=b.handle)==null?void 0:b.startsWith(a.query)}),params:a}};c.fetchNetwork=function(a){return b("Promise").resolve(this.fetchCache(a))};return a}();function a(a){a=a.editor;var b=c("useCometMentionsDataSourceResolverConfig")(i(function(){return[{dataSource:new j(),matchStrategy:c("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}]},[]),!0),d=c("useCometTypeaheadViewListStrategy")({viewItemStrategyRenderer:c("MWChatComposerMentionsViewItem.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:b,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2UseAreThreadContactsDualSendEligible.bs",["LSContactViewerRelationship.bs","LSInt64.bs","LSMessagingThreadTypeUtil.bs","LSWhatsAppConnectStatus.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_int64","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,e,f){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return a[1]}),function(a){if(a!==void 0&&c("bs_caml").i64_neq(a.id,f))if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(e))return c("bs_caml").i64_gt(c("bs_caml_int64").and_(a.waConnectStatus,d("LSWhatsAppConnectStatus.bs").whatsappDstEligible),d("LSWhatsAppConnectStatus.bs").whatsappAddressable);else if(c("bs_caml").i64_gt(c("bs_caml_int64").and_(a.waConnectStatus,d("LSWhatsAppConnectStatus.bs").whatsappGdstEligible),d("LSWhatsAppConnectStatus.bs").whatsappAddressable))if(c("bs_int64").equal(a.contactViewerRelationship,d("LSContactViewerRelationship.bs").facebookFriend))return!0;else return c("bs_int64").equal(a.contactViewerRelationship,d("LSContactViewerRelationship.bs").contactOfViewer);else return!1;else return!1}),function(a){return a})}function a(a,b,c,e){return d("ReQL.bs").toArray(i(a,c,e,b))}function b(a,b){var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(i(e,a,b,f),2)},[e,d("LSInt64.bs").string(a),d("LSInt64.bs").string(b)])).length}e=a;f=b;g.getEligibleContacts=e;g.useThreadEligiblity=f}),98);
__d("MWLSDefaultThreadSource.bs",["LSMessagingSource.bs","LSThreadAttributionTypeUtil.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("LSMessagingSource.bs").useHook();return h.useCallback(function(a){return d("LSThreadAttributionTypeUtil.bs").getSource(a,b)},[b])}g.useHook=a}),98);
__d("LSAuthorityLevel.re",["LSAuthorityLevel.bs"],(function(a,b,c,d,e,f){c=(a=b("LSAuthorityLevel.bs")).optimistic;f.optimistic=c;d=a.clientPartial;f.clientPartial=d;e=a.serverPartial;f.serverPartial=e;b=a.authoritativePendingReplacement;f.authoritativePendingReplacement=b;c=a.authoritative;f.authoritative=c;d=a.clientAuthoritativeDelete;f.clientAuthoritativeDelete=d}),null);
__d("LSContactGender.re",["LSContactGender.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactGender.bs")).unknown;f.unknown=c;d=a.female;f.female=d;e=a.male;f.male=e;b=a.neuter;f.neuter=b}),null);
__d("LSContactIdType.re",["LSContactIdType.bs"],(function(a,b,c,d,e,f){a=b("LSContactIdType.bs").unknown;f.unknown=a;c=b("LSContactIdType.bs").fbid;f.fbid=c;d=b("LSContactIdType.bs").smsLocalId;f.smsLocalId=d}),null);
__d("LSContactType.re",["LSContactType.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactType.bs")).unknown;f.unknown=c;d=a.user;f.user=d;e=a.page;f.page=e;b=a.pagePersona;f.pagePersona=b}),null);
__d("LSContactViewerRelationship.re",["LSContactViewerRelationship.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactViewerRelationship.bs")).unknown;f.unknown=c;d=a.notContact;f.notContact=d;e=a.contactOfViewer;f.contactOfViewer=e;b=a.facebookFriend;f.facebookFriend=b;c=a.softContact;f.softContact=c}),null);
__d("LSContactWorkForeignEntityType.re",["LSContactWorkForeignEntityType.bs"],(function(a,b,c,d,e,f){c=(a=b("LSContactWorkForeignEntityType.bs")).unknown;f.unknown=c;d=a.foreign;f.foreign=d;e=a.notForeign;f.notForeign=e;b=a.notForeignLimited;f.notForeignLimited=b}),null);
__d("LsThreadType.re",["LsThreadType.bs"],(function(a,b,c,d,e,f){c=(a=b("LsThreadType.bs")).unknown;f.unknown=c;d=a.oneToOne;f.oneToOne=d;e=a.group;f.group=e;b=a.room;f.room=b;c=a.montage;f.montage=c;d=a.marketplace;f.marketplace=d;e=a.folder;f.folder=e;b=a.tincan;f.tincan=b;c=a.optimisticGroupThread;f.optimisticGroupThread=c;d=a.carrierMessagingOneToOne;f.carrierMessagingOneToOne=d;e=a.carrierMessagingGroup;f.carrierMessagingGroup=e;b=a.selfThread;f.selfThread=b;c=a.tincanDisappearing;f.tincanDisappearing=c;d=a.pageFollowUp;f.pageFollowUp=d;e=a.secureMessageOverWaOneToOne;f.secureMessageOverWaOneToOne=e;b=a.secureMessageOverWaGroup;f.secureMessageOverWaGroup=b;c=a.armadilloOneToOne;f.armadilloOneToOne=c;d=a.armadilloGroup;f.armadilloGroup=d;e=a.communityFolder;f.communityFolder=e;b=a.communityGroup;f.communityGroup=b;c=a.communityGroupUnjoined;f.communityGroupUnjoined=c;d=a.communityChannelCategory;f.communityChannelCategory=d;e=a.communityPrivateHiddenJoinedThread;f.communityPrivateHiddenJoinedThread=e;b=a.communityPrivateHiddenUnjoinedThread;f.communityPrivateHiddenUnjoinedThread=b;c=a.communityBroadcastJoinedThread;f.communityBroadcastJoinedThread=c;d=a.communityBroadcastUnjoinedThread;f.communityBroadcastUnjoinedThread=d;e=a.communityGroupInvitedUnjoined;f.communityGroupInvitedUnjoined=e;b=a.pinned;f.pinned=b;c=a.lwg;f.lwg=c;d=a.discoverablePublicChat;f.discoverablePublicChat=d;e=a.discoverablePublicChatUnjoined;f.discoverablePublicChatUnjoined=e;b=a.discoverablePublicBroadcastChat;f.discoverablePublicBroadcastChat=b;c=a.discoverablePublicBroadcastChatUnjoined;f.discoverablePublicBroadcastChatUnjoined=c;d=a.xacGroup;f.xacGroup=d}),null);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","ix","CometContextualMessage.react","CometErrorBoundary.react","CometPlaceholder.react","CometSkittleIcon.react","FBLogger","I64","LS.re","LSAuthorityLevel.re","LSContactBlockedByViewerStatus.re","LSContactGender.re","LSContactIdType.re","LSContactType.re","LSContactViewerRelationship.re","LSContactWorkForeignEntityType.re","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","LSVerifyContactRowExists","LsThreadType.re","MWInboxInfoPanelContext.bs","Promise","ReQL","ReQLSuspense","TetraButtonGroup.react","cr:4923","fbicon","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useEffect,m=e.useState;function n(a){if(a.length===0){c("FBLogger")("messenger_comet").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._("__JHASH__bWQyKZ80V0d__JHASH__",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._("__JHASH__ZU2Oj6CpDJW__JHASH__",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function o(a){var e=a.memberRequests,f=a.setWasClosed;a=k(d("MWInboxInfoPanelContext.bs").context);var g=a.isExpanded,l=a.isOnMemberRequestsPageRef,m=a.pushMemberRequestsPage,o=a.setIsExpanded,p=a.setShouldNavToMemberRequests;return j.jsx("div",{className:"xcrg951 x7m3og9 x1vjfegm",children:j.jsx(c("CometContextualMessage.react"),{addOnPrimary:j.jsx(c("TetraButtonGroup.react"),{primary:{label:h._("__JHASH__N4aWocdoeuZ__JHASH__",[h._plural(e.length)]),onPress:function(){l.current!==!0&&(g===!0?m():(p(!0),o(!0))),f(!0)},padding:"wide",type:"secondary"}}),body:n(e),headline:h._("__JHASH__wwx2l6C4JXf__JHASH__",[h._plural(e.length,"number")]),icon:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):d("fbicon")._(i("497883"),16),size:36}),level:4,onClose:function(){f(!0)}})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var e=a.thread;a=m(!1);var f=a[0],g=a[1],h=c("useReStore")(),i=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(h.table("group_membership_approval_requests")).getKeyRange(e.threadKey).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(h.table("contacts")).getKeyRange(a.contactId));return[a,b]})},[h,e.threadKey]),n=i.length,p=c("usePrevious")(n);a=k(d("MWInboxInfoPanelContext.bs").context);var q=a.isOnMemberRequestsPageRef;l(function(){q.current!==!0&&p!==null&&n>p&&g(!1)},[n,p,g,q]);l(function(){var a=i.map(function(a){return a[0].contactId});h.runInTransaction(function(d){return b("Promise").all(a.map(function(a){return c("LSVerifyContactRowExists")(a,c("LSContactIdType.re").fbid,void 0,void 0,c("LSContactType.re").user,void 0,void 0,void 0,void 0,!1,!1,c("LSContactBlockedByViewerStatus.re").unblocked,void 0,!1,c("LSAuthorityLevel.re").clientPartial,void 0,void 0,c("LSContactWorkForeignEntityType.re").unknown,c("LSContactGender.re").unknown,c("LSContactViewerRelationship.re").unknown,void 0,c("LS.re").make(d))}))},"readwrite")},[h,i]);return!f&&i.length>0?j.jsx(o,{memberRequests:i,setWasClosed:g}):null}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.thread;var b=d("I64").equal(a.threadType,c("LsThreadType.re").discoverablePublicChat),e=d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").memberRequest,a);return e&&b?j.jsx(p,{thread:a}):null}q.displayName=q.name+" [from "+f.id+"]";function a(a){a=a.thread;return j.jsx(c("CometErrorBoundary.react"),{children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(q,{thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MediaViewerContainer.bs",["MessengerBlurpleLogoSvg.bs","XMessengerDotComCometRootControllerRouteBuilder","bs_belt_Option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.actions,e=a.children;a=a.shouldShowMessengerLogo;return h.jsxs("div",{className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x6ikm8r x10wlt62 x1n2onr6 x87ps6o x1uvtmcs",children:[e,h.jsx("div",{className:"x10l6tqk x16q8cke x1tk7jg1",children:c("bs_belt_Option").getWithDefault(a,!1)?h.jsx("a",{"aria-label":"Messenger",href:c("XMessengerDotComCometRootControllerRouteBuilder").buildURL(),children:h.jsx(d("MessengerBlurpleLogoSvg.bs").make,{height:"40",width:"40"})}):null}),h.jsx("div",{className:"x92rtbv x10l6tqk x1tk7jg1",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MessageIsEmojiOnly.bs",["EmojiRenderer","EmoticonRenderer","bs_curry","cr:2382","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=/^[ \r\n\s]*$/;function a(a,e){if(a===void 0)return!1;var f=b("cr:2382")==null?a:c("bs_curry")._1(b("cr:2382").unvault,a);a=d("EmojiRenderer").parse(f).map(function(a){return{length:a.length,offset:a.offset}});var g=c("gkx")("1839834");g=g?e?d("EmoticonRenderer").parse(f).map(function(a){return{length:a.chars.length,offset:a.offset}}):[]:[];e=a.concat(g);if(e.length===0)return!1;a=e.sort(function(a,b){return a.offset-b.offset|0});var i={contents:0},j={contents:0};g=a.some(function(a){i.contents===a.offset?(i.contents=i.contents+a.length|0,j.contents=i.contents):j.contents=a.offset;var b=f.substring(i.contents,j.contents);i.contents=a.offset+a.length|0;return h.test(b)===!1});e=i.contents!==f.length&&!h.test(f.substring(j.contents));if(g)return!1;else return!e}g.$MAWVault$requireCond=b("cr:2382");g.utf16RegexSpaces=h;g.make=a}),98);
__d("MWCommunityMessagingNUXDialog.react",["MWCommunityMessagingNUXQuickPromotionContainer.entrypoint","react","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:b("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint"),entryPointParams:{},props:{}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPublicChatNUXDialog.bs",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","LsThreadType.bs","MWPublicChatsNUXQuickPromotionContainer.entrypoint","bs_caml","bs_caml_option","bs_curry","react","useCometRelayEntrypointContextualEnvironmentProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;var b=h.useState(function(){}),e=b[0],f=b[1],g=c("useCometRelayEntrypointContextualEnvironmentProvider")(),i=c("bs_caml").i64_eq(a.threadType,d("LsThreadType.bs").discoverablePublicChat);h.useEffect(function(){e===void 0&&i&&c("bs_curry")._1(f,function(a){return c("bs_caml_option").some(d("CometRelay").loadEntryPoint(g,c("MWPublicChatsNUXQuickPromotionContainer.entrypoint"),{}))});return function(a){if(e!==void 0)return c("bs_curry")._1(c("bs_caml_option").valFromOption(e).dispose)}},[e,g,i]);if(e!==void 0)return h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:c("bs_caml_option").valFromOption(e),props:{}})})});else return null}b=a;e=b;g.make=e}),98);
__d("MWMessageListProtectedMedia.bs",["fbt","CometPressable.react","MWLSThreadDisplayContext.bs","MWText.react","MWVerticalRhythm","bs_caml_obj","bs_caml_option","bs_caml_splice_call","bs_curry","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",minHeight:"x7v6ubd",minWidth:"xfb3i0g",position:"x1n2onr6",$$css:!0},containerForInbox:{minWidth:"xlm99nl",$$css:!0},containerUncoverable:{minWidth:"xfb3i0g",$$css:!0},overlay:{maxWidth:"x193iq5w",":before_content":"x1gftdam",":before_height":"xw22vqi",":before_position":"x1te0kx0",":before_start":"x7r5wyf",":before_top":"x1ehtkf2",":before_width":"xy7dqi3",":before_zIndex":"x1wl4osp",$$css:!0},overlayBlurred:{filter:"xj2j9hd",$$css:!0},overlayDisabled:{pointerEvents:"x47corl",$$css:!0},pressable:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},sneezeguard:{backgroundColor:"x11dxs5c",height:"x5yr21d",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},sneezeguardTransparent:{backgroundColor:"x1cw4mn1",$$css:!0}};b={container:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x10l6tqk",start:"x17qophe",top:"x13vifvy",width:"xh8yej3",zIndex:"xhtitgo",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"xurgmgr",textAlign:"x2b8uid",$$css:!0}};function k(a){var b=a.state;a=a.uncoverable;a=a!==void 0?a:!0;var d;switch(b.TAG){case 0:d=c("bs_caml_option").some(i.jsxs(i.Fragment,{children:[i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"body3",children:h._("__JHASH__SmhjEO8LZM7__JHASH__")}),a?i.jsxs(i.Fragment,{children:[i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:h._("__JHASH__grSMjsZRe9-__JHASH__")})]}):null]}));break;case 1:d=c("bs_caml_option").some(i.jsxs(i.Fragment,{children:[i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"body3",children:h._("__JHASH__SmhjEO8LZM7__JHASH__")}),i.jsx(c("MWVerticalRhythm"),{height:25}),i.jsx(c("MWText.react"),{color:"white",testid:void 0,type:"bodyLink3",children:h._("__JHASH__cegqh2566-V__JHASH__")})]}));break;case 2:d=void 0;break}if(d===void 0)return null;var e;switch(b.TAG){case 0:e="0";break;case 1:e="1";break;case 2:e=void 0;break}return i.jsx("div",{"aria-live":"polite","aria-relevant":"all",className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x5yr21d xl56j7k xyamay9 x1pi30zi x1l90r2v x1swvt13 x10l6tqk x17qophe x13vifvy xh8yej3 xhtitgo",children:i.jsx("div",{className:"x78zum5 xdt5ytf xurgmgr x2b8uid",children:c("bs_caml_option").valFromOption(d)})},e)}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:b};function l(a){}function a(a){var b=a.onPress,e=a.overlayDisabled,f=a.ariaLabel,g=a.children,h=a.linkProps_,m=a.testid,n=a.type_,o=a.url,p=a.xstyle;a=a.uncoverable;var q=b!==void 0?b:l;b=e!==void 0?e:!1;e=a!==void 0?a:!0;a=d("MWLSThreadDisplayContext.bs").useHook();var r=i.useMemo(function(){return p.concat([j.pressable])},[p]),s=i.useState(function(){return{_0:void 0,TAG:0}}),t=s[0],u=s[1],v=i.useRef(null);s=i.useMemo(function(){return{url:"#"}},[]);var w=i.useMemo(function(){var a;a=n.TAG===0?!0:!1;if(a)return{};else if(o!==void 0)return{backgroundImage:"url("+o+")",backgroundSize:"cover",filter:"blur(10px)",height:"100%",left:"0",position:"absolute",right:"0",transform:"scale(1.2)",width:"100%"};else return{}},[o,n]),x;switch(t.TAG){case 0:case 1:x=!0;break;case 2:x=!1;break}var y;switch(t.TAG){case 0:case 1:y=!0;break;case 2:y=!1;break}var z;switch(t.TAG){case 1:z=!0;break;case 0:case 2:z=!1;break}var A,B;switch(t.TAG){case 0:case 1:B=!1;break;case 2:B=!0;break}if(B)A=null;else{var C;switch(t.TAG){case 1:C=!0;break;case 0:case 2:C=!1;break}A=i.jsx("div",{className:c("stylex")(j.sneezeguard,C?j.sneezeguardTransparent:!1)})}a=i.jsxs("div",{className:c("stylex")(j.container,c("bs_caml_obj").caml_equal(a,"Inbox")?j.containerForInbox:!1,e?j.containerUncoverable:!1),children:[i.jsx("div",{style:w}),i.jsx("div",{"aria-hidden":x,className:c("stylex")(j.overlay,y?j.overlayDisabled:!1,z?j.overlayBlurred:!1),children:g}),A,i.jsx(k,{state:t,uncoverable:e})]});if(!e)return i.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[r]),"data-testid":void 0,children:a});var D;switch(t.TAG){case 0:case 1:D=!1;break;case 2:D=!0;break}var E;switch(t.TAG){case 0:case 1:E=!1;break;case 2:E=!0;break}w={children:a,onPress:function(b){var a;switch(t.TAG){case 0:case 1:a=!1;break;case 2:a=!0;break}if(a)return c("bs_curry")._1(q);else return c("bs_curry")._1(u,function(a){switch(a.TAG){case 0:return{_0:void 0,TAG:1};case 1:var b=function(a){c("setTimeout")(function(a){a=v.current;if(a!=null)return a.focus()},0)};b();return{_0:void 0,TAG:2};case 2:return a}})},overlayDisabled:b,ref:v,xstyle:function(a){return r}};g=D?f:void 0;g!==void 0&&(w["aria-label"]=c("bs_caml_option").valFromOption(g));A=E?h:s;A!==void 0&&(w.linkProps=c("bs_caml_option").valFromOption(A));m!==void 0&&(w.testid=c("bs_caml_option").valFromOption(m));return i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},w))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.$$Text=e;g.defaultOnPress=l;g.make=b}),98);
__d("MWChatBlockQuote.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;return h.jsx("blockquote",{className:"xzrp4sq x26u7qi x7g060r x1gslohp x11i5rnm x12nagc x1mh8g0r x1pi30zi x1swvt13 x126k92a",children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerFormattingConfig",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"}})}),null);
__d("MWChatTextFormatting",["$InternalEnum","MWChatBlockQuote.react","MessengerFormattingConfig","TetraText.react","UnicodeUtils","gkx","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough"]);function j(a){var b,d=function(a){return a[2]},e=1,f=!0,g=function(a){return!0};switch(a){case i.Bold:b=c("MessengerFormattingConfig").boldConfig.pattern;break;case i.Italics:b=c("MessengerFormattingConfig").italicConfig.pattern;break;case i.StrikeThrough:b=c("MessengerFormattingConfig").strikethroughConfig.pattern;break;case i.InlineCode:b=c("MessengerFormattingConfig").codeConfig.pattern;break;case i.BlockQuote:b=c("MessengerFormattingConfig").blockQuoteConfig.pattern;f=!1;break;case i.InlineQuote:g=function(a){return a.trim()!==">"};b=c("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern;f=!1;break;case i.CodeBlock:d=function(a){var b;return(b=a[4])!=null?b:a[5]};b=c("MessengerFormattingConfig").codeBlockV2Config.pattern;f=!1;break}if(b==null)throw c("unrecoverableViolation")("No formatting config found for given format","messenger_comet");return{getCleanText:d,hasClosingTag:f,regExp:new RegExp(b,"gm"),tagIndex:e,validator:g}}var k=[i.CodeBlock,i.InlineCode,i.BlockQuote,i.InlineQuote,i.Bold,i.Italics,i.StrikeThrough];function a(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}a.displayName=a.name+" [from "+f.id+"]";function e(a,b){switch(b.format){case i.Bold:return h.jsx("b",{children:b.text});case i.Italics:return h.jsx("i",{children:b.text});case i.StrikeThrough:return h.jsx("strike",{children:b.text});case i.CodeBlock:return h.jsx("div",{className:"xmjcpbm x1lq5wgf xgqcy7u x30kzoy x9jhf4c x1iorvi4 x150jy0e xjkvuk6 x1e558r4 x126k92a",children:h.jsx(c("TetraText.react"),{type:"body4",children:h.jsx("code",{children:b.text})})});case i.InlineCode:return h.jsx("code",{className:"",children:b.text});case i.BlockQuote:case i.InlineQuote:return h.jsx(c("MWChatBlockQuote.react"),{children:b.text})}}e.displayName=e.name+" [from "+f.id+"]";function l(a){var b=[];k.forEach(function(e){var f=j(e),g=f.getCleanText,h=f.hasClosingTag,i=f.regExp,k=f.tagIndex;f=f.validator;var l;if(!f(a))return;f=function(){if(l==null)return"break";var f=d("UnicodeUtils").substr(a,0,l.index);f=f.length-d("UnicodeUtils").strlen(f);var i=l.index-f,j=c("gkx")("188")?d("UnicodeUtils").strlen(l[0]):l[0].length;h&&(i+=l[k].length,j-=l[k].length);f=function(a){var b=i+j,c=a.offset+a.length;return b>a.offset&&i<c};var m=g(l);if(!b.find(f)){if(b.length>0){f=b[b.length-1];if(f.entity.format===e&&f.offset+f.length+1===i){f.entity.text+="\n"+m;f.length+=j+1;return"continue"}}b.push({entity:{__typename:"MessengerTextFormatting",format:e,text:m},length:j,offset:i})}};_loop:while((l=i.exec(a))!=null){var m=f();switch(m){case"break":break _loop;case"continue":continue}}});return b}g.MessengerTextFormattingEntity=i;g.messageRenderer=a;g.replyRenderer=e;g.getFormattingRanges=l}),98);
__d("MWPThreadCapabilitiesContext.bs",["LSThreadBitOffset.bs","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext(function(a){return!1});function a(a){var b=a.children,e=a.thread;a=c("bs_int64").to_string(e.capabilities);var f=c("bs_int64").to_string(e.capabilities2);a=h.useCallback(function(a){return d("LSThreadBitOffset.bs").has(a,e)},[a,f]);return h.createElement(i.Provider,{children:b,value:a})}e={make:a};function b(a){return h.useContext(i)}f=e;a=b;g.Provider=f;g.useHook=a}),98);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(a,b,c,d,e,f,g){var h="scraperLastPermissiveMatch";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;d=a.call(this)||this;d.input=b;d.enable();d.getValueFn=c;return d}var e=b.prototype;e.reset=function(){d("DataStore").set(this.input,h,null)};e.enable=function(){if(this.events)return;var a=function(a){window.setTimeout(this.check.bind(this,a),30)};this.events=c("Event").listen(this.input,{paste:a.bind(this,!1),keydown:a.bind(this,!0)})};e.disable=function(){if(!this.events)return;for(var a in this.events)this.events[a].remove();this.events=null};e.check=function(a){var c=this.getValueFn?this.getValueFn():this.input.value;if(a&&b.trigger(c))return;a=b.match(c);c=d("URLMatcher").permissiveMatch(c);c&&c!=d("DataStore").get(this.input,h)&&(d("DataStore").set(this.input,h,c),this.inform("match",{url:a||c,alt_url:c}))};return b}(c("mixin")(c("ArbiterMixin")));Object.assign(a,d("URLMatcher"));g["default"]=a}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=[],e=0;while(!0){var f=d("UnicodeUtils").substr(a,e),g=c("URLScraper").match(f);if(!g)break;if(!c("URI").isValidURI(g))break;var h=g;/^[a-z][a-z0-9\-+.]+:\/\//i.test(g)||(h="http://"+g);var i=f.indexOf(g);f=d("UnicodeUtils").strlen(f.substr(0,i));e+=f;i=g.length;b.push({offset:e,length:g.length,entity:{url:h}});e+=i}return b}g["default"]=a}),98);
__d("MWV2ChatText.bs",["MWPMessageListText.bs","MWPVisibleMessageContext.bs","MWUseTextRenderers.bs","MWV2ChatTextParserUtils.bs","bs_caml_option","bs_curry","cr:2382","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){var c=b.mentionIds,e=b.mentionLengths,f=b.mentionOffsets;b=b.mentionTypes;if(c!==void 0)if(e!==void 0)if(f!==void 0)if(b!==void 0)return d("MWV2ChatTextParserUtils.bs").findRangesForMentions(a,c,e,f,b);else return[];else return[];else return[];else return[]}function j(a,b,c){if(a===void 0)return[];if(a.messageId!==c)return[];var d=b.indexOf(a.contextLine);if(d>-1)return a.highlights.map(function(a){return{entity:{__typename:"Highlight"},length:a.matchLength,offset:a.matchOffset+d|0}});else return[]}function k(a){var e=c("useReStore")(),f=d("MWPVisibleMessageContext.bs").useHook(),g=f.visibleMessage;return h.useMemo(function(){var f=a.text;f=f!==void 0&&f!==""?f:void 0;if(f===void 0)return[];if(d("MWV2ChatTextParserUtils.bs").isEmojiOnlyMessage(f))return[];f=b("cr:2382")==null?f:c("bs_curry")._1(b("cr:2382").unvault,f);var h=i(e,a);h=h.concat(d("MWV2ChatTextParserUtils.bs").findRanges(f));return h.concat(j(g==null?void 0:c("bs_caml_option").some(g),f,a.messageId))},[a,e,g])}function a(a){var e=a.message,f=a.outgoing;a=a.isSecureMessage;a=a!==void 0?a:!1;var g=k(e),i=d("MWUseTextRenderers.bs").useHook(a),j=e.text;a=b("cr:2382")==null?e.text:a?j!==void 0?c("bs_curry")._1(b("cr:2382").unvaultOrThrow,j):e.text:j!==void 0?c("bs_curry")._1(b("cr:2382").unvault,j):e.text;return h.jsx(d("MWPMessageListText.bs").make,{message:e,outgoing:f,ranges:g,renderers:i,text:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=e;g.$MAWVault$requireCond=b("cr:2382");g.useRanges=k;g.make=f}),98);
__d("MWPNewMessageDraftContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext();function a(a){a=a.children;var b=h.useRef("");return h.createElement(i.Provider,{children:a,value:b})}function b(a){return h.useContext(i)}c=a;g.useContext=b;g.make=c}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:3101","gkx","mlcErrorHandler__INTERNAL"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,d("CometLexicalEmojiNode").EmojiNode,(e=b("cr:3101"))==null?void 0:e.MessengerLexicalCommandNode];function a(){var a=babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"});c("gkx")("7606")&&(a.text={strikethrough:"xmqliwb"});var b=d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:function(a){return c("mlcErrorHandler__INTERNAL")(a,b,function(b){c("FBLogger")("messenger_web_product").catching(a).mustfix("Lexical Error MWP \u2013 "+b)})},theme:a});return b}g["default"]=a}),98);
__d("useMWPCometComposerPrepopulateDraftMessage",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){h(function(){var c=b.current;if(c==null)return;a.update(function(){if(b!=null){var a=d("Lexical").$getRoot(),e=a.getFirstChild();d("Lexical").$isParagraphNode(e)||(e=d("Lexical").$createParagraphNode(),a.append(e));a=d("Lexical").$createTextNode(c);e.append(a);a.select()}})},[a,b])}g["default"]=a}),98);
__d("useMWPLexicalClearEditor",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a){h(function(){return a.registerCommand(d("Lexical").CLEAR_EDITOR_COMMAND,function(){a.update(function(){var a=d("Lexical").$getRoot(),b=d("Lexical").$getSelection(),c=d("Lexical").$createParagraphNode();a.clear();a.append(c);b!==null&&c.select()});return!0},d("Lexical").COMMAND_PRIORITY_EDITOR)},[a])}g["default"]=a}),98);
__d("useMWPLexicalIsTextContentEmpty",["LexicalText","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useLayoutEffect,i=b.useState;function a(a,b,c){c=i((c=c)!=null?c:a.getEditorState().read(d("LexicalText").$isRootTextContentEmptyCurry(a.isComposing(),b)));var e=c[0],f=c[1];h(function(){return a.registerUpdateListener(function(c){c=c.editorState;var e=a.isComposing();c=c.read(d("LexicalText").$isRootTextContentEmptyCurry(e,b));f(c)})},[a,b]);return e}g["default"]=a}),98);
__d("MWPComposerEditor.bs",["LS.bs","LSUpdateDraftMessage","Lexical","LexicalText","MWChatFocusComposerContext.bs","MWLSUseLatch.bs","MWPActor.bs","MWPNewMessageDraftContext.bs","MWPReplyContext.bs","MWV2ChatComposerGetViewContent","MWV2ComposerHasContentContext.bs","MWV2IsTabFocusedContext.bs","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","cr:11463","cr:5334","mwpLexicalCreateEditor","promiseDone","react","useDebounced","useLexicalInitializeEditor__DEPRECATED","useMWPCometComposerPrepopulateDraftMessage","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWPLexicalIsTextContentEmpty","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){h.useEffect(function(){c("bs_curry")._1(b,a.getEditorState())},[a,b]),h.useEffect(function(){return a.registerUpdateListener(function(a){return c("bs_curry")._1(b,a.editorState)})},[b,a])}function j(a,b){b=d("MWLSUseLatch.bs").useLatch(b,!0,5e3);var e=b[0],f=b[1],g=h.useRef("");h.useEffect(function(){var b=function(a){a=a.editorState.read(function(a){return d("LexicalText").$rootTextContent()});if(a!==g.current){g.current=a;if(a==="")return c("bs_curry")._1(f);else return c("bs_curry")._1(e)}};return a.registerUpdateListener(b)},[e,f,a])}function k(a,b,e,f){var g=c("useReStore")(),i=d("MWPActor.bs").useActor();return h.useCallback(function(b){f!==void 0&&c("bs_curry")._4(f,JSON.stringify(e.getEditorState()),c("bs_int64").to_string(a.threadKey),String(b),i),c("promiseDone")(g.runInTransaction(function(e){return c("LSUpdateDraftMessage")(a.threadKey,b,d("LS.bs").make(e))},"readwrite"))},[g,JSON.stringify(a.threadKey)])}function l(a){var b=d("MWPReplyContext.bs").useContext(),e=b.reply,f=c("usePrevious")(e);h.useEffect(function(){var b=f==null?e!==void 0:c("bs_caml_obj").caml_notequal(f,e)?!0:!1;b&&a.focus(function(a){})},[a,e,f==null?void 0:c("bs_caml_option").some(f)])}var m=b("cr:11463")==null?function(a){}:b("cr:11463").useHook;function a(a){var e=a.isSendDisabled,f=a.children,g=a.customizedRanges,n=a.deleteComposerStateForUserIdByThreadKey,o=a.getDraftThreadIds,p=a.getEditorState,q=a.isPreviewThread,r=a.mediaStaging,s=a.onSendEmptyMessage,t=a.onSendMessage,u=a.onTypingStateChanged,v=a.persistEditorState,w=a.policyProduct,x=a.surface,y=a.thread,z=a.useMWPComposerPrepopulateEditorState;a=a.getTextFromEditorState;var A=e!==void 0?e:!1,B=a!==void 0?a:function(a){return a.read(function(a){return d("LexicalText").$rootTextContent()})},C=d("MWPNewMessageDraftContext.bs").useContext();e=C!==void 0?C.current:y.draftMessage;a=h.useRef(e);var D=h.useRef(null);c("bs_curry")._1(m,D.current);var E=h.useMemo(function(){return c("mwpLexicalCreateEditor")()},[]);p=p!==void 0?c("bs_curry")._1(p,c("bs_int64").to_string(y.threadKey)):JSON.stringify(E.getEditorState());p=p!==void 0?JSON.parse(p):JSON.parse("{}");var F={contents:function(a){return E.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)}},G=k(y,o,E,v),H=c("useDebounced")(G,2e3),I=h.useRef();o=d("MWV2ComposerHasContentContext.bs").useContext();var J=o.shouldClearDraftMessageRef,K=o.hasContentRef;h.useEffect(function(){return function(a){if(J!==void 0&&J.current)return c("bs_curry")._1(G,"");a=I.current;if(a!==void 0)return c("bs_curry")._1(G,a)}},[]);v=h.useCallback(function(a){a=a.read(function(a){return d("LexicalText").$rootTextContent()});I.current=a;K!==void 0&&(K.current=a!=="");H(a);if(q&&C!==void 0){C.current=a;return}},[E,G,q]);i(E,v);j(E,u);o=e!==void 0?e.trim()==="":!0;v=c("useMWPLexicalIsTextContentEmpty")(E,!0,o);u=r.length>0;var L=!v||u,M=r.filter(function(a){return!a.isSent}).length;e=h.useContext(d("MWChatFocusComposerContext.bs").context);var N=e.setFocusComposer;h.useEffect(function(){c("bs_curry")._1(N,function(a){return E.focus(function(a){})})},[E]);h.useEffect(function(){M>0&&E.focus(function(a){})},[E,M]);var O=d("MWV2IsTabFocusedContext.bs").useContext();h.useEffect(function(){O&&!q&&E.focus(function(a){})},[E,O,q]);l(E);c("useMWPCometComposerPrepopulateDraftMessage")(E,a);z!==void 0&&c("bs_curry")._2(z,E,p);var P=d("MWPActor.bs").useActor(),Q=function(a,b,d,e,f,g,h,i,j,k){n!==void 0&&c("bs_curry")._2(n,c("bs_int64").to_string(y.threadKey),c("bs_int64").to_string(P));c("bs_curry").app(t,[a,b,d,e,f,g,h,i,j,void 0,void 0]);return E.focus(function(a){})};o=h.useCallback(function(a){if(A)return;if(L){a=g!==void 0?c("bs_curry")._2(g,E,c("bs_int64").to_string(y.threadKey)):c("MWV2ChatComposerGetViewContent").getRanges(E);var b=E.getEditorState();b=c("bs_curry")._1(B,b);Q(b,a)}else c("bs_curry")._1(s);I.current="";return c("bs_curry")._1(F.contents)},[E,Q,L,A]);c("useMWPLexicalCommitMessageOnEnter")(E,o);b("cr:5334").useLexicalPlainText(E);c("useLexicalInitializeEditor__DEPRECATED")(E);c("useMWPLexicalClearEditor")(E);return c("bs_curry")._6(f,E,x,w,L,D,o)}e=a;f=e;g.$MWUseKeyCommandsForComposer$OR$null$requireCond=b("cr:11463");g.make=f}),98);
__d("FBLikeSvgIcon.bs",["bs_caml_option","react","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.className,d=a.color,e=a.size;a=a.title;e=e!==void 0?e:"20";var f=a!==void 0?c("bs_caml_option").valFromOption(a):null;a=h.useState(function(){if(f===null)return;else return c("uniqueID")()});a=a[0];return h.jsxs("svg",{"aria-labelledby":a,className:b,height:e,viewBox:"0 0 16 16",width:e,children:[a!==void 0&&f!==null?h.jsx("title",{id:a,children:f}):null,h.jsx("path",{d:"M16,9.1c0-0.8-0.3-1.1-0.6-1.3c0.2-0.3,0.3-0.7,0.3-1.2c0-1-0.8-1.7-2.1-1.7h-3.1c0.1-0.5,0.2-1.3,0.2-1.8 c0-1.1-0.3-2.4-1.2-3C9.3,0.1,9,0,8.7,0C8.1,0,7.7,0.2,7.6,0.4C7.5,0.5,7.5,0.6,7.5,0.7L7.6,3c0,0.2,0,0.4-0.1,0.5L5.7,6.6 c0,0-0.1,0.1-0.1,0.1l0,0l0,0L5.3,6.8C5.1,7,5,7.2,5,7.4v6.1c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,1,1,2,1h5.2c0.9,0,1.4-0.3,1.8-0.9 c0.3-0.5,0.2-1,0.1-1.4c0.5-0.2,0.9-0.5,1.1-1.2c0.1-0.4,0-0.8-0.2-1C15.6,10.3,16,9.9,16,9.1z",fill:d}),h.jsx("path",{d:"M3.3,6H0.7C0.3,6,0,6.3,0,6.7v8.5C0,15.7,0.3,16,0.7,16h2.5C3.7,16,4,15.7,4,15.3V6.7C4,6.3,3.7,6,3.3,6z",fill:d})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:h.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLikeSvgIcon.bs",["cr:5133"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSLikeSvgIcon$OR$FBLikeSvgIcon$requireCond=b("cr:5133"),g.make=b("cr:5133").make}),98);
__d("StylexHelpers.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};g.styles=a}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.bs","StylexHelpers.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react");function a(a){var b=a.message;a=a.outgoing;var e=d("MWPMessageAuthor.bs").useAuthorName(b);e=e[0];var f=a?h._("__JHASH__950lIWTelJN__JHASH__"):h._("__JHASH__uufWL2Zp_42__JHASH__");return!b.isAdminMessage&&i.jsx("span",{className:c("stylex")(d("StylexHelpers.bs").styles.visuallyHidden),children:e!=null&&!a?e:f})}g["default"]=a}),98);
__d("MWPAriaLabelForMessageListGrid.bs",["fbt","MWPActor.bs","MWPGetThreadTitle.bs","ReQL.bs","ReQLSuspense","bs_belt_Option","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=c("useReStore")(),f=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:a.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(e.table("contacts"))),8)},[a.threadKey]);return i.useMemo(function(){var e=a.threadName;if(e!==void 0)return h._("__JHASH__NOo4A_R8oVU__JHASH__",[h._param("name of conversation",e)]).toString();e=c("bs_belt_Option").getWithDefault(d("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,f,b),"");return h._("__JHASH__KCW8qihKWub__JHASH__",[h._param("participant list",e)]).toString()},[b,f,a.threadName])}b=a;g.useHook=b}),98);
__d("MWPMessageHasAttachment.bs",["LSMessageContentType.bs","bs_caml_int64","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!c("bs_int64").equal(a.displayedContentTypes,d("LSMessageContentType.bs").text)&&!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSMessageContentType.bs").text,d("LSMessageContentType.bs").forwardIndicator))&&!c("bs_int64").equal(a.displayedContentTypes,d("LSMessageContentType.bs").glyph)&&!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSMessageContentType.bs").glyph,d("LSMessageContentType.bs").forwardIndicator)))return!c("bs_int64").equal(a.displayedContentTypes,c("bs_caml_int64").add(d("LSMessageContentType.bs").text,d("LSMessageContentType.bs").storyReply));else return!1}b=a;g.make=b}),98);
__d("MWPMessageHasXMA.bs",["LSMessageContentType.bs","bs_caml_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return[c("bs_caml_int64").and_(d("LSMessageContentType.bs").singleXma,a.displayedContentTypes),c("bs_caml_int64").and_(d("LSMessageContentType.bs").hscrollXma,a.displayedContentTypes)].some(function(a){return c("bs_caml_int64").to_int32(a)!==0})}b=a;g.make=b}),98);
__d("LSMessageReplySourceTypeV2",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,MESSAGE:1,STORY:2,FORWARD:3,FB_STORY_SHARE:4,IG_STORY_SHARE:5,STORY_BASE64_ENCODED:6,LIGHTWEIGHT_STATUS:7,CLOSE_FRIENDS:8,XMA:9,IG_NOTE:10,CLOSE_FRIENDS_NOTE_REPLY:11,LIGHTWEIGHT_STATUS_REACTION:12});f["default"]=a}),66);
__d("MWPMessageIsReply.bs",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.replySourceTypeV2!=null&&d("LSIntEnum").toNumber(a.replySourceTypeV2)!==c("LSMessageReplySourceTypeV2").FORWARD}g["default"]=a}),98);
__d("MWPMessageListColumn.bs",["react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={centered:{alignItems:"x6s0dn4",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},makeSpaceForActions:{maxWidth:"x1r145dm",$$css:!0},paint:{backgroundColor:"xcrg951",$$css:!0},profile:{paddingEnd:"x1sxyh0",paddingStart:"x1nvil2r",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},withGutters:{paddingEnd:"xe53cfu",paddingStart:"xrgni87",$$css:!0}};function k(a){var c=a.children,d=a.grow,e=a.shrinkwrap,f=a.paint,g=a.profile,k=a.withGutters,l=a.makeSpaceForActions,m=a.centered;a=a.selfCentered;d=d!==void 0?d:!1;e=e!==void 0?e:!1;f=f!==void 0?f:!1;g=g!==void 0?g:!1;k=k!==void 0?k:!1;l=l!==void 0?l:!1;m=m!==void 0?m:!1;a=a!==void 0?a:!1;return i.jsx("div",{className:(h||(h=b("stylex")))(j.root,d?j.grow:!1,e?j.shrinkwrap:!1,f?j.paint:!1,g?j.profile:!1,k?j.withGutters:!1,l?j.makeSpaceForActions:!1,m?j.centered:!1,a?j.selfCentered:!1),role:"none",children:c})}k.displayName=k.name+" [from "+e.id+"]";var l={make:k,styles:j};function a(a){var b=a.children,c=a.shrinkwrap;a=a.grow;c=c!==void 0?c:!1;a=a!==void 0?a:!1;return i.jsx(k,{grow:a,paint:!0,shrinkwrap:c,withGutters:!0,children:b})}a.displayName=a.name+" [from "+e.id+"]";function c(a){var b=a.children;a=a.selfCentered;a=a!==void 0?a:!1;return i.jsx(k,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:b})}c.displayName=c.name+" [from "+e.id+"]";c={make:c};function d(a){var b=a.children,c=a.paint;a=a.centered;c=c!==void 0?c:!0;a=a!==void 0?a:!1;return i.jsx(k,{centered:a,paint:c,shrinkwrap:!0,children:b})}d.displayName=d.name+" [from "+e.id+"]";function m(a){a=a.children;return i.jsx(k,{grow:!0,paint:!0,children:a})}m.displayName=m.name+" [from "+e.id+"]";m={make:m};function n(a){var b=a.children,c=a.makeSpaceForActions;a=a.paint;return i.jsx(k,{makeSpaceForActions:c,paint:a,children:b})}n.displayName=n.name+" [from "+e.id+"]";n={make:n};var o={spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function p(a){return i.jsx("div",{className:"x1r8uery x1iyjqo2",role:"none"})}p.displayName=p.name+" [from "+e.id+"]";p={make:p,styles:o};function q(a){a=a.height;return i.jsx("div",{className:"xcrg951 xh8yej3",role:"none",style:{height:""+a+"px"}})}q.displayName=q.name+" [from "+e.id+"]";f.BaseColumn=l;f.WithGutters=a;f.Profile=c;f.Shrinkwrap=d;f.Grow=m;f.Bubble=n;f.HorizontalSpacer=p;f.VerticalRhythm=q}),null);
__d("MWPMessageParsingUtils.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessageReplySourceTypeV2.bs","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MercuryThreadlistConstants","bs_belt_Option","bs_caml","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=a.text;if(a!==void 0)return a!=="";else return!1}function j(a){a=a.replySourceTypeV2;if(a!==void 0&&c("bs_caml").i64_neq(a,d("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function k(a){a=a.replySourceTypeV2;if(a!==void 0&&c("bs_caml").i64_eq(a,d("LSMessageReplySourceTypeV2.bs").forward))return!0;else return!1}function l(a){return c("bs_belt_Option").mapWithDefault(a.text,!1,function(a){return a.length>c("MercuryThreadlistConstants").MAX_CHARS_BEFORE_BREAK})}function m(a){if(a.isAdminMessage||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").glyph,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").tombstone,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").sticker,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").storyReply,a.displayedContentTypes))return!0;else return l(a)}function n(a,b){if(b===void 0)return!0;var d=Math.abs(c("bs_caml_int64").to_float(a.timestampMs)-c("bs_caml_int64").to_float(b.timestampMs))>c("MercuryThreadlistConstants").GROUPING_THRESHOLD,e=k(a),f=c("bs_int64").compare(a.senderId,b.senderId)===0;if(b.isUnsent||a.isUnsent||j(a)||!f||d||e||m(a))return!0;else return m(b)}function o(a,b){if(b!==void 0&&!n(a,b))return!1;else return!0}function p(a,b){if(b!==void 0&&!n(b,a))return!1;else return!0}function a(a,b,c){if(c==="below")if(i(a))return!0;else return!o(a,b);else return!1}function b(a,b,c){if(c==="below")return!p(a,b);else if(p(a,b))return!1;else return i(a)}f={shouldConnectBottom:b,shouldConnectTop:a};function e(a){var b=a.replySourceTypeV2,e=b!==void 0?c("bs_caml").i64_eq(b,d("LSMessageReplySourceTypeV2.bs").message)||c("bs_caml").i64_eq(b,d("LSMessageReplySourceTypeV2.bs").story)?h.jsx(c("MDSReplySvgIcon.react"),{color:"tertiary",size:16}):c("bs_caml").i64_eq(b,d("LSMessageReplySourceTypeV2.bs").forward)||c("bs_caml").i64_eq(b,d("LSMessageReplySourceTypeV2.bs").igStoryShare)||c("bs_caml").i64_eq(b,d("LSMessageReplySourceTypeV2.bs").fbStoryShare)?h.jsx(c("MDSForwardSvgIcon.react"),{color:"tertiary",size:16}):null:null;return c("bs_belt_Option").map(a.replySnippet,function(a){return h.jsxs("div",{className:"x6s0dn4 x78zum5 xahult9",children:[e,h.jsx("div",{className:"x12scifz x1pg5gke x1h0ha7o",children:a})]})})}b=i;a=j;var q=k,r=l,s=m,t=n,u=o,v=p;f=f;e=e;g.hasText=b;g.isReplyToSomething=a;g.isForwarded=q;g.isLongText=r;g.shouldBeStandalone=s;g.isInDifferentGroup=t;g.isStartOfGroup=u;g.isEndOfGroup=v;g.MessageWithAttachments=f;g.getGroupTitleForReply=e}),98);
__d("MWPBaseMessage.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSThreadCapabilityBitOffset.bs","MWPMessageHasAttachment.bs","MWPMessageHasXMA.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","MWPThreadCapabilitiesContext.bs","MWV2MessageIsEmojiOnly.bs","bs_caml_option","bs_curry","cr:3890","gkx","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",$$css:!0},elevate:{position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0},vr:{backgroundColor:"xcrg951",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function k(a,c){if(b("LSBitFlag.bs").has(b("LSMessageContentType.bs").glyph,a.displayedContentTypes))return!0;else return b("MWV2MessageIsEmojiOnly.bs").make(a.text,c)}var l=b("cr:3890")==null?void 0:b("bs_caml_option").some(b("cr:3890"));function m(a){return i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})}m.displayName=m.name+" [from "+e.id+"]";c={make:m};function n(a){var c=a.attachmentRenderPosition,d=a.isEmojiOnly,e=a.isFirstMessageInGroup,f=a.isLastMessageInGroup,g=a.isMessagePinned,h=a.isNextMessagePinned,j=a.message,k=a.nextMessage,l=a.outgoing,n=a.prevMessage,o=a.renderAttachment,p=a.renderEmoji,q=a.renderMessageBubble,r=a.shouldHideLinkPreviews;a=a.shouldRenderMessageContent;var s=b("MWPThreadCapabilitiesContext.bs").useHook();s=b("gkx")("1886144")&&b("bs_curry")._1(s,b("LSThreadCapabilityBitOffset.bs").disableLinks);var t=b("MWPMessageIsReply.bs")(j),u=b("MWPMessageParsingUtils.bs").hasText(j),v=b("MWPMessageHasXMA.bs").make(j),w=v&&c==="below"&&!r;e=c==="below"?!t&&!e&&!g:!1;g=!f&&!h;if(a){f=j.text;h=f!==void 0?d?t?i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:p(j)}):t?null:i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap,{children:[e?i.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,i.jsx("div",{className:"x1n2onr6 x1vjfegm",children:b("bs_curry")._1(p,j)})]}):f!==""?i.jsxs(i.Fragment,{children:[e||c==="above"?i.jsx("div",{className:"xcrg951 x36qwtl xh8yej3"}):null,i.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[l?i.jsx(m,{}):null,q(j,e,g,w,l),l?null:i.jsx(m,{})]})]}):null:null}else h=null;if(b("MWPMessageHasAttachment.bs").make(j)&&!(s&&v)&&!r){a=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectTop(j,n,c);d=b("MWPMessageParsingUtils.bs").MessageWithAttachments.shouldConnectBottom(j,k,c);t=o(a,d,u)}else t=null;return i.jsxs(i.Fragment,{children:[c==="above"?t:null,h,c==="below"?t:null]})}d={make:n};function a(a){var c=a.reactionsV2,d=a.attachmentRenderPosition,e=a.shouldRenderMessageContent,f=a.checkEmoticon,g=a.isFirstMessageInGroup,o=a.isLastMessageInGroup,p=a.message,q=a.nextMessage,r=a.outgoing,s=a.prevMessage,t=a.reactions,u=a.renderAttachment,v=a.renderEmoji,w=a.renderMessageBubble,x=a.renderMessageContainer,y=a.renderMessageFooter,z=a.renderUnsentMessage;a=a.shouldHideLinkPreviews;c!==void 0?b("bs_caml_option").valFromOption(c):void 0;c=d!==void 0?d:"below";d=e!==void 0?e:!0;if(p.isUnsent)if(z!==void 0)return i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:z()});else return null;e=k(p,f);z=b("cr:3890")==null?i.jsx(n,{attachmentRenderPosition:c,isEmojiOnly:e,isFirstMessageInGroup:g,isLastMessageInGroup:o,isMessagePinned:!1,isNextMessagePinned:!1,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldHideLinkPreviews:a,shouldRenderMessageContent:d}):i.jsx(l.make,{attachmentRenderPosition:c,isEmojiOnly:e,isFirstMessageInGroup:g,isLastMessageInGroup:o,message:p,nextMessage:q,outgoing:r,prevMessage:s,renderAttachment:u,renderEmoji:v,renderMessageBubble:w,shouldRenderMessageContent:d});return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[r?i.jsx(m,{}):null,x!==void 0?b("bs_curry")._2(x,z,[j.container,r?j.outgoing:!1]):i.jsx("div",{className:(h||(h=b("stylex")))(j.container,r?j.outgoing:!1),children:z}),r?null:i.jsx(m,{})]}),i.jsxs(i.Fragment,{children:[e&&t.length>0?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm,{height:5}):null,i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:y()})]})]})}e=a;f.styles=j;f.$MWPBaseMessageContentWithPinnedMessageSupport$requireCond=b("cr:3890");f.HorizontalFill=c;f.Content=d;f.make=e}),null);
__d("LSMailboxMessagesRangeQueryDirection",[],(function(a,b,c,d,e,f){a=Object.freeze({BEFORE_LEGACY:-1,BEFORE:0,AFTER:1});f["default"]=a}),66);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useState,l={animateIn:{animationDuration:"x5hsz1j",animationName:"x1j49z95",transform:"x1dufm33",$$css:!0},animateOut:{animationDuration:"x5hsz1j",animationName:"x1j4bph1",transform:"xk9af5f",$$css:!0},animationWrapper:{bottom:"x1ey2m1c",position:"x10l6tqk",start:"x14yxtea",zIndex:"x1vjfegm",$$css:!0},root:{height:"xqtp20y",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=a.children,d=a.visible;a=k(d);var e=a[0],f=a[1];i(function(){d&&f(!0)},[d,f]);return j(function(){return e?h.jsx("div",{className:"xqtp20y x1n2onr6 xh8yej3",children:h.jsx("div",{className:c("stylex")([l.animationWrapper,d?l.animateIn:l.animateOut]),onAnimationEnd:function(a){d||f(!1)},children:b})}):null},[d,e,f,b])}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPBaseMessageList.react",["BaseHeadingContextWrapper.react","FBLogger","I64","IntersectionObserver","LS.re","LSDbKeyComparer","LSIntEnum","LSIssueMessagesRangeQuery","LSMailboxMessagesRangeQueryDirection","LSMessagePointQuery","LSMessagingThreadTypeUtil.bs","LSOptimisticMarkThreadReadV2","MWMarkThreadAsReadWhenNewMessagesArrive.bs","MWPJumpToMostRecentMessageButtonAnimationWrapper.react","MWPMessageAuthor.bs","MWPVisibleMessageContext.re","PromiseOrValue","ReQL","ReQLPaginatedList.react","ReQLSuspense","ServerTime","cr:3393","intersectionObserverEntryIsIntersecting","nullthrows","promiseDone","react","useReStore","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,aa=e.useImperativeHandle,ba=e.useMemo,k=e.useRef,l=e.useState,ca={container:{isolation:"xc8icb0",zIndex:"x1ja2u2z",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},observed:{height:"xjm9jq1",marginTop:"x1y332i5",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},spacer:{backgroundColor:"xcrg951",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}},da=d("I64").of_string("9999999999999"),m=5;function n(a){var b=a.messageId,c=a.primarySortKey;a=a.secondarySortKey;return d("ReQL").key(c,a,b)}function ea(a,b){if(a==null||b==null)return;return d("I64").compare(b,a.maxTimestampMs)<=0?a:null}function fa(a,b,e,f){c("promiseDone")(a.runInTransaction(function(a){return c("LSMessagePointQuery")(b,e,f,d("LS.re").make(a))},"readwrite"))}function ga(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}function o(a,b){var c=new WeakMap();function e(a){return a.gt!=null?{gt:a.gt.tl}:{gte:a.gte.tl}}function f(a){return a.lt!=null?{lt:a.lt.tl}:{lte:a.lte.tl}}function g(a){return a==null?void 0:babelHelpers.extends({},a.gte!=null||a.gt!=null?e(a):{},a.lte!=null||a.lt!=null?f(a):{})}return Object.setPrototypeOf({direction:a.direction,iterator:function(e,f){var g={};if(f){if(f.gt!=null){var h=f.gt,i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.gt=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.gte!=null){h=f.gte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)g.gte=h.tl;else if(i<0)return{next:function(){return{done:!0}}}}if(f.lte!=null){h=f.lte;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)h.tl!==0&&(g.lte=h.tl);else if(i>0)return{next:function(){return{done:!0}}}}if(f.lt!=null){h=f.lt;i=d("LSDbKeyComparer").compareValue(b,h.hd);if(i===0)if(h.tl===0)return{next:function(){return{done:!0}}};else g.lt=h.tl;else if(i>0)return{next:function(){return{done:!0}}}}}var j=a.iterator(e,g);return{next:function(a){return d("PromiseOrValue").map(j.next(a==null?void 0:a.tl),function(a){if(a.done)return{done:!0};var d=c.get(a.value[0]);d==null&&(d={hd:b,tl:a.value[0]},c.set(a.value[0],d));return{done:!1,value:[d,a.value[1]]}})}}},keyLength:a.keyLength+1,subscribe:function(d,e){return a.subscribe(function(a,e,f){var g=c.get(a);g==null&&(g={hd:b,tl:a},c.set(a,g));return d(g,e,f)},g(e))}},d("ReQL").prototype)}function p(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(b.table("messages")).getKeyRange(a.threadKey).bounds({gte:d("ReQL").key(a.minTimestampMs,a.minMessageId)}):d("ReQL").empty()},[b,a])}function q(a){var b=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableDescending(b.table("messages")).getKeyRange(a.threadKey).bounds({lte:d("ReQL").key(a.maxTimestampMs,a.maxMessageId)}):d("ReQL").empty()},[b,a])}function ha(a,b){return d("I64").compare(a,b)<0?b:a}function ia(a,b){return d("I64").compare(a,b)<0?a:b}function a(a,e){var f=a.children,g=a.onInitialLoadingCompleted,ja=a.onScroll,ka=a.renderFooter,la=a.renderHeader,r=a.renderJumpToMostRecentMessageButton,s=a.renderLoadingAnimation,ma=a.renderRow,t=a.secondaryThread,u=a.thread;a=a.checkIsThreadManuallySetAsUnread;var v=a===void 0?function(){return!1}:a;function w(a,b,e,f){c("promiseDone")(a.runInTransaction(async function(a){var g=await a.table("messages_ranges_v2__generated").get(b);if(g==null||(f==="before"?g.isLoadingBefore:g.isLoadingAfter))return;var h=e==null?null:await a.table("messages_ranges_v2__generated").get(e);if(e!=null&&(h==null||(f==="before"?h.isLoadingBefore:h.isLoadingAfter)))return;if(f==="before")if(h==null||g.hasMoreBefore){var i=d("LSMessagingThreadTypeUtil.bs").isSecure(y);if(i){if(G!=null)return G(a,g.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),d("LS.re").make(a))}else{i=d("LSMessagingThreadTypeUtil.bs").isSecure(c("nullthrows")(A));if(i){if(G!=null)return G(a,h.threadKey,"before")}else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),d("LS.re").make(a))}else if(h==null||g.hasMoreAfter){i=d("LSMessagingThreadTypeUtil.bs").isSecure(y);if(i)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(g.threadKey,g.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),d("LS.re").make(a))}else{i=d("LSMessagingThreadTypeUtil.bs").isSecure(c("nullthrows")(A));if(i)throw c("FBLogger")("messenger_web_product").mustfix("Not possible to fetch more after for secure messages");else return c("LSIssueMessagesRangeQuery")(h.threadKey,h.minTimestampMs,d("LSIntEnum").ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),d("LS.re").make(a))}},"readwrite"))}var x=u.threadKey,y=u.threadType;a=t||{};var z=a.threadKey,A=a.threadType,B=c("useReStore")(),C=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(B.table("messages_ranges_v2__generated")).getKeyRange(x)},[B,x]),D=d("ReQLSuspense").useFirst(function(){return z==null?d("ReQL").empty():d("ReQL").fromTableDescending(B.table("messages_ranges_v2__generated")).getKeyRange(z)},[B,z]),E=c("useUnsafeRef_DEPRECATED")(new Map()),F=k(null);a=b("cr:3393");var G=a==null?void 0:a.useFetchSecureMessages();a=l([[C,D],void 0]);var H=a[0],I=a[1];a=d("MWPVisibleMessageContext.re").useHook();var na=a.setVisibleMessage,J=a.visibleMessage;a=(a=J)!=null?a:{};var K=a.messageId,L=a.timestamp,M=d("ReQLSuspense").useFirst(function(){return K!=null&&L!=null?d("ReQL").fromTableAscending(B.table("messages")).getKeyRange(x,L,K):d("ReQL").empty()},[B,x,K,L]),N=ea(d("ReQLSuspense").useFirst(function(){return L!=null?d("ReQL").fromTableDescending(B.table("messages_ranges_v2__generated")).getKeyRange(x).bounds({lte:{hd:L,tl:0}}):d("ReQL").empty()},[B,L,x]),L);j(function(){K==null||L==null?I(function(a){a=a[0];a[0];a=a[1];return[[C,a],void 0]}):N==null?fa(B,x,K,y):N.minMessageId===K&&N.hasMoreBefore?w(B,d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId),null,"before"):N.maxMessageId===K&&N.hasMoreAfter?w(B,d("ReQL").key(N.threadKey,N.minTimestampMs,N.minMessageId),null,"after"):M!=null&&I(function(a){a=a[0];a[0];a=a[1];return[[N,a],M]})},[B,M,K,N,C,JSON.stringify(x),JSON.stringify(y),JSON.stringify(L)]);a=H[0];a=a===void 0?[]:a;var O=a[0];a=a[1];H=H[1];j(function(){D!=null&&I(function(a){var b=a[0];b=b[0];a=a[1];return[[b,D],a]})},[D,a]);j(function(){var a;a=(a=E.current.get(J==null?void 0:J.messageId))==null?void 0:a.current;a!=null&&a.scrollIntoView()},[J]);var P=p(O),Q=q(O),R=p(a),S=q(a),T=l(!0),oa=T[0],pa=T[1],qa=k(),U=F.current,V=qa.current,W=k(!1);j(function(){if(g==null||W.current)return;if(O!=null&&!O.hasMoreBefore){g();W.current=!0;return}var a=F.current;if(a==null)return;if(a.scrollHeight-a.clientHeight>m){g();W.current=!0;return}},[g,O]);j(function(){if(V!=null&&U!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];return pa(c("intersectionObserverEntryIsIntersecting")(a))},{root:U,rootMargin:"360px"});a.observe(V);return function(){return a.disconnect()}}},[U,V]);var ra=O!=null?!O.hasMoreAfter:!1;T=i(function(){var a=F.current;return a==null?!1:a.scrollHeight-a.scrollTop-a.clientHeight<m&&ra},[ra]);var X=i(function(){c("promiseDone")(B.runInTransaction(function(a){return c("LSOptimisticMarkThreadReadV2")(u.threadKey,d("I64").of_float(d("ServerTime").getMillis()),d("LS.re").make(a))},"readwrite"))},[JSON.stringify(u.threadKey)]),Y=d("MWMarkThreadAsReadWhenNewMessagesArrive.bs").useHook(u,Q,X,T,v);j(function(){if(V!=null&&U!=null){var a=new(c("IntersectionObserver"))(function(a){a=a[0];c("intersectionObserverEntryIsIntersecting")(a)&&!v()&&Y()},{root:U,rootMargin:"0px"});a.observe(V);return function(){return a.disconnect()}}},[U,V,Y,v]);X=ba(function(){var a=B.table("messages").index("messageDisplayOrder");function b(a){return t==null?o(a.getKeyRange(u.threadKey),1):d("ReQL").union(o(a.getKeyRange(t.threadKey),0),o(a.getKeyRange(u.threadKey),1))}var c=b(d("ReQL").fromTableAscending(a)),e=b(d("ReQL").fromTableDescending(a));return{entries:function(a,b,d){return(b==="asc"?c:e).iterator(a,d)},keyLength:c.keyLength,subscribe:function(a,b){var d=c.subscribe(function(b,c,d){return a(b,c,d)},b),f=e.subscribe(function(b,c,d){return a(b,c,d)},b);return function(){d(),f()}}}},[B,JSON.stringify(t==null?void 0:t.threadKey),JSON.stringify(u.threadKey)]);var Z=c("useUnsafeRef_DEPRECATED")();T=O!=null?a!=null?ha(O.minTimestampMs,a.minTimestampMs):O.minTimestampMs:null;var $=O!=null?a!=null?ia(O.maxTimestampMs,a.maxTimestampMs):O.maxTimestampMs:null;T=T!=null&&d("I64").equal(T,d("I64").zero);$=$!=null&&d("I64").equal($,da);function sa(){O===C&&(U!=null&&(Z.current!=null&&Z.current.scrollToBottom())),na(function(){return void 0})}aa(e,function(){return{jumpToMostRecentMessage:function(b){function a(){return b.apply(this,arguments)}a.toString=function(){return b.toString()};return a}(function(){sa()})}});if(O==null||t!=null&&a==null||P==null&&!T||Q==null&&!$)return s!=null?s():null;var ta=d("ReQL").key(O.threadKey,O.minTimestampMs,O.minMessageId),ua=a==null?null:d("ReQL").key(a.threadKey,a.minTimestampMs,a.minMessageId);e=H==null?"bottom":{hd:1,tl:n(H)};H=null;P!=null&&R!=null?d("LSDbKeyComparer").compareKey(n(P),n(R))<0?H=n(R):H=n(P):P!=null?H=n(P):R!=null&&(H=n(R));P=null;Q!=null&&S!=null?d("LSDbKeyComparer").compareKey(n(Q),n(S))>0?P=n(S):P=n(Q):Q!=null?P=n(Q):S!=null&&(P=n(S));return h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:[h.jsx(c("ReQLPaginatedList.react"),{bounds:{gte:T?null:{hd:0,tl:H},lte:$?null:{hd:1,tl:P}},hasReachedBottom:!O.hasMoreAfter,hasReachedTop:a==null?!O.hasMoreBefore:!(O.hasMoreBefore||a.hasMoreBefore),imperativeRef:Z,initialAnchor:e,onReachingBottom:function(){w(B,ta,ua,"after"),Y()},onReachingTop:function(){return w(B,ta,ua,"before")},onScroll:ja,renderContent:function(a){return h.jsx(c("BaseHeadingContextWrapper.react"),{children:h.jsxs("div",{className:"xc8icb0 x1ja2u2z",children:[f(a),h.jsx("div",{className:"xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:qa})]})})},renderFooter:ka,renderHeader:la,renderHeaderContentSpacer:function(){return h.jsx("div",{className:"xcrg951 x78zum5 xdt5ytf x1iyjqo2"})},renderItem:function(a,b){var c=b.nextItem;b=b.previousItem;return h.jsx(d("MWPMessageAuthor.bs").make,{contactId:a.senderId,threadKey:a.threadKey,children:ma({domElementRef:ga(E.current,a.messageId,function(){return{current:null}}),message:a,nextMessage:c,prevMessage:b})},a.messageId)},renderLoadingAnimation:s,scrollAreaElementRef:F,table:X,xstyle:ca.list}),r&&h.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:!oa||O.hasMoreAfter,children:r(sa)})]})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g.default=e}),98);
__d("MWPMessageListFocusTable.bs",["FocusRegion.react","MWMessageTableFocusTable.bs","MWV2MessageListIsRowModalContext.bs","bs_caml_option","focusScopeQueries","react"],(function(a,b,c,d,e,f,g){"use strict";var h=c("react");function i(a,b,c){return b["data-scope"]==="date_break"}function a(a){var b=a.ariaLabel,e=a.children,f=a.modal,g=a.setModal,j=a.wrapX;j=j===void 0?!1:j;a=a.wrapY;a=a===void 0?!1:a;var k=h.useCallback(function(a){var b=a.type;switch(b){case"PAGE_DOWN":case"PAGE_UP":break;default:return}b=a.type==="PAGE_DOWN";a.preventDefault();var d=a.currentRowIndex+(b?1:-1)|0,e=!1;while(!e){var f=a.getCell(d,a.currentCellIndex);if(f==null){var g=a.getCell(b?d-1|0:0,a.currentCellIndex);g!=null&&a.focusCell(g);e=!0}else{g=f.scopeRef.current;g=g!=null?c("bs_caml_option").valFromOption(g).DO_NOT_USE_queryFirstNode(i):null;g==null?d=b?d+1|0:d-1|0:(a.focusCell(f),e=!0)}}},[]);return h.jsx(d("MWV2MessageListIsRowModalContext.bs").Provider.make,{value:g,children:h.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("MWMessageTableFocusTable.bs").scopeQuery,children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[0],{allowModifiers:!0,disabled:f!=="",onNavigate:k,tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapX:j,wrapY:a,children:h.jsx("div",{"aria-label":b,className:"x63ui4o x18i3tt1 x6ikm8r x10wlt62",role:"grid",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPSolidMessageBubble.bs",["bs_belt_Option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bubble:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",color:"x14ctfv",maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"x1y1aw1k",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",zIndex:"x1vjfegm",$$css:!0},incoming_connect_bot:{borderBottomStartRadius:"x10y3i5r",$$css:!0},incoming_connect_top:{borderTopStartRadius:"x1lcm9me",$$css:!0},outgoing_connect_bot:{borderBottomEndRadius:"xrt01vj",$$css:!0},outgoing_connect_top:{borderTopEndRadius:"x1yr5g0i",$$css:!0},precedes_xma:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",boxSizing:"x9f619",maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}};function a(a){var b=a.precedesXMA,d=a.children,e=a.connectBottom,f=a.connectTop,g=a.outgoing,j=a.style;a=a.xstyle;b=b!==void 0?b:!1;return h.jsx("div",{className:c("stylex")(i.bubble,f?g?i.outgoing_connect_top:i.incoming_connect_top:!1,!b&&e?g?i.outgoing_connect_bot:i.incoming_connect_bot:!1,b?i.precedes_xma:!1,c("bs_belt_Option").getWithDefault(a,!1)),"data-testid":void 0,role:"none",style:j,children:d})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MessageReactionOperation.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.add=a;f.remove=c}),null);
__d("MessageReactionStyle.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;f.basicSuperReactAnimation=a}),null);
__d("MWPUseSendOrUnsendReaction.bs",["LS.bs","LSOptimisticUpsertReaction","LSOptimisticUpsertReactionV2","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMThreadTypes.bs","MWLSThread.bs","MWPActor.bs","MessageReactionOperation.bs","MessageReactionStyle.bs","ReQL.bs","bs_caml","bs_caml_int64","bs_caml_obj","gkx","promiseDone","react","regeneratorRuntime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b,d,e,f){a=a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(b,d.threadKey,d.messageId,d.timestampMs,e,f,!0,c("MessageReactionStyle.bs").basicSuperReactAnimation,c("MessageReactionOperation.bs").add,c("LS.bs").make(a))},"readwrite");c("promiseDone")(a)}function j(a,d,e,f,g){return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(a.runInTransaction(function(a){return c("LSOptimisticUpsertReactionV2")(d,e.threadKey,e.messageId,e.timestampMs,g,f,!1,c("MessageReactionStyle.bs").basicSuperReactAnimation,c("MessageReactionOperation.bs").remove,c("LS.bs").make(a))},"readwrite"));case 2:case"end":return h.stop()}},null,this)}function k(a,b,e,f){c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("reactions_v2")),{hd:e.threadKey,tl:{hd:e.messageId,tl:{hd:f,tl:0}}})).then(function(d){if(d!==void 0)return i(a,b,e,f,d.count);else return i(a,b,e,f,c("bs_caml_int64").zero)}))}function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor(),g=d("MWLSThread.bs").useThreadExn(a.threadKey),i=d("MWCMThreadTypes.bs").isBroadcastThread(g.threadType)&&c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.bs").reactionsV2,g);return h.useCallback(function(h){if(i){c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(e.table("reaction_v2_types")),function(a){return c("bs_caml_obj").caml_equal(a.reactionLiteral,h)})).then(function(h){if(h!==void 0){c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("reactions_v2")),{hd:g.threadKey,tl:{hd:a.messageId,tl:0}}),function(a){return a.viewerIsReactor})).then(function(d){var g;return b("regeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:if(!(d===void 0)){i.next=2;break}return i.abrupt("return",k(e,f,a,h.reactionFbid));case 2:g=c("bs_caml").i64_eq(d.reactionFbid,h.reactionFbid);i.next=5;return b("regeneratorRuntime").awrap(j(e,f,a,d.count,d.reactionFbid));case 5:if(g){i.next=7;break}return i.abrupt("return",k(e,f,a,h.reactionFbid));case 7:case"end":return i.stop()}},null,this)}));return}}));return}var l=e.runInTransaction(function(b){return c("LSOptimisticUpsertReaction")(a.threadKey,c("bs_caml_int64").of_float(Date.now()),a.messageId,f,h,c("LS.bs").make(b))},"readwrite");c("promiseDone")(l)},[e,a.messageId,f])}e=i;f=j;var l=k;a=a;g.addNewUserReactionV2=e;g.removeUserReactionV2=f;g.addUserReactionToExistingEntryV2=l;g.useHook=a}),98);
__d("MAWPSendOrRemoveReaction.bs",["MWPActor.bs","MWPUseSendOrUnsendReaction.bs","bs_belt_Option","bs_caml_option","bs_curry","bs_int64","cr:4264","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("MWLogMessageAction.bs").__setRef("MAWPSendOrRemoveReaction.bs"),j=b("cr:4264")==null?void 0:c("bs_caml_option").some(b("cr:4264"));function a(a,e,f){var g=c("useReStore")(),k=d("MWPActor.bs").useActor(),l=b("cr:4264")==null?void 0:c("bs_curry")._2(j.useSendOrRemoveReaction,a.threadKey,c("bs_int64").to_string(a.senderId)),m=d("MWPUseSendOrUnsendReaction.bs").useHook(a);return h.useMemo(function(){return function(b,d,h){e&&l!==void 0?c("bs_curry")._2(l,b,d):c("bs_curry")._1(m,c("bs_belt_Option").getWithDefault(d,"")),i.onReady(function(b){return c("bs_curry").app(b.log,[g,c("bs_caml_option").some(a.messageId),a.threadKey,f,h,void 0,void 0,void 0,c("bs_caml_option").some(a.senderId),void 0,k,void 0])})}},[JSON.stringify(a.threadKey),e,l,m])}g.$MWLogMessageAction$Deferred=i;g.$MAWSendOrRemoveReaction$requireCondXplat=b("cr:4264");g.useSendOrRemoveReaction=a}),98);
__d("MessengerColors",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b===void 0&&(b=!1);var c=100/(a.length-1);b=b?a.slice():a.slice().reverse();a=b.map(function(a,b){return a+" "+b*c+"%"}).join(",");return"radial-gradient(circle at center 75%, "+a+")"}function b(a,b,c){var d={};if(a){b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;if(a.length&&a.length>0)if(a.length===1)d.backgroundColor=a[0];else if(a.length===2)d.backgroundImage="linear-gradient("+a[0]+", "+a[1]+")";else{var e=a.length,f=100/(e-1);e=a.map(function(a,b){return a+" "+b*f+"%"}).join(", ");d.backgroundImage="linear-gradient("+e+")"}}else b!=null&&b!==""?d.backgroundColor=b:d.backgroundColor=c;return d}f.makeRadialGradient=a;f.makeLinearGradient=b}),66);
__d("MessengerCustomColorUtils.bs",["cssVar","CurrentUser"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){if(c("CurrentUser").isWorkUser())return"#373e4c";else return"#0099ff"}function a(a){a=a.solid_color;if(a==null)return i();else return a}g.defaultColor=i;g.customColorOrBlue=a}),98);
__d("ReactDOMStyle.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d={};d[b]=c;return Object.assign({},a,d)}f.unsafeAddProp=a}),null);
__d("MessengerHotLikeIconSVGM4React.bs",["cx","CurrentUser","MessengerColors","MessengerCustomColorUtils.bs","MessengerEnvironment","ReactDOMStyle.bs","gkx","react","uniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("path",{d:"M10,30 L7.75,30 C6.625,30 6,27.7515306 6,23.3673469 C6,18.9831633 6.625,16.7346939 7.75,16.7346939 L10,16.7346939 C10.552,16.7346939 11,17.1918367 11,17.755102 L11,28.9795918 C11,29.5428571 10.552,30 10,30 M17,6.02040816 C17,5.44540816 17.4195,5.00255102 18,5 C19.2035,5 22,5.79081633 22,10.6122449 C22,12.2443878 21.8015,13.130102 21.7195,13.7163265 C21.719,13.7183673 21.719,13.7204082 21.7185,13.722449 C21.6865,13.9566327 21.872,14.1647959 22.113,14.1647959 C26.908,14.1647959 29.469,15.4336735 29.469,16.7290816 C29.469,17.3612245 29.211,17.9321429 28.7975,18.3535714 C29.513,18.7591837 30,19.5091837 30,20.3780612 C30,21.3642857 29.4255,22.2045918 28.5475,22.5515306 C28.821,22.9326531 28.9845,23.3954082 28.9845,23.8969388 C28.9845,24.9704082 28.3395,25.8653061 27.3365,26.1438776 C27.4285,26.377551 27.4845,26.6290816 27.4845,26.8943878 C27.4845,28.0459184 25.5485,28.9795918 21,28.9795918 C17.675,28.9795918 15.3815,28.3857143 14.5,27.9591837 C13.851,27.6454082 13,27.0770408 13,25.4081633 L13,18.7755102 C13,15.0403061 17.25,13.7760204 17.25,10.1020408 C17.25,7.78826531 17,6.81326531 17,6.02040816",fill:a})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.color;a=j(a);if(c("MessengerEnvironment").messengerui&&!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))return i.jsx("svg",{className:"_7oal",width:"36px",height:"36px",viewBox:"0 1 36 36",children:a});else return i.jsx("svg",{width:"32px",height:"32px",viewBox:"0 0 36 36",children:a})}function b(a){a=a.thread;var b=i.useState(function(){return c("uniqueID")()});b=b[0];var e=j("black");a=d("ReactDOMStyle.bs").unsafeAddProp(d("ReactDOMStyle.bs").unsafeAddProp(d("ReactDOMStyle.bs").unsafeAddProp(d("ReactDOMStyle.bs").unsafeAddProp(d("MessengerColors").makeLinearGradient(a.gradient_colors,a.solid_color,d("MessengerCustomColorUtils.bs").defaultColor()),"backgroundAttachment","fixed"),"height","95%"),"width","95%"),"margin","auto");return i.jsxs(i.Fragment,{children:[i.jsxs("svg",{viewBox:"0 0 36 36",style:{height:"100%",position:"absolute",width:"100%"},children:[i.jsxs("mask",{id:b,children:[i.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"}),e]}),i.jsx("rect",{className:"_8rsr",width:"100%",height:"100%",mask:"url(#"+b+")",fill:"white"})]}),i.jsx("div",{style:a})]})}b.displayName=b.name+" [from "+f.id+"]";e=a;h=b;g.pathHotLike=j;g.make=e;g.makeWithGradient=h}),98);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.bs","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l=j._("__JHASH__fqLNX_G5Htn__JHASH__");function a(a){var b=a.className;a=a.color;var e,f=0;a==null||a===""?f=1:e=a;f===1&&(e=c("CurrentUser").isWorkUser()?"#373e4c":c("MessengerEnvironment").messengerui?"#0084ff":"#4080ff");a={children:k.jsx(d("MWLikeSvgIcon.bs").make,{color:e,size:"100%",title:l}),className:c("joinClasses")(c("bs_belt_Option").getWithDefault(b,""),"_1i1j")};a["data-testid"]="messenger_hotlike_svg";return k.jsx("div",babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";b="transparent";e=a;g.label=l;g.cTRANSPARENT=b;g.make=e}),98);
__d("MercuryLocalIDs",["randomInt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return"root:"+h(a)}function h(a){a=a!=null?a:Date.now();var b=c("randomInt")(0,4294967295);b=("0000000000000000000000"+b.toString(2)).slice(-22);a=a.toString(2)+b;return i(a.slice(-63))}function i(a){var b="";a=a;while(a!="0"){var c=0,d="";for(var e=0;e<a.length;e++)c=2*c+parseInt(a[e],10),c>=10?(d+="1",c-=10):d+="0";b=c.toString()+b;a=d.slice(d.indexOf("1"))}return b}g.generateThreadID=a;g.generateOfflineThreadingID=h}),98);
__d("Popup",["isTruthy"],(function(a,b,c,d,e,f,g){function a(a,b,d,e){var f=[];c("isTruthy")(b)&&f.push("width="+b);c("isTruthy")(d)&&f.push("height="+d);var g=document.body;if(g!=null&&b!=null&&b!==0&&d!=null&&d!==0){var h="screenX"in window?window.screenX:window.screenLeft,i="screenY"in window?window.screenY:window.screenTop,j="outerWidth"in window?window.outerWidth:g.clientWidth;g="outerHeight"in window?window.outerHeight:g.clientHeight-22;h=Math.floor(h+(j-b)/2);j=Math.floor(i+(g-d)/2.5);f.push("left="+h);f.push("top="+j)}f.push("scrollbars");return window.open(a,e!=null&&e!==""?e:"_blank",f.join(","))}g.open=a}),98);
__d("LSCommunityCapabilityBitOffset.re",["LSCommunityCapabilityBitOffset.bs"],(function(a,b,c,d,e,f){c=(a=b("LSCommunityCapabilityBitOffset.bs")).createChannel;f.createChannel=c;d=a.manageMember;f.manageMember=d;e=a.adminModeration;f.adminModeration=e;b=a.fbGroupIcon;f.fbGroupIcon=b;c=a.membersList;f.membersList=c;d=a.audioRoomCreation;f.audioRoomCreation=d;e=a.blockFromCommunity;f.blockFromCommunity=e;b=a.removeFromCommunity;f.removeFromCommunity=b;c=a.muteMember;f.muteMember=c;d=a.adminActions;f.adminActions=d;e=a.channelOrganization;f.channelOrganization=e;b=a.blockOneToOne;f.blockOneToOne=b;c=a.moderatorActions;f.moderatorActions=c;d=a.viewCommunityInviteLink;f.viewCommunityInviteLink=d;e=a.chatImageCustomization;f.chatImageCustomization=e;b=a.reactiveModerationInBlue;f.reactiveModerationInBlue=b;c=a.templateBasedChannelCreation;f.templateBasedChannelCreation=c;d=a.postThreadCreationActions;f.postThreadCreationActions=d;e=a.showInviteAfterCreation;f.showInviteAfterCreation=e;b=a.admodBadgingInBlue;f.admodBadgingInBlue=b;c=a.audioChannelCreation;f.audioChannelCreation=c;d=a.viewCommunityChannelsInviteLinks;f.viewCommunityChannelsInviteLinks=d;e=a.deleteChannel;f.deleteChannel=e;b=a.canCreateInviteOnlyChats;f.canCreateInviteOnlyChats=b;c=a.canCreateBroadcastChats;f.canCreateBroadcastChats=c;d=a.audioChannelNullstate;f.audioChannelNullstate=d;e=a.canSeeAudioChannelsInList;f.canSeeAudioChannelsInList=e;b=a.inviteToCommunity;f.inviteToCommunity=b;c=a.editCommunity;f.editCommunity=c;d=a.showSkipDialogWhenSkippingInInviteAfterCreation;f.showSkipDialogWhenSkippingInInviteAfterCreation=d;e=a.isTopPostsEnabled;f.isTopPostsEnabled=e;b=a.memberToMemberDirectInvite;f.memberToMemberDirectInvite=b;c=a.createChatSuggestion;f.createChatSuggestion=c;d=a.canCreateEventChatsWithDeeplinking;f.canCreateEventChatsWithDeeplinking=d;e=a.isIcebreakersEnabled;f.isIcebreakersEnabled=e;b=a.canViewEntityMenu;f.canViewEntityMenu=b;c=a.shouldShowNavMenuBadge;f.shouldShowNavMenuBadge=c;d=a.canEditNickname;f.canEditNickname=d;e=a.createChannelAsMember;f.createChannelAsMember=e;b=a.communityHasImplicitJoinChannel;f.communityHasImplicitJoinChannel=b;c=a.shouldRemoveOptionalFieldsInManualChatCreation;f.shouldRemoveOptionalFieldsInManualChatCreation=c;d=a.showAdminAutocreateChatInterstitial;f.showAdminAutocreateChatInterstitial=d;e=a.canDeleteCommunity;f.canDeleteCommunity=e;b=a.admodNewBadgeOnCommunity;f.admodNewBadgeOnCommunity=b;c=a.directInviteNonMemberCommunityLevel;f.directInviteNonMemberCommunityLevel=c;d=a.hasMoreThanOneAdmin;f.hasMoreThanOneAdmin=d;e=a.hasMoreThanOneMember;f.hasMoreThanOneMember=e;b=a.canUpdateMemberRequestsApprovalSetting;f.canUpdateMemberRequestsApprovalSetting=b;c=a.canViewMemberRequests;f.canViewMemberRequests=c;d=a.canViewBlockedFromCommunityMemberList;f.canViewBlockedFromCommunityMemberList=d;e=a.isCommunityBotsEnabled;f.isCommunityBotsEnabled=e;b=a.canCreateEventsInThread;f.canCreateEventsInThread=b;c=a.communityCanSeeImprovedSettings;f.communityCanSeeImprovedSettings=c;d=a.canCreateAudioChannelEvent;f.canCreateAudioChannelEvent=d;e=a.canViewAudioChannelEvent;f.canViewAudioChannelEvent=e;b=a.isHighlightsEnabled;f.isHighlightsEnabled=b;c=a.directInviteNonMemberChatLevel;f.directInviteNonMemberChatLevel=c;d=a.isBadgesEnabled;f.isBadgesEnabled=d;e=a.memberNewBadgeOnCommunity;f.memberNewBadgeOnCommunity=e;b=a.canEditContextualProfile;f.canEditContextualProfile=b;c=a.isChatTemplateSheetEnabled;f.isChatTemplateSheetEnabled=c;d=a.canManageCommunityBots;f.canManageCommunityBots=d;e=a.threadFullMitigations;f.threadFullMitigations=e;b=a.isMultiSelectChatTemplateEnabled;f.isMultiSelectChatTemplateEnabled=b;c=a.canCreateAudioChannelForCmChat;f.canCreateAudioChannelForCmChat=c;d=a.canViewMemberSuggestionChannelListCta;f.canViewMemberSuggestionChannelListCta=d;e=a.hasDynamicGroupImageAdminInterstitial;f.hasDynamicGroupImageAdminInterstitial=e;b=a.showOneClickChatCreation;f.showOneClickChatCreation=b;c=a.showOneClickChatCreationAfterAdminInterstitial;f.showOneClickChatCreationAfterAdminInterstitial=c}),null);
__d("RavenMessagingState.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];f.permanent=a;f.unseen=c;f.seen=d;f.replayed=e;f.expired=b}),null);
__d("StickerConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120})}),null);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeIconSVGM4React.bs","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","gkx","joinClasses","lazyLoadComponent","nullthrows","react","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").Suspense,l=c("lazyLoadComponent")(c("JSResource")("StickerPopoverImage.react").__setRef("Sticker.react")),m=c("lazyLoadComponent")(c("JSResource")("GeoPopover.react").__setRef("Sticker.react")),n=83;a=5e3;var o=10,p={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"};b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.__stopIntervalID=null,c.$1=!1,c.$2=j.createRef(),c.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},c.toggleAnimation=function(){c.isAnimating()?c.stopAnimation():c.startAnimation()},c.incrementFrameIndex=function(){c.shouldStopAnimating()?c.stopAnimation():c.setState({index:c.state.index+1})},c.onStickerClick=function(){if(!c.$3(c.props.packID))return;c.props.onStickerClick&&c.props.onStickerClick(c.props.packID,c.props.stickerID)},c.mouseLeft=function(){c.setState({isHovered:!1})},c.mouseEntered=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusSelected=function(){c.setState({isHovered:!0}),c.isAnimating()||c.startAnimation()},c.tabFocusUnselected=function(){c.setState({isHovered:!1})},b)||babelHelpers.assertThisInitialized(c)}var e=b.prototype;e.componentDidMount=function(){var a=this;this.$1=!0;this.props.onAttachmentLoad&&this.props.onAttachmentLoad();this.__stopIntervalID=null;(this.props.animationTrigger===p.LOAD_AND_HOVER||this.props.animationTrigger===p.ANIMATE_FOREVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation();if(this.props.subscribedThreadID&&this.props.frameCount&&this.props.frameCount>1){var b=c("Arbiter").subscribe(this.props.subscribedThreadID,function(b,c){a.isScrolledIntoView(c.scrollTop,c.viewHeight,c.top)});this.setState({unsubscribeID:b})}};e.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&c("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&c("clearInterval")(this.__stopIntervalID)};e.isAnimating=function(){return!!this.__stopIntervalID};e.getWidth=function(){var a;return Math.floor((a=this.props.sourceWidth)!=null?a:0)};e.getHeight=function(){var a;return Math.floor((a=this.props.sourceHeight)!=null?a:0)};e.preloadSprite=function(){var a=this,b=new window.Image();b.onload=function(){a.$1&&!a.state.hasAnimated&&(a.setState({hasAnimated:!0}),a.__stopIntervalID=c("setIntervalAcrossTransitions")(a.incrementFrameIndex,a.props.frameRate))};c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?b.src=this.props.paddedSpriteURI:b.src=this.props.spriteURI};e.isScrolledIntoView=function(a,b,d){var e=c("getElementPosition")(this.$2.current);d=a+e.y-d;b=a+b;e=d+e.height;this.props.frameCount&&this.props.frameCount>1&&!this.state.hasAnimated&&e-o<=b&&d+o>=a&&this.startAnimation()};e.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=c("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))};e.stopAnimation=function(){this.setState({index:0}),c("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null};e.shouldStopAnimating=function(){var a;if(!this.props.frameCount)return!0;var b=this.state.index%this.props.frameCount;if(this.props.animationTrigger===p.ANIMATE_FOREVER)return!1;a=(a=this.props.frameRate)!=null?a:n;if(!(b===0&&this.state.index*a>this.props.animationTime))return!1;return this.props.animationTrigger===p.CLICK?!0:!this.state.isHovered};e.getStyle=function(){var a,b=0,d=this.props.spriteURI;a=(a=this.props.scale)!=null?a:1;var e=this.getHeight()*a;a=this.getWidth()*a;if(c("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){d=this.props.paddedSpriteURI;var f=240/Math.min(e,a);b=Math.floor(parseInt(c("StickerConstants").SPRITE_PADDING,10)/f)}f=this.props.frameCount?this.state.index%this.props.frameCount:0;var g=this.props.framesPerRow?f%this.props.framesPerRow*(a+b*2)+b:0;f=this.props.framesPerRow?Math.floor(f/this.props.framesPerRow)*(e+b*2)+b:0;var h=this.props.frameCount&&this.props.frameCount>1&&this.props.animationTrigger===p.CLICK||this.$3(this.props.packID);h=this.props.forceCursorPointer||h?"pointer":"default";if(!this.state.hasAnimated||!this.props.spriteURI||!d||!this.props.framesPerRow||!this.props.framesPerCol)return{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:a+"px "+e+"px",cursor:h,height:e,width:a};else return{backgroundSize:(a+b*2)*this.props.framesPerRow+"px "+(e+b*2)*this.props.framesPerCol+"px",backgroundImage:"url("+d.toString()+")",backgroundPosition:-g+"px "+-f+"px",cursor:h,height:e,width:a,imageRendering:"-webkit-optimize-contrast"}};e.$3=function(a){return a&&a!=c("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&a!=c("StickerConstants").GRAVEYARD_PACK_ID};e.getAriaLabel=function(){var a;return i._("__JHASH__XuqBXexse6H__JHASH__",[i._param("pack name",(a=this.props.packName)!=null?a:""),i._param("sticker name",this.props.accessibilityLabel)])};e.render=function(){var a,b;this.props.animationTrigger===p.CLICK&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI?a=!0:(this.props.animationTrigger===p.HOVER||this.props.animationTrigger===p.LOAD_AND_HOVER)&&this.props.frameCount&&this.props.frameCount>1&&this.props.spriteURI&&(b=!0);var e=a?this.toggleAnimation:null;this.props.packID&&(e=this.onStickerClick);var f=this.props.className,g=null;this.$4()&&(f=c("joinClasses")(f,"_576q"),(!c("CurrentUser").isWorkUser()||c("gkx")("1072568"))&&this.props.thread!=null?g=j.jsx(d("MessengerHotLikeIconSVGM4React.bs").makeWithGradient,{thread:this.props.thread}):g=j.jsx(d("MessengerHotLikeSVGReact.bs").make,{color:this.props.customColor}));f=j.jsx("div",{"aria-label":this.getAriaLabel(),className:f,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:e,onFocus:this.tabFocusSelected,onMouseEnter:b?this.mouseEntered:null,onMouseLeave:b?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:g});return this.props.enablePopoverIfPassesGK&&c("gkx")("4316")?j.jsx(m,{content:j.jsx(k,{fallback:"Loading...",children:j.jsx(l,{stickerID:c("nullthrows")(this.props.stickerID)})}),heading:"",isSticky:!1,children:f}):f};e.$4=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1};return b}(j.Component);b.defaultProps={animationTime:a,accessibilityLabel:"",forceCursorPointer:!1,frameRate:n,onStickerClick:c("emptyFunction"),packID:null,packName:"",tabIndex:0};g["default"]=b}),98);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0);b=a;g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("LSInsertOptimisticAttachment",["LSSetMessageDisplayedContentTypes"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e;return c.seq([function(d){return c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[0],a[2],a[4]]]]),function(b){return c.i64.eq(b.threadKey,a[0])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[2]&&b.attachmentFbid===a[4]&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(16).add({threadKey:a[0],messageId:a[2],attachmentFbid:a[4],timestampMs:a[1],offlineAttachmentId:a[3],attachmentType:a[5],filename:a[6],attributionAppId:a[7],hasMedia:a[8],isSharable:!1,hasXma:a[9],authorityLevel:[0,20]})},function(d){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[0],a[2],a[1],e,!1,c.i64.eq(a[5],[0,1]))}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSIssueSendAttachmentMessageTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSIssueNewTaskAndGetTaskID","LSPredefineTraceForTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_int32(a[5].length),c.i64.gt(d[0],[0,0])?c.loopAsync(d[0],function(e){return d[3]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[5],d[3]).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],a[3]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===a[3]&&c.i64.eq(b.attachmentIndex,d[3])&&c.i64.eq(b.authorityLevel,[0,20])}),function(a){var b=a.update;a.item;return b({attachmentFbid:c.i64.to_string(d[4])})})}])}):c.resolve()},function(e){return c.i64.eq(f,[0,12])?d[1]=[0,10]:(a[9]?d[3]=[0,9]:d[3]=[0,3],d[1]=d[3]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[2]=a[0],a})},function(e){return a[12]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[12],d[2],c.i64.to_string([0,46]),a[3])},function(d){return c.sp(b("LSAppendDataTraceAddon"),a[12],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[2],threadKey:a[1],offlineThreadingId:a[3],threadAttributionSource:a[6],platformRef:a[10],platformToken:a[11],replySourceId:a[7],replySourceType:a[8],sendType:d[1],markThreadRead:!1})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetMessageViewFlags",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(d){return b.seq([function(d){return b.ftr(b.db.table(12).fetch([[[a[0],a[2],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(c.timestampMs,a[2])&&c.messageId===a[1]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,b.primarySortKey,b.secondarySortKey==null?[-1,4294967295]:b.secondarySortKey],c[0]=d[0],c[1]=d[1],c[2]=d[2],c[3]=d[3],c[4]=d[4],c[5]=d[5],c[6]=d[6],c[7]=d[7],c[8]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetch([[[a[0],{gt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.gt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.ge(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","ASC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[10]=d[0],c[11]=d[1],c[12]=d[2],c[13]=d[3],c[14]=d[4],c[15]=d[5],c[16]=d[6],c[17]=d[7],c[18]=d[8],d)})},function(d){return b.sb(b.ftr(b.db.table(12).fetchDesc([[[a[0],{lt:c[7]}],[a[0],c[7]]],"messageDisplayOrder"]),function(d){return b.i64.eq(d.threadKey,a[0])&&d.messageId!==a[1]&&(b.i64.lt(d.primarySortKey,c[7])||b.i64.eq(d.primarySortKey,c[7])&&b.i64.le(d.secondarySortKey==null?[-1,4294967295]:d.secondarySortKey,c[8]))}),[["timestampMs","DESC"]],["primarySortKey","secondarySortKey"]).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[[0,0],[0,0],[0,0],!1,"nonexistent",[0,20],e,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d):(b=a.item,d=[b.timestampMs,b.senderId,b.viewFlags,b.isAdminMessage,b.messageId,b.authorityLevel,b.stickerId,[-1,4294967295],[-1,4294967295]],c[20]=d[0],c[21]=d[1],c[22]=d[2],c[23]=d[3],c[24]=d[4],c[25]=d[5],c[26]=d[6],c[27]=d[7],c[28]=d[8],d)})},function(d){return c[32]=b.i64.or_([0,2],b.i64.or_(!c[3]&&!a[3]?[0,4]:[0,0],b.i64.or_(c[3]?[0,0]:[0,1],b.i64.or_(b.i64.eq(c[5],[0,60])||b.i64.eq(c[5],[0,80])?[0,1048576]:[0,0],b.i64.neq(c[6],[85970,924785702])&&b.i64.neq(c[6],[85970,1004785694])&&b.i64.neq(c[6],[85970,1044785690])?[0,0]:[0,2097152])))),c[14]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[12],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[13]&&!(b.i64.eq(c[11],c[1])&&!c[13]&&!c[3]&&!b.i64.gt(b.i64.sub(c[10],c[0]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[12],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[32],[0,16]):c[32],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[10],c[14]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[10])&&d.messageId===c[14]}),function(a){var b=a.update;a.item;return b({viewFlags:c[35]})})},function(a){return c[30]=c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]}]):b.resolve(c[30]=c[32])},function(d){return c[24]!=="nonexistent"?b.seq([function(d){return c[35]=b.i64.or_(b.i64.and_(c[30],[-1,4294967280]),b.i64.or_(b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,2]:[0,0],b.i64.or_(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5])?[0,8]:[0,0],b.i64.or_(!a[3]&&!c[3]&&!(b.i64.eq(c[1],c[21])&&!c[3]&&!c[23]&&!b.i64.gt(b.i64.sub(c[0],c[20]),[0,6e5]))?[0,4]:[0,0],b.i64.and_(c[30],[0,1]))))),c[33]=b.i64.eq(b.i64.and_(c[35],[0,8]),[0,8]),c[34]=c[33]?b.i64.or_(c[22],[0,16]):c[22],b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[20],c[24]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[20])&&d.messageId===c[24]}),function(a){var d=a.update;a.item;return d({viewFlags:c[33]?b.i64.and_(c[34],[-1,4294967294]):c[34]})})},function(a){return c[31]=c[35]}]):b.resolve(c[31]=c[30])},function(d){return b.fe(b.ftr(b.db.table(12).fetch([[[a[0],c[0],c[4]]]]),function(d){return b.i64.eq(d.threadKey,a[0])&&b.i64.eq([0,0],[0,0])&&b.i64.eq(d.timestampMs,c[0])&&d.messageId===c[4]}),function(a){var b=a.update;a.item;return b({viewFlags:c[31]})})}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSLocalApplyOptimisticMessage",["LSCreateOfflineThreadingID","LSGetViewerFBID","LSIssueNewError","LSSetMessageDisplayedContentTypes","LSSetMessageViewFlags","gkx"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(a){return d[7]=c.i64.of_float(Date.now()),f!==f?c.resolve(d[0]=f):c.seq([function(a){return c.sp(b("LSCreateOfflineThreadingID"),d[7]).then(function(a){return a=a,d[9]=a[0],a})},function(a){return d[0]=c.i64.to_string(d[9])}])},function(e){return d[8]=a[4]==null?a[3]:a[4],c.seq([function(a){return c.islc(c.db.table(9).fetchDesc([[[]],"lastActivityTimestampMs"]),0,c.i64.to_float([0,1])).next().then(function(a,b){var c=a.done;a=a.value;return c?d[9]=[-1,4294967295]:(b=a.item,d[9]=b.lastActivityTimestampMs)})},function(e){return d[11]=c.i64.add(d[9],[0,1]),d[13]=c.i64.gt(d[7],d[11])?d[7]:d[11],c.db.table(9).fetch([[[a[1]]]]).next().then(function(e,h){h=e.done;e=e.value;return h?c.seq([function(b){return function(a){c.logger(a).info(a)}("localApplyOptimisticMessage insert optimistic thread"),c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.lt(b.authorityLevel,[0,40])}),function(a){return a["delete"]()})},function(b){return c.db.table(9).add({threadKey:a[1],mailboxType:[0,0],threadType:a[2],clientThreadKey:a[1],folderName:"inbox",parentThreadKey:[0,0],lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],ongoingCallState:[0,0],authorityLevel:[0,40]})},function(b){return c.i64.eq(a[2],[0,13])||c.i64.eq(a[2],[0,7])||c.i64.eq(a[2],[0,1])?c.seq([function(b){return c.fe(c.ftr(c.db.table(14).fetch([[[a[1],a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[1])&&c.i64.lt(b.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(14).add({threadKey:a[1],contactId:a[1],readWatermarkTimestampMs:[0,0],deliveredWatermarkTimestampMs:[0,0],authorityLevel:[0,20],isModerator:!1})}]):c.resolve()},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[14]=!1:(b=a.item,d[14]=b.errorShouldBeShown)})},function(a){return d[14]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[16]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[17]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[16],d[17],f)}]):c.resolve()}]):(e.item,c.fe(c.ftr(c.db.table(9).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq(b.threadType,a[2])}),function(b){var c=b.update;b.item;return c({lastActivityTimestampMs:d[13],lastReadWatermarkTimestampMs:d[13],snippet:d[8],snippetHasEmoji:a[5]==null?!1:a[5],snippetSenderContactId:a[0],snippetStringHash:f,snippetStringArgument1:f,snippetAttribution:f,snippetAttributionStringHash:f})}))})}])},function(e){return c.seq([function(b){return c.islc(c.ftr(c.db.table(12).fetchDesc([[[a[1]]],"messageDisplayOrder"]),function(b){return c.i64.eq(b.threadKey,a[1])&&(c.i64.eq(b.authorityLevel,[0,80])||c.i64.eq(b.authorityLevel,[0,60])||c.i64.eq(b.authorityLevel,[0,40]))}),0,c.i64.to_float([0,1])).next().then(function(a,b){var e=a.done;a=a.value;return e?d[9]=c.i64.of_float(Date.now()):(b=a.item,d[9]=b.primarySortKey)})},function(e){return a[8]!==f&&(c.i64.eq(a[9],[0,1])||c.i64.eq(a[10],[0,1]))?c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===(a[8]==null?"":a[8])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(i=[a[8],f,f,[0,0],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=i[0],d[34]=i[1],d[35]=i[2],d[36]=i[3],d[37]=i[4],d[38]=i[5],d[39]=i[6],d[40]=i[7],d[41]=i[8],d[42]=i[9],d[43]=i[10],d[44]=i[11],d[45]=i[12],d[46]=i[13],d[47]=i[14],d[48]=i[15],i):(h=e.item,c.seq([function(e){return d[55]=h.senderId,d[53]=h.stickerId,c.i64.neq(d[53],f)?(e=[d[53],[0,4]],d[56]=e[0],d[57]=e[1],e):(e=[f,f],d[56]=e[0],d[57]=e[1],e),e=[d[56],d[57]],d[50]=e[0],d[51]=e[1],e,d[54]=h.replyType==null?[0,0]:h.replyType,c.seq([function(e){return c.seq([function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[57]=a[0],a})},function(e){return c.i64.eq(d[54],[0,1])?c.seq([function(e){return c.i64.eq(a[0],d[57])?c.seq([function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return c.localizeV2Async([0,2421884758],f).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.seq([function(e){return c.seq([function(e){return d[64]=b("gkx")("7530"),d[64]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.name)})},function(a){return d[65]=d[66]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[66]=f:(c=b.item,d[66]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.firstName==null?e.name:e.firstName)})},function(a){return d[65]=d[66]==null?d[68]:d[66]}])},function(a){return d[61]=d[65]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),c.localizeV2Async([0,2676961947],d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[59]=d[60]}]):c.seq([function(e){return c.seq([function(e){return d[62]=b("gkx")("7530"),d[62]?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):(e=b.item,d[64]=e.name)})},function(a){return d[63]=d[64]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[63]=d[64]==null?d[66]:d[64]}])},function(a){return d[60]=d[63]}])},function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[60]),d[62]),c.localizeV2Async([0,3298086032],d[62]).then(function(a){return d[63]=a})},function(a){return d[61]=d[63]}]):c.seq([function(e){return c.i64.eq(a[0],d[55])?c.seq([function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[60]),d[63]),c.localizeV2Async([0,3873263038],d[63]).then(function(a){return d[64]=a})},function(a){return d[62]=d[64]}]):c.seq([function(e){return c.seq([function(e){return d[66]=b("gkx")("7530"),d[66]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.name)})},function(a){return d[67]=d[68]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[68]=f:(c=b.item,d[68]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[72]=a})},function(a){return d[70]=d[72]}]):(e=b.item,d[70]=e.firstName==null?e.name:e.firstName)})},function(a){return d[67]=d[68]==null?d[70]:d[68]}])},function(a){return d[63]=d[67]}])},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[60]),d[64]),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async([0,2616853333],d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[61]=d[62]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}]):c.seq([function(e){return c.i64.eq(a[0],d[57])?c.seq([function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return c.localizeV2Async([0,4002265907],f).then(function(a){return d[61]=a})},function(a){return d[60]=d[61]}]):c.seq([function(e){return c.seq([function(e){return d[64]=b("gkx")("7530"),d[64]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.name)})},function(a){return d[65]=d[66]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[66]=f:(c=b.item,d[66]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.firstName==null?e.name:e.firstName)})},function(a){return d[65]=d[66]==null?d[68]:d[66]}])},function(a){return d[61]=d[65]}])},function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[61]),d[62]),c.localizeV2Async([0,2663996736],d[62]).then(function(a){return d[63]=a})},function(a){return d[60]=d[63]}])},function(a){return d[59]=d[60]}]):c.seq([function(e){return c.seq([function(e){return d[62]=b("gkx")("7530"),d[62]?c.seq([function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[66]=a})},function(a){return d[64]=d[66]}]):(e=b.item,d[64]=e.name)})},function(a){return d[63]=d[64]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],a[0]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,a[0])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[64]=f:(c=b.item,d[64]=c.nickname)})},function(b){return c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[68]=a})},function(a){return d[66]=d[68]}]):(e=b.item,d[66]=e.firstName==null?e.name:e.firstName)})},function(a){return d[63]=d[64]==null?d[66]:d[64]}])},function(a){return d[60]=d[63]}])},function(e){return c.i64.eq(d[55],d[57])?c.seq([function(a){return d[62]=c.createArray(),d[64]=(d[62].push(d[60]),d[62]),c.localizeV2Async([0,2868699317],d[62]).then(function(a){return d[63]=a})},function(a){return d[61]=d[63]}]):c.seq([function(e){return c.i64.eq(a[0],d[55])?c.seq([function(a){return d[63]=c.createArray(),d[65]=(d[63].push(d[60]),d[63]),c.localizeV2Async([0,2688620547],d[63]).then(function(a){return d[64]=a})},function(a){return d[62]=d[64]}]):c.seq([function(e){return c.seq([function(e){return d[66]=b("gkx")("7530"),d[66]?c.seq([function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,2352696798],f).then(function(a){return d[70]=a})},function(a){return d[68]=d[70]}]):(e=b.item,d[68]=e.name)})},function(a){return d[67]=d[68]}]):c.seq([function(b){return c.ftr(c.db.table(14).fetch([[[a[1],d[55]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.contactId,d[55])}).next().then(function(b,c){var a=b.done;b=b.value;return a?d[68]=f:(c=b.item,d[68]=c.nickname)})},function(a){return c.ftr(c.db.table(7).fetch([[[d[55]]]]),function(a){return c.i64.eq(a.id,d[55])&&c.i64.eq([0,1],[0,1])}).next().then(function(b,e){var a=b.done;b=b.value;return a?c.seq([function(a){return c.localizeV2Async([0,14617150],f).then(function(a){return d[72]=a})},function(a){return d[70]=d[72]}]):(e=b.item,d[70]=e.firstName==null?e.name:e.firstName)})},function(a){return d[67]=d[68]==null?d[70]:d[68]}])},function(a){return d[63]=d[67]}])},function(a){return d[64]=c.createArray(),d[66]=(d[64].push(d[60]),d[64]),d[66]=(d[64].push(d[63]),d[64]),c.localizeV2Async([0,3544071775],d[64]).then(function(a){return d[65]=a})},function(a){return d[62]=d[65]}])},function(a){return d[61]=d[62]}])},function(a){return d[59]=d[61]}])},function(a){return d[58]=d[59]}])},function(a){return d[56]=d[58]}])},function(b){return d[52]=c.i64.eq(a[10],[0,1])?d[56]:""}])},function(b){return b=[a[8],a[9],a[10],[0,1],d[52],d[55],h.text,d[50],d[51],f,f,f,f,f,f,d[54]],d[33]=b[0],d[34]=b[1],d[35]=b[2],d[36]=b[3],d[37]=b[4],d[38]=b[5],d[39]=b[6],d[40]=b[7],d[41]=b[8],d[42]=b[9],d[43]=b[10],d[44]=b[11],d[45]=b[12],d[46]=b[13],d[47]=b[14],d[48]=b[15],b}]))})},function(a){return a=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=a[0],d[12]=a[1],d[13]=a[2],d[14]=a[3],d[15]=a[4],d[16]=a[5],d[17]=a[6],d[18]=a[7],d[19]=a[8],d[20]=a[9],d[21]=a[10],d[22]=a[11],d[23]=a[12],d[24]=a[13],d[25]=a[14],d[26]=a[15],a}]):c.resolve((a[8]===f||c.i64.eq(a[9],[0,0])||c.i64.eq(a[10],[0,0])?(e=[f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e):(e=[a[8],a[9],a[10],[0,1],f,f,f,f,f,f,f,f,f,f,f,f],d[33]=e[0],d[34]=e[1],d[35]=e[2],d[36]=e[3],d[37]=e[4],d[38]=e[5],d[39]=e[6],d[40]=e[7],d[41]=e[8],d[42]=e[9],d[43]=e[10],d[44]=e[11],d[45]=e[12],d[46]=e[13],d[47]=e[14],d[48]=e[15],e),e=[d[33],d[34],d[35],d[36],d[37],d[38],d[39],d[40],d[41],d[42],d[43],d[44],d[45],d[46],d[47],d[48]],d[11]=e[0],d[12]=e[1],d[13]=e[2],d[14]=e[3],d[15]=e[4],d[16]=e[5],d[17]=e[6],d[18]=e[7],d[19]=e[8],d[20]=e[9],d[21]=e[10],d[22]=e[11],d[23]=e[12],d[24]=e[13],d[25]=e[14],d[26]=e[15],e))},function(b){return a[13]?d[27]=!1:d[27]=!0,d[27]?(b=[f,f,f,f],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b):(d[33]=a[13].get("mention_offsets"),a[13],d[34]=a[13].get("mention_lengths"),a[13],d[35]=a[13].get("mention_ids"),a[13],d[36]=a[13].get("mention_types"),a[13],b=[d[33],d[34],d[35],d[36]],d[28]=b[0],d[29]=b[1],d[30]=b[2],d[31]=b[3],b),a[11]?d[32]=[0,3]:d[32]=d[13],c.i64.eq([0,20],[0,20])?c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[9],secondarySortKey:d[7],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]}):c.seq([function(a){return c.db.table(12).fetch([[[d[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[d[9],d[7],f],d[33]=c[0],d[34]=c[1],d[35]=c[2],c):(b=a.item,c=[b.primarySortKey,b.secondarySortKey,b.localDataId],d[33]=c[0],d[34]=c[1],d[35]=c[2],c)})},function(a){return c.fe(c.ftr(c.db.table(12).fetch([[[d[0]]],"optimistic"]),function(a){return a.offlineThreadingId===d[0]&&c.i64.lt(a.authorityLevel,[0,20])}),function(a){return a["delete"]()})},function(b){return c.db.table(12).add({threadKey:a[1],messageId:d[0],timestampMs:d[7],offlineThreadingId:d[0],primarySortKey:d[33],secondarySortKey:d[34],text:a[3],senderId:a[0],stickerId:a[6],hotEmojiSize:a[7],isForwarded:a[11],forwardScore:a[12],isAdminMessage:!1,sendStatus:[0,1],sendStatusV2:[0,1],authorityLevel:[0,20],localDataId:d[35],replySourceId:d[11],replySourceType:d[12],replySourceTypeV2:d[32],replyStatus:d[14],replySnippet:d[15],replyToUserId:d[16],replyMessageText:d[17],replyAttachmentId:d[18],replyAttachmentType:d[19],replyMediaUrl:d[20],replyMediaUrlFallback:d[21],replyMediaPreviewWidth:d[22],replyMediaPreviewHeight:d[23],replyMediaUrlMimeType:d[24],replyType:d[26],mentionOffsets:d[28],mentionLengths:d[29],mentionIds:d[30],mentionTypes:d[31]})}])}])},function(e){return d[1]=c.createArray(),d[2]=(d[1].push("LSMailboxLocalApplyOptimisticMessageStoredProcedure"),d[1]),d[3]=(d[1].push("localApplyOptimisticMessage"),d[1]),d[4]=(d[1].push(a[1]),d[1]),d[5]=(d[1].push(d[0]),d[1]),d[6]=c.toJSON(d[1]),function(a){c.logger(a).info(a)}(d[6]),a[14]?c.seq([function(e){return c.sp(b("LSSetMessageViewFlags"),a[1],d[0],d[7],c.i64.eq(a[2],[0,1]))},function(e){return c.sp(b("LSSetMessageDisplayedContentTypes"),a[1],d[0],d[7],a[3],!1,c.i64.neq(a[6],f))}]):c.resolve()},function(a){return a=[d[0],d[7]],e[0]=a[0],e[1]=a[1],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSUpdateOptimisticAttachmentPreview",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d;return b.seq([function(c){return b.fe(b.ftr(b.db.table(16).fetch([[[a[0],a[1],a[2]]]]),function(c){return c.attachmentFbid===a[2]&&b.i64.eq(c.threadKey,a[0])&&c.messageId===a[1]&&b.i64.eq(c.authorityLevel,[0,20])}),function(b){var c=b.update;b.item;return c({playableUrl:a[3],playableUrlFallback:a[4],playableUrlExpirationTimestampMs:a[5],playableUrlMimeType:a[6],previewUrl:a[7],previewUrlFallback:a[8],previewUrlExpirationTimestampMs:a[9],previewUrlMimeType:a[10],previewWidth:a[11],previewHeight:a[12],imageUrl:d,imageUrlFallback:d,imageUrlExpirationTimestampMs:d,imageUrlMimeType:d})})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSOptimisticSendAttachmentForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[1]=a[3]===""?f:a[3],d[1]!==f?c.seq([function(b){return c.fe(c.ftr(c.db.table(16).fetch([[[a[1],d[1]]]]),function(b){return c.i64.eq(b.threadKey,a[1])&&b.messageId===d[1]&&c.i64.eq(b.authorityLevel,[0,20])}),function(b){var d=b.update;b.item;return d({attachmentFbid:c.i64.to_string(a[7])})})},function(a){return d[0]=d[1]}]):c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],f,f,f,f,[0,3],f,f,f,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.ftr(c.db.table(16).fetch(),function(b){return b.attachmentFbid===c.i64.to_string(a[7])}).next().then(function(e,h){var i=e.done;e=e.value;return i?c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),[0,2],f,f,!0,!1):(h=e.item,c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[3],d[2],d[2],c.i64.to_string(a[7]),h.attachmentType,h.filename,h.attributionAppId,!0,!1)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[2],c.i64.to_string(a[7]),h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}]))})},function(a){return d[0]=d[2]}])},function(e){return c.seq([function(e){return d[2]=c.createArray(),d[4]=(d[2].push(a[7]),d[2]),c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[8],sendType:[0,4],markThreadRead:!1,initiatingSource:a[9]})}])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticSendMessageForward",["LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.ftr(c.db.table(12).fetch([[[a[3],a[4],a[5]]]]),function(b){return c.i64.eq(b.threadKey,a[3])&&c.i64.eq([0,0],[0,0])&&c.i64.eq(b.timestampMs,a[4])&&b.messageId===a[5]&&c.i64.eq(b.authorityLevel,[0,80])}).next().then(function(e,h){var i=e.done;e=e.value;return i?(d[2]=c.createArray(),d[3]=(d[2].push("optimisticSendMessageForward msg not found"),d[2]),d[4]=(d[2].push(a[5]),d[2]),d[5]=c.toJSON(d[2]),function(a){c.logger(a).mustfix(a)}(d[5]),d[0]=""):(h=e.item,c.seq([function(e){return d[8]=h.forwardScore,d[2]=h.text,d[3]=d[8],c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],d[2],f,f,h.stickerId,h.hotEmojiSize,f,f,[0,3],f,d[3],f,!0).then(function(a){return a=a,d[4]=a[0],d[5]=a[1],a})},function(e){return c.fe(c.db.table(16).fetch([[[h.threadKey,h.messageId]]]),function(e){var h=e.item;return c.seq([function(e){return d[13]=h.attachmentFbid,d[9]=c.createArray(),d[10]=(d[9].push(d[13]),d[9]),d[11]=(d[9].push(d[4]),d[9]),d[12]=c.toJSON(d[9]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[5],d[4],d[13],d[12],h.attachmentType,h.filename,f,h.hasMedia,h.hasXma)},function(e){return c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[4],d[12],h.playableUrl,h.playableUrlFallback,h.playableUrlExpirationTimestampMs,h.playableUrlMimeType,h.previewUrl,h.previewUrlFallback,h.previewUrlExpirationTimestampMs,h.previewUrlMimeType,h.previewWidth,h.previewHeight)}])})},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[6]=a[0],a})},function(a){return f!==f?c.sp(b("LSPredefineTraceForTask"),f,d[6],c.i64.to_string([0,46]),d[4]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[6],threadKey:a[1],offlineThreadingId:d[4],messageId:a[5],threadAttributionSource:a[6],sendType:[0,5],markThreadRead:!1,initiatingSource:a[7]})},function(b){return d[9]=new c.Map(),d[10]=d[9].set("optimisticSendMessageForward",a[1]),d[11]=d[9].set("fwdMsgID",a[5]),d[12]=c.toJSON(d[9]),d[7]=d[12],function(a){c.logger(a).info(a)}(d[7]),d[0]=d[4]}]))})},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSAppendDataTraceAddon.bs",["LS.bs","LSAppendDataTraceAddon","bs_belt_Option","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h,i){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return window.Promise.resolve();else return c("LSAppendDataTraceAddon")(e,f,g,c("bs_belt_Option").getWithDefault(h,""),c("bs_belt_Option").getWithDefault(i,""),d("LS.bs").make(a))}b=a;g.call=b}),98);
__d("LSAppendDataTraceAddon.nop",["LSAppendDataTraceAddon.bs"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c,e,f,g,h){return d("LSAppendDataTraceAddon.bs").call(a,b,c,e,f,g,h)};g["default"]=a}),98);
__d("LSOptimisticSendMessage",["LSAppendDataTraceAddon.nop","LSInsertOptimisticAttachment","LSIssueNewTaskAndGetTaskID","LSLocalApplyOptimisticMessage","LSLogEventAnnotate.nop","LSOptimisticMarkThreadReadV2","LSPredefineTraceForTask","LSUpdateOptimisticAttachmentPreview"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSLocalApplyOptimisticMessage"),a[0],a[1],a[2],a[4],a[5],a[6],a[7],a[8],a[14],a[15],a[16],a[17],a[18],a[19],a[21]).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return d[10]=a[9]===""?f:a[9],d[10]!==f?c.seq([function(e){return c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],d[0],d[0],[0,3],d[10],a[10],!0,!1)},function(e){return a[22]?d[11]=!1:d[11]=!0,d[11]?c.resolve():(d[12]=a[22].get("playable_url"),a[22],d[13]=a[22].get("playable_url_fallback"),a[22],d[14]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[15]=a[22].get("playable_url_mime_type"),a[22],d[16]=a[22].get("preview_url"),a[22],d[17]=a[22].get("preview_url_fallback"),a[22],d[18]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[19]=a[22].get("preview_url_mime_type"),a[22],d[20]=a[22].get("preview_width"),a[22],d[21]=a[22].get("preview_height"),a[22],d[22]=a[22].get("image_url"),a[22],d[23]=a[22].get("image_url_fallback"),a[22],d[24]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[25]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[0],d[12],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21]))},function(a){return d[2]=[0,7]}]):c.seq([function(e){return c.i64.neq(a[7],f)?c.seq([function(e){return c.i64.neq(a[7],[53057,267535043])&&c.i64.neq(a[7],[85970,924785702])&&c.i64.neq(a[7],[85970,1004785694])&&c.i64.neq(a[7],[85970,1044785690])?c.seq([function(e){return d[13]=c.i64.to_string(a[7]),c.sp(b("LSInsertOptimisticAttachment"),a[1],d[1],d[0],c.i64.to_string(a[7]),d[13],[0,1],f,f,!0,!1)},function(e){return a[22]?d[12]=!1:d[12]=!0,d[12]?c.resolve():(d[14]=a[22].get("playable_url"),a[22],d[15]=a[22].get("playable_url_fallback"),a[22],d[16]=a[22].get("playable_url_expiration_timestamp_ms"),a[22],d[17]=a[22].get("playable_url_mime_type"),a[22],d[18]=a[22].get("preview_url"),a[22],d[19]=a[22].get("preview_url_fallback"),a[22],d[20]=a[22].get("preview_url_expiration_timestamp_ms"),a[22],d[21]=a[22].get("preview_url_mime_type"),a[22],d[22]=a[22].get("preview_width"),a[22],d[23]=a[22].get("preview_height"),a[22],d[24]=a[22].get("image_url"),a[22],d[25]=a[22].get("image_url_fallback"),a[22],d[26]=a[22].get("image_url_expiration_timestamp_ms"),a[22],d[27]=a[22].get("image_url_mime_type"),a[22],c.sp(b("LSUpdateOptimisticAttachmentPreview"),a[1],d[0],d[13],d[14],d[15],d[16],d[17],d[18],d[19],d[20],d[21],d[22],d[23]))}]):c.resolve()},function(a){return d[11]=[0,2]}]):c.resolve(d[11]=[0,1])},function(a){return d[2]=d[11]}])},function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),c.i64.to_string(a[1]),[0,46],"",f,f,[0,0],[0,0],[0,1],f,[0,0]).then(function(a){return a=a,d[3]=a[0],a})},function(e){return a[24]!==f?c.seq([function(e){return c.sp(b("LSPredefineTraceForTask"),a[24],d[3],c.i64.to_string([0,46]),d[0])},function(d){return c.nop(b("LSAppendDataTraceAddon.nop"),a[24],[0,20],[0,1],f,f)}]):c.resolve()},function(b){return c.db.table(31).add({taskId:d[3],threadKey:a[1],offlineThreadingId:d[0],threadAttributionSource:a[11],externalAttachmentUrl:a[9],platformRef:a[12],platformToken:a[13],replySourceId:a[14],replySourceType:a[15],sendType:d[2],markThreadRead:a[20]==null?!1:a[20],initiatingSource:a[23],skipUrlPreviewGen:a[25],textHasLinks:a[26]})},function(e){return(a[20]==null?!1:a[20])?c.sp(b("LSOptimisticMarkThreadReadV2"),a[1],d[1]):c.resolve()},function(e){return d[4]=c.createArray(),d[5]=(d[4].push("optimisticSendMessage"),d[4]),d[6]=(d[4].push(a[1]),d[4]),d[7]=(d[4].push(d[0]),d[4]),d[8]=c.toJSON(d[4]),function(a){c.logger(a).info(a)}(d[8]),d[9]=new c.Map(),d[9].set("offline_threading_id",d[0]),d[9].set("task_id",d[3]),d[9].set("task_queue_name",c.i64.to_string(a[1])),d[9].set("task_label",c.i64.to_string([0,1])),c.nop(b("LSLogEventAnnotate.nop"),[0,16],[0,23],[0,0],d[9])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSGetMessageAttributionParams",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.ftr(b.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var d=a.done;a=a.value;return d?(d=[e,e,e],c[0]=d[0],c[1]=d[1],c[2]=d[2],d):(b=a.item,d=[b.threadAttributionSource,b.platformRef,b.platformToken],c[0]=d[0],c[1]=d[1],c[2]=d[2],d)})},function(a){return a=[c[0],c[1],c[2]],d[0]=a[0],d[1]=a[1],d[2]=a[2],a}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSInsertPhase2PendingTask",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=e:(b=a.item,c[0]=b.threadKey)})},function(d){return b.i64.neq(c[0],e)?b.seq([function(d){return b.db.table(2).add({taskId:void 0,taskValue:a[0],queueName:[b.i64.to_string(c[0]),"_multi_media"].join(""),context:"4",enqueueTimestampMs:b.i64.of_float(Date.now()),pluginType:a[1]})},function(a){return c[2]=e}]):b.resolve(c[2]=[0,1002])},function(a){return d[0]=c[2]}])},function(a){return b.resolve(d)}])}e.exports=a}),null);
__d("LSMarkSubJobCompletedV2",["LSArrayGetObjectAt"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return d[0]=c.createArray(),c.db.table(51).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?0:(b=a.item,d[3]=new c.Map(),d[3].set("offline_attachment_id",b.offlineAttachmentId),d[3].set("offline_threading_id",b.offlineThreadingId),d[3].set("in_message_index",b.inMessageIndex),d[3].set("attachment_type",b.attachmentType),d[3].set("should_transcode",b.shouldTranscode),d[3].set("use_double_phase",b.useDoublePhase),d[3].set("send_by_server",b.sendByServer),d[3].set("is_secure",b.isSecure),d[3].set("state",b.state),d[3].set("fbid",b.fbid),d[3].set("metadata",b.metadata),d[3].set("error",b.error),d[3].set("message_id",b.messageId),d[4]=(d[0].push(d[3]),d[0]))})},function(e){return d[2]=c.i64.of_int32(d[0].length),c.i64.neq(d[2],[0,0])?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[0],[0,0]).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(b){return d[5]=d[3].get("state"),d[3],c.i64.neq(a[1],f)?a[2]!==f?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],messageId:a[2],metadata:a[3]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],fbid:a[1],metadata:a[3]})})):c.i64.neq(a[4],f)?(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({state:d[6],error:a[4]})})):(c.i64.eq(d[5],[-1,4294967293])?(d[7]=[-1,4294967295],d[6]=d[7]):(c.i64.eq(d[5],[0,1])?d[7]=[0,2]:(c.i64.eq(d[5],[0,3])?d[8]=[0,4]:(c.i64.eq(d[5],[0,5])?d[9]=[0,6]:(c.i64.eq(d[5],[0,13])?d[10]=[0,14]:(c.i64.eq(d[5],[0,7])?d[11]=[0,8]:(c.i64.eq(d[5],[0,9])?d[12]=[0,10]:(c.i64.eq(d[5],[0,11])?d[13]=[0,12]:d[13]=d[5],d[12]=d[13]),d[11]=d[12]),d[10]=d[11]),d[9]=d[10]),d[8]=d[9]),d[7]=d[8]),d[6]=d[7]),c.fe(c.db.table(51).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({state:d[6]})}))}]):c.resolve()}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRemoveMediaSendJobs",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSResumeMediaSendJob",["LSArrayGetObjectAt","LSGetMessageAttributionParams","LSInsertPhase2PendingTask","LSIssueSendAttachmentMessageTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(b){return d[0]=new c.Map(),d[1]=new c.Map(),d[1].set("main_job_succeeded",!1),d[1].set("resume_failed",!1),d[1].set("error",f),d[1].set("running_sub_job_states",d[0]),d[2]=new c.Map(),d[2].set("should_transcode",!1),d[2].set("use_double_phase",!1),d[2].set("send_by_server",!1),d[2].set("is_secure",!1),d[2].set("should_dedupe",!1),c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,d[2].set("should_transcode",b.shouldTranscode),d[2].set("use_double_phase",b.useDoublePhase),d[2].set("send_by_server",b.sendByServer),d[2].set("is_secure",b.isSecure))})},function(b){return d[4]=new c.Map(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[13]=a.offlineAttachmentId,d[11]=a.state,d[12]=a.error,c.i64.eq(d[11],[-1,4294967293])?d[10]=!0:(c.i64.eq(d[11],[0,1])?d[14]=!0:(c.i64.eq(d[11],[0,3])?d[15]=!0:(c.i64.eq(d[11],[0,5])?d[16]=!0:(c.i64.eq(d[11],[0,13])?d[17]=!0:(c.i64.eq(d[11],[0,7])?d[18]=!0:(c.i64.eq(d[11],[0,9])?d[19]=!0:(c.i64.eq(d[11],[0,11])?d[20]=!0:d[20]=!1,d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),d[10]=d[14]),d[10]?c.resolve(c.i64.eq(d[11],[0,5])||c.i64.eq(d[11],[0,11])?0:d[4].set(d[13],d[11])):c.i64.neq(d[12],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[12]))):(c.i64.eq(d[11],[-1,4294967295])?d[14]=[0,5]:(c.i64.eq(d[11],[-1,4294967294])?(d[16]=d[2].get("should_transcode"),d[2],d[15]=d[16]?[0,1]:[0,3]):(c.i64.eq(d[11],[0,2])?d[16]=[0,3]:(c.i64.eq(d[11],[0,4])?(d[18]=d[2].get("send_by_server"),d[2],d[19]=d[2].get("use_double_phase"),d[2],d[17]=d[18]?d[19]?[0,13]:f:[0,5]):(c.i64.eq(d[11],[0,6])?(d[19]=d[2].get("use_double_phase"),d[2],d[18]=d[19]?[0,13]:f):(c.i64.eq(d[11],[0,14])?(d[20]=d[2].get("use_double_phase"),d[2],d[21]=d[2].get("should_transcode"),d[2],d[19]=d[20]?d[21]?[0,7]:[0,9]:f):(c.i64.eq(d[11],[0,8])?d[20]=[0,9]:(c.i64.eq(d[11],[0,10])?(d[22]=d[2].get("send_by_server"),d[2],d[21]=d[22]?f:[0,11]):(c.i64.eq(d[11],[0,12])?d[22]=f:d[22]=f,d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),d[18]=d[19]),d[17]=d[18]),d[16]=d[17]),d[15]=d[16]),d[14]=d[15]),c.i64.neq(d[14],f)?c.seq([function(a){return c.fe(c.db.table(51).fetch([[[d[13]]]]),function(a){var b=a.update;a.item;return b({state:d[14]})})},function(a){return c.i64.eq(d[14],[0,5])||c.i64.eq(d[14],[0,11])?0:d[4].set(d[13],d[14])}]):c.resolve())})},function(b){return c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["state","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[5]=f:(b=a.item,d[5]=b.state)})},function(e){return c.i64.neq(d[5],f)?(d[10]=d[2].get("send_by_server"),d[2],d[11]=d[2].get("use_double_phase"),d[2],d[12]=d[2].get("use_double_phase"),d[2],(d[10]?d[11]?c.i64.eq(d[5],[0,10]):c.i64.eq(d[5],[0,4]):d[12]?c.i64.eq(d[5],[0,12]):c.i64.eq(d[5],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):c.i64.eq(d[5],[0,5])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[15]=a.error,c.i64.eq(d[15],f)?(c.i64.neq(a.fbid,f)?d[16]=f:d[16]=[0,9],d[14]=d[16]):d[14]=d[15],c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(e){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(e){return d[14]=d[2].get("is_secure"),d[2],d[14]?c.seq([function(b){return d[16]=c.createArray(),d[17]=new c.Map(),d[18]=new c.Map(),d[19]=!1,d[20]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.fbid,d[20]=c.i64.add(d[20],[0,1]),c.i64.neq(d[25],f)?d[26]=(d[16].push(d[25]),d[16]):0})},function(b){return d[21]=c.createArray(),c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[25]=a.metadata,d[25]!==f?d[26]=(d[21].push(d[25]),d[21]):0})},function(a){return d[22]=c.i64.of_int32(d[16].length),d[23]=c.i64.of_int32(d[21].length),c.i64.neq(d[22],d[20])||c.i64.neq(d[23],d[20])?d[24]=[0,11]:(function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Started"),function(a){c.logger(a).debug(a)}("[TincanLS][LSSecureMailboxSendSecureMediaMessageStoredProcedure] Completed"),d[24]=f),d[15]=d[24]}]):c.seq([function(e){return c.seq([function(b){return d[17]=c.createArray(),d[18]=new c.Map(),d[19]=new c.Map(),d[20]=!1,d[21]=[0,0],c.fe(c.sb(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),[["inMessageIndex","ASC"]]),function(a){a=a.item;return d[24]=a.fbid,d[21]=c.i64.add(d[21],[0,1]),c.i64.neq(d[24],f)?d[25]=(d[17].push(d[24]),d[17]):0})},function(e){return d[22]=c.i64.of_int32(d[17].length),c.i64.neq(d[22],d[21])||c.i64.eq(d[21],[0,0])?c.resolve(d[23]=[0,10002]):c.seq([function(b){return c.db.table(12).fetch([[[a[0]]],"optimistic"]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],c):(b=a.item,c=[b.threadKey,b.senderId,b.text,b.replySourceId,b.replySourceTypeV2],d[24]=c[0],d[25]=c[1],d[26]=c[2],d[27]=c[3],d[28]=c[4],c)})},function(e){return c.i64.eq(d[24],f)||c.i64.eq(d[25],f)?c.resolve((c.i64.eq(d[24],f)?d[31]=[0,10003]:d[31]=[0,10004],d[30]=d[31])):c.seq([function(a){return c.db.table(9).fetch([[[d[24]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[31]=f:(b=a.item,d[31]=b.threadType)})},function(b){return c.ftr(c.db.table(31).fetch(),function(b){return b.offlineThreadingId===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[f,f,f,f,f],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c):(b=a.item,c=[b.platformRef,b.platformToken,b.initiatingSource,f,f],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c)})},function(e){return c.i64.neq(d[31],f)?c.seq([function(e){return d[40]=d[18].keys(),d[41]=c.i64.of_int32(d[40].length),c.i64.gt(d[41],[0,0])?c.loopAsync(d[41],function(e){return d[47]=e,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[40],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(e){return d[50]=d[19].get(d[48]),d[19],d[51]=c.i64.to_string(d[50]),d[51]!==f?c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[40],d[47]).then(function(a){return a=a,d[52]=a[0],d[53]=a[1],a})},function(b){return d[54]=d[18].get(d[48]),d[18],c.fe(c.ftr(c.db.table(16).fetch([[[d[24],a[0],d[52]]]]),function(b){return c.i64.eq(b.threadKey,d[24])&&c.i64.eq([0,0],[0,0])&&b.messageId===a[0]&&b.attachmentFbid===d[52]}),function(a){var b=a.update;a.item;return b({attachmentFbid:d[51],originalFileHash:d[54]})})}]):c.resolve()}])}):c.resolve()},function(e){return c.sp(b("LSGetMessageAttributionParams"),a[0]).then(function(a){return a=a,d[42]=a[0],d[43]=a[1],d[44]=a[2],a})},function(e){return c.i64.neq(d[42],f)?d[45]=d[42]:d[45]=[0,0],c.sp(b("LSIssueSendAttachmentMessageTask"),d[25],d[24],d[31],a[0],d[26],d[17],d[45],d[27],d[28],d[20],d[33],d[34],a[2])},function(a){return c.i64.ge([0,0],[0,0])?d[46]=f:d[46]=[0,10006],d[39]=d[46]}]):c.resolve(d[39]=[0,10005])},function(a){return d[30]=d[39]}])},function(a){return d[23]=d[30]}])},function(a){return d[16]=d[23]}])},function(b){return c.i64.eq(d[16],f)?c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,6]})}):c.resolve()},function(a){return d[15]=d[16]}])},function(b){return c.i64.eq(d[15],f)?(d[16]=d[2].get("send_by_server"),d[2],d[17]=d[2].get("use_double_phase"),d[2],d[18]=d[2].get("use_double_phase"),d[2],(d[16]?d[17]?c.i64.eq([0,6],[0,10]):c.i64.eq([0,6],[0,4]):d[18]?c.i64.eq([0,6],[0,12]):c.i64.eq([0,6],[0,6]))?c.resolve(d[1].set("main_job_succeeded",!0)):(c.i64.eq([0,6],[-1,4294967295])?d[19]=[0,5]:(c.i64.eq([0,6],[-1,4294967294])?(d[21]=d[2].get("should_transcode"),d[2],d[20]=d[21]?[0,1]:[0,3]):(c.i64.eq([0,6],[0,2])?d[21]=[0,3]:(c.i64.eq([0,6],[0,4])?(d[23]=d[2].get("send_by_server"),d[2],d[24]=d[2].get("use_double_phase"),d[2],d[22]=d[23]?d[24]?[0,13]:f:[0,5]):(c.i64.eq([0,6],[0,6])?(d[24]=d[2].get("use_double_phase"),d[2],d[23]=d[24]?[0,13]:f):(c.i64.eq([0,6],[0,14])?(d[25]=d[2].get("use_double_phase"),d[2],d[26]=d[2].get("should_transcode"),d[2],d[24]=d[25]?d[26]?[0,7]:[0,9]:f):(c.i64.eq([0,6],[0,8])?d[25]=[0,9]:(c.i64.eq([0,6],[0,10])?(d[27]=d[2].get("send_by_server"),d[2],d[26]=d[27]?f:[0,11]):(c.i64.eq([0,6],[0,12])?d[27]=f:d[27]=f,d[26]=d[27]),d[25]=d[26]),d[24]=d[25]),d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[19]=d[20]),c.i64.neq(d[19],f)?c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:d[19]})})},function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}]):c.resolve())):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[15])))}])}]):c.i64.eq(d[5],[0,11])?c.seq([function(b){return d[13]=f,c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[14]=a.error,c.i64.neq(d[14],f)?d[13]=d[14]:0})},function(a){return c.i64.neq(d[13],f)?(d[1].set("resume_failed",!0),d[1].set("error",d[13])):d[1].set("main_job_succeeded",!0)}]):c.i64.eq(d[5],[0,13])?c.seq([function(e){return c.sp(b("LSInsertPhase2PendingTask"),a[0],a[1]).then(function(a){return a=a,d[13]=a[0],a})},function(b){return c.i64.neq(d[13],f)?c.resolve((d[1].set("resume_failed",!0),d[1].set("error",d[13]))):c.seq([function(b){return c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){var b=a.update;a.item;return b({state:[0,14]})})},function(b){return d[1].set("main_job_succeeded",!0),c.fe(c.ftr(c.db.table(51).fetch(),function(b){return b.offlineThreadingId===a[0]}),function(a){a=a.item;return d[4].set(a.offlineAttachmentId,a.state)})}])}]):c.resolve(0)):c.resolve((d[1].set("resume_failed",!0),d[1].set("error",[0,11])))},function(a){return d[7]=d[1].get("main_job_succeeded"),d[1],d[8]=d[1].get("resume_failed"),d[1],d[9]=d[1].get("error"),d[1],a=[d[7],d[8],d[9],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("MWChatForwardDialogQuery$Parameters",["MWChatForwardDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWChatForwardDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatForwardDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWConsole",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){}g.log=a}),98);
__d("useSecureMessageSendTime",["MAWGating","MAWStateContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useDebugValue;function a(a){if(!d("MAWGating").isDebugUIEnabled())return void 0;a=d("MAWStateContext.react").useStaleMAWStateWithoutRerendering().messageLatencies[a]||{};var b=a.acked;a=a.sent;b=b!==void 0?b-a:void 0;h(b);return b}g["default"]=a}),98);
__d("MWBaseTheme.bs",[],(function(a,b,c,d,e,f){"use strict";a={};b={};c={dark:b,light:a,type:"VARIABLES"};d={};f.empty=c;f.Provider=d}),66);
__d("MWCombineThemeConfigs.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{dark:Object.assign(a.dark,b.dark),light:Object.assign(a.light,b.light),type:b.type}}f.combine=a}),66);
__d("MWSeparatorContainer.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,d=h.Children.toArray(a.children).filter(Boolean);return d.length===0?null:h.jsxs(h.Fragment,{children:[(b=a.beforeContent)!=null?b:null,h.jsx("div",{className:c("stylex")(a.xstyle),children:d.map(function(b,c){return h.jsxs(h.Fragment,{children:[c!==0&&a.separator,b]},"item-"+c)})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTextWithEntities.bs",["CometLink.react","MAWArmadilloLink.react","MWMessageCellFocusTable.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f,g){f===void 0&&(f=!1);return function(e,g){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{role:"gridcell",children:f?h.jsx(c("MAWArmadilloLink.react"),{bypassMDS_DO_NOT_USE:!0,href:g.uri,target:b,testid:void 0,xstyle:a,children:e}):h.jsx(c("CometLink.react"),{href:g.uri,target:b,testid:void 0,xstyle:a,children:e})})})}}g.linkPlugin=a}),98);
__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,65536];b=[0,65537];var g=[0,65538],h=[0,65539],i=[0,65540],j=[0,65541],k=[0,65542],l=[0,65543],m=[0,65544],n=[0,65545],o=[0,65546],p=[0,65547],q=[0,131072],r=[0,131073],s=[0,131074],t=[0,131075],u=[0,131076],v=[0,196608],w=[0,196609],x=[0,196610],y=[0,196611],z=[0,196612],A=[0,262144],B=[0,262145],C=[0,262146],D=[0,262147],E=[0,262148],F=[0,262149],G=[0,327680],H=[0,327681],I=[0,327682],J=[0,393216],K=[0,393217],L=[0,393218],M=[0,393219],N=[0,393220],O=[0,393221],P=[0,393222],Q=[0,393223],R=[0,393224],S=[0,393225],T=[0,458752],U=[0,458753],V=[0,458754],W=[0,524288],X=[0,524289],Y=[0,524290],Z=[0,524291],$=[0,589824],aa=[0,589825],ba=[0,589826],ca=[0,589827],da=[0,589828],ea=[0,655360],fa=[0,655361],ga=[0,720896],ha=[0,720897],ia=[0,786432],ja=[0,786433],ka=[0,786434],la=[0,786435],ma=[0,786436],na=[0,786437],oa=[0,786439],pa=[0,851968],qa=[0,851969],ra=[0,851970],sa=[0,851971],ta=[0,917504],ua=[0,917505],va=[0,917506],wa=[0,917507],xa=[0,917508],ya=[0,917509],za=[0,917510],Aa=[0,983040],Ba=[0,1048576],Ca=[0,1048577],Da=[0,1048578],Ea=[0,1114112],Fa=[0,1114113],Ga=[0,1114114],Ha=[0,1114115],Ia=[0,1114116],Ja=[0,1114117],Ka=[0,1114118],La=[0,1114119],Ma=[0,1179648],Na=[0,1245184],Oa=[0,1245185],Pa=[0,1245186],Qa=[0,1310720],Ra=[0,1310721],Sa=[0,1310722],Ta=[0,1310723],Ua=[0,1310724],Va=[0,1310725],Wa=[0,1310726],Xa=[0,1310727],Ya=[0,1310728],Za=[0,1376256],$a=[0,1376257],ab=[0,1376258],bb=[0,1441792],cb=[0,1441793],db=[0,1441794],eb=[0,1441795],fb=[0,1507328],gb=[0,1507329],hb=[0,1507330],ib=[0,1507331],jb=[0,1572864],kb=[0,1572865],lb=[0,1572866],mb=[0,1572867],nb=[0,1572868],ob=[0,1572869],pb=[0,1572870],qb=[0,1572871],rb=[0,1572872],sb=[0,1572873],tb=[0,1572874],ub=[0,1572875],vb=[0,1638400],wb=[0,1638401],xb=[0,1638402],yb=[0,1703936],zb=[0,1703937],Ab=[0,1703938],Bb=[0,1769472],Cb=[0,1769473],Db=[0,1835008],Eb=[0,1835009],Fb=[0,1835010],Gb=[0,1835011],Hb=[0,1835012],Ib=[0,1900544],Jb=[0,1900545],Kb=[0,1966080],Lb=[0,1966081],Mb=[0,1966082],Nb=[0,1966083],Ob=[0,2031616],Pb=[0,2031617],Qb=[0,2097152],Rb=[0,2097153],Sb=[0,2097154],Tb=[0,2097155],Ub=[0,2097156],Vb=[0,2162688],Wb=[0,2162689],Xb=[0,2162690],Yb=[0,2162691],Zb=[0,2228224],$b=[0,2228225],ac=[0,2228226],bc=[0,2228227],cc=[0,2293760],dc=[0,2293761],ec=[0,2293762],fc=[0,2359296],gc=[0,2359297],hc=[0,2424832],ic=[0,2424833],jc=[0,2424834],kc=[0,2424835],lc=[0,2424836],mc=[0,2424837],nc=[0,2490368],oc=[0,2490369],pc=[0,2490370],qc=[0,2490371],rc=[0,2490372],sc=[0,2490373],tc=[0,2490374],uc=[0,2490375],vc=[0,2490376],wc=[0,2490377],xc=[0,2490378],yc=[0,2490379],zc=[0,2490380],Ac=[0,2490381],Bc=[0,2490382],Cc=[0,2490383],Dc=[0,2490384],Ec=[0,2490385],Fc=[0,2490386],Gc=[0,2555904],Hc=[0,2555905],Ic=[0,2555906],Jc=[0,2555907],Kc=[0,2555908],Lc=[0,2621440],Mc=[0,2686976],Nc=[0,2752512],Oc=[0,2818048],Pc=[0,2883584],Qc=[0,2883585],Rc=[0,2883586],Sc=[0,2949120],Tc=[0,2949121],Uc=[0,3014656],Vc=[0,3080192],Wc=[0,3145728],Xc=[0,3211264],Yc=[0,3211265],Zc=[0,3211266],$c=[0,3211267],ad=[0,3211268],bd=[0,3276800],cd=[0,3276801],dd=[0,3342336],ed=[0,3342337],fd=[0,3407872],gd=[0,3473408],hd=[0,3473409],id=[0,3538944],jd=[0,3538945],kd=[0,3538946],ld=[0,3604480],md=[0,3604481],nd=[0,3604482],od=[0,3670016],pd=[0,3735552],qd=[0,3801088],rd=[0,3866624],sd=[0,3866625],td=[0,3932160],ud=[0,3932161],vd=[0,3932162],wd=[0,3932163],xd=[0,3997696],yd=[0,3997697],zd=[0,3997698],Ad=[0,3997699],Bd=[0,4063232];f.unknown=a;f.unknownTest=c;f.unknownFailureRetry=d;f.messengerInbox=e;f.messengerInboxInThread=b;f.messengerInboxThreadList=g;f.messengerInboxNestedFolder=h;f.messengerInboxRecentThreads=i;f.messengerInboxRemainingThreads=j;f.messengerInboxMessageSearch=k;f.messengerInboxImageSending=l;f.messengerInboxForward=m;f.messengerInboxArchivedThreads=n;f.messengerInboxPendingRequests=o;f.messengerInboxActiveContacts=p;f.messengerUniversalSearch=q;f.messengerUniversalSearchNullState=r;f.messengerUniversalSearchKeyPressed=s;f.messengerUniversalSearchMessageSearch=t;f.messengerUniversalSearchAdvancedContentSearch=u;f.montageAndActiveNow=v;f.montageAndActiveNowMontageInboxUnit=w;f.montageAndActiveNowActiveNow=x;f.montageAndActiveNowInboxComposer=y;f.montageAndActiveNowActiveAndHasStory=z;f.messengerActiveNowFriendsTab=A;f.messengerActiveNowFriendsTabFriendsTab=B;f.messengerActiveNowFriendsTabPlaceHolder=C;f.messengerActiveNowFriendsTabRecentActive=D;f.messengerActiveNowFriendsTabRecentActiveAndStory=E;f.messengerActiveNowFriendsTabContentDiscovery=F;f.messengerPendingRequests=G;f.messengerPendingRequestsInboxThreadList=H;f.messengerPendingRequestsPendingRequestsPage=I;f.messengerBroadcastFlow=J;f.messengerBroadcastFlowFromMessenger=K;f.messengerBroadcastFlowFromFb=L;f.messengerBroadcastFlowFromExternal=M;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=N;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=O;f.messengerBroadcastFlowFromFbShortsViewer=P;f.messengerBroadcastFlowForwardGutter=Q;f.messengerBroadcastFlowForwardLongclick=R;f.messengerBroadcastFlowMessengerPhotoView=S;f.messengerOmnipicker=T;f.messengerOmnipickerNullState=U;f.messengerOmnipickerKeyPressed=V;f.messengerNotification=W;f.messengerNotificationInThreadReply=X;f.messengerNotificationLongpressReply=Y;f.messengerNotificationLongpressReaction=Z;f.clickToMessengerAd=$;f.clickToMessengerAdFromNewsfeed=aa;f.clickToMessengerAdSendMessageCta=ba;f.clickToMessengerAdViewAndMessage=ca;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=da;f.payments=ea;f.paymentsBubbleClick=fa;f.rtc=ga;f.rtcVoipIncall=ha;f.fbPage=ia;f.fbPageAboutCard=ja;f.fbPageProfileHeaderMessageButton=ka;f.fbPageProfileFooterMessageButton=la;f.fbPageProfileMoreDrawer=ma;f.fbPageResponsivenessContextCard=na;f.fbPagePymmRhc=oa;f.fbProfile=pa;f.fbProfileTimelineMessageButton=qa;f.fbProfileFacebookProfile=ra;f.fbProfileMessageButton=sa;f.fbSearch=ta;f.fbSearchContextualProfileActionBarFromSearch=ua;f.fbSearchSearchMessageButton=va;f.fbSearchFbMessageSearchResults=wa;f.fbSearchHighConfidenceCard=xa;f.fbSearchMentions=ya;f.fbSearchNullstateCta=za;f.crypto=Aa;f.messengerMontageComposer=Ba;f.messengerMontageComposerFriendsTab=Ca;f.messengerMontageComposerFriendsTabStoryAndActiveNow=Da;f.messengerMontageReply=Ea;f.messengerMontageReplyInboxThreadListProfile=Fa;f.messengerMontageReplyReplyContext=Ga;f.messengerMontageReplyThreadNavBar=Ha;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=Ia;f.messengerMontageReplyReplyContextAuthorProfile=Ja;f.messengerMontageReplyThreadNavBarAuthorProfile=Ka;f.messengerMontageReplyOneToOneChatThreadStoryBubble=La;f.messengerThreadMembersList=Ma;f.marketplace=Na;f.marketplaceActivityBanner=Oa;f.marketplaceSendMessage=Pa;f.fbStory=Qa;f.fbStoryViewerSheetMenu=Ra;f.fbStoryViewerSheetRow=Sa;f.fbStoryStoriesJewelNotification=Ta;f.fbStoryStoriesPushNotification=Ua;f.fbStoryStoriesViewerConsumerReply=Va;f.fbStoryStoriesViewerConsumerArtifact=Wa;f.fbStoryStoriesPageStoryConversations=Xa;f.fbStorySocialContextConversations=Ya;f.workspeed=Za;f.workspeedComposerLikeButton=$a;f.workspeedComposerGifPicker=ab;f.mdotme=bb;f.mdotmeOrganicPost=cb;f.mdotmeMarketingEmail=db;f.mdotmeMbsOffsiteEmail=eb;f.customerChatPlugin=fb;f.customerChatPluginMobileRedirect=gb;f.customerChatPluginUpgradeFlow=hb;f.customerChatPluginReEngagement=ib;f.fbFeed=jb;f.fbFeedOrganicPost=kb;f.fbFeedOrganicPostViewAndMessage=lb;f.fbFeedQuestionTriggeredConvo=mb;f.fbFeedDynamicHoverCard=nb;f.fbFeedOrganicPostNewsfeedPagePostCta=ob;f.fbFeedOrganicPostNewsfeedBumperSmcta=pb;f.fbFeedBcfOpenChatButton=qb;f.fbFeedReactorsListMessageButton=rb;f.fbFeedReplyToAuthor=sb;f.fbFeedUfiSendSuggestions=tb;f.fbFeedBcf=ub;f.fbNotification=vb;f.fbNotificationJewelNotif=wb;f.fbNotificationPushNotif=xb;f.fbEvent=yb;f.fbEventMessageHost=zb;f.fbEventShareClassMaterials=Ab;f.supportResources=Bb;f.supportResourcesFrxAction=Cb;f.leadGenMessaging=Db;f.leadGenMessagingPreSubmission=Eb;f.leadGenMessagingPostSubmission=Fb;f.leadGenMessagingCrossChannelVerticalPresentAndroid=Gb;f.leadGenMessagingCrossChannelHscrollAndroid=Hb;f.messengerGraph=Ib;f.messengerGraphSelectContact=Jb;f.messengerChat=Kb;f.messengerChatFromJewelThreadList=Lb;f.messengerChatInThread=Mb;f.messengerChatForward=Nb;f.messengerArchivedThreads=Ob;f.messengerArchivedThreadsArchivedThreadsFolder=Pb;f.jewel=Qb;f.jewelThreadList=Rb;f.jewelSearch=Sb;f.jewelNewMessage=Tb;f.jewelNestedFolder=Ub;f.chatheads=Vb;f.chatheadsRecentThreads=Wb;f.chatheadsOverflow=Xb;f.chatheadsNewMessage=Yb;f.sidebar=Zb;f.sidebarContactsList=$b;f.sidebarContactsSearch=ac;f.sidebarContactsGroups=bc;f.messengerCommunityMessaging=cc;f.messengerCommunityMessagingCommunityChannel=dc;f.messengerCommunityMessagingFullscreenChat=ec;f.fbPlatformLogin=fc;f.fbPlatformLoginLoginConnectWithMessenger=gc;f.contactManager=hc;f.contactManagerContactShare=ic;f.contactManagerPeopleTabContactList=jc;f.contactManagerPeopleTabContactSearch=kc;f.contactManagerIconContactList=lc;f.contactManagerIconContactSearch=mc;f.messagingInboxInBlue=nc;f.messagingInboxInBlueThreadList=oc;f.messagingInboxInBluePeoplePicker=pc;f.messagingInboxInBlueInboxIcon=qc;f.messagingInboxInBlueSwipeFromRight=rc;f.messagingInboxInBlueMibNotification=sc;f.messagingInboxInBlueActiveNow=tc;f.messagingInboxInBlueSuggestedChats=uc;f.messagingInboxInBlueChatPreviewBanner=vc;f.messagingInboxInBlueThreadViewCoreNullState=wc;f.messagingInboxInBlueMessageRequests=xc;f.messagingInboxInBlueSpam=yc;f.messagingInboxInBlueFbGroups=zc;f.messagingInboxInBlueMessengerPeekStateButton=Ac;f.messagingInboxInBlueMessengerPeekStateTooltip=Bc;f.messagingInboxInBlueBroadcastFlow=Cc;f.messagingInboxInBlueThreadViewHeader=Dc;f.messagingInboxInBluePrivacySettings=Ec;f.messagingInboxInBlueArchivedChats=Fc;f.mibNotification=Gc;f.mibNotificationPushNotification=Hc;f.mibNotificationJewelNotification=Ic;f.mibNotificationDirectPushNotif=Jc;f.mibNotificationDirectJewelNotif=Kc;f.messengerRestrictedAccounts=Lc;f.armadilloCutoverThreadLinkingMessage=Mc;f.callsTab=Nc;f.miniShopViewMenuButton=Oc;f.sharesheet=Pc;f.sharesheetGeneralizedBroadcastFlow=Qc;f.sharesheetOffPlatformSharingHScroll=Rc;f.ufi=Sc;f.ufiGeneralizedBroadcastFlow=Tc;f.chatheadClickCollapsed=Uc;f.timelineMessageButton=Vc;f.directReplyIntent=Wc;f.fbGroups=Xc;f.fbGroupsInbox=Yc;f.fbGroupsPickerExistingChat=Zc;f.fbGroupsPickerJoinChat=$c;f.fbGroupsMemberList=ad;f.devices=bd;f.devicesStella=cd;f.fbWellbeing=dd;f.fbWellbeingIncallUnblockingNotification=ed;f.messengerDeepLinking=fd;f.readOnlyCutoverThread=gd;f.readOnlyCutoverThreadArmadilloThread=hd;f.armadilloThread=id;f.armadilloThreadReadOnlyCutoverThread=jd;f.armadilloThreadExternalLink=kd;f.fbShorts=ld;f.fbShortsProfile=md;f.fbShortsReactorsListMessageButton=nd;f.sendPlugin=od;f.sendAsMessageFromNt=pd;f.messengerPublicChatsMessaging=qd;f.messengerGrowth=rd;f.messengerGrowthNotificationsEntrypoint=sd;f.friendsHome=td;f.friendsHomeActiveNow=ud;f.friendsHomeMessageNewFriends=vd;f.friendsHomePostAcceptMessaging=wd;f.externalLinkXma=xd;f.externalLinkXmaFromComposer=yd;f.externalLinkXmaFromDeepLinking=zd;f.externalLinkXmaFromShareExtension=Ad;f.fbNotifications=Bd}),null);
__d("LSThreadAttributionTypeUtil.bs",["LSMessagingThreadAttributionType.bs","LSThreadAttributionStore.bs","bs_int64"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b=d("LSThreadAttributionStore.bs").getSource({_0:b,TAG:1},c("bs_int64").to_string(a));if(b.TAG===0)return b._0;a=b._0;if(a==="communityFriendsDialog"||a==="pagesHomeFriendsDialog"||a==="mutualFriendsDialog"||a==="birthday"||a==="groupMembers"||a==="fundraiserSupportersList"||a==="memories"||a==="feedPoll"||a==="reactorList"||a==="friendsList"||a==="pagesPrivateReply")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="inboxPendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerInboxPendingRequests;else if(a==="fullscreenChat")return d("LSMessagingThreadAttributionType.bs").messengerCommunityMessagingFullscreenChat;else if(a==="sidebarGroupsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsGroups;else if(a==="jewel")return d("LSMessagingThreadAttributionType.bs").jewelThreadList;else if(a==="shop")return d("LSMessagingThreadAttributionType.bs").miniShopViewMenuButton;else if(a==="chatheadsOverflow")return d("LSMessagingThreadAttributionType.bs").chatheads;else if(a==="hovercard"||a==="feedDynamicHoverCard")return d("LSMessagingThreadAttributionType.bs").fbFeedDynamicHoverCard;else if(a==="search"||a==="messengerUniversalSearch")return d("LSMessagingThreadAttributionType.bs").messengerUniversalSearch;else if(a==="story"||a==="storyAggregatedUsers"||a==="storySeenByList")return d("LSMessagingThreadAttributionType.bs").fbStory;else if(a==="timeline"||a==="feedOrganicPost")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPost;else if(a==="pageAboutCard")return d("LSMessagingThreadAttributionType.bs").fbPageAboutCard;else if(a==="inboxInThread")return d("LSMessagingThreadAttributionType.bs").messengerInboxInThread;else if(a==="notificationInThreadReply")return d("LSMessagingThreadAttributionType.bs").messengerNotificationInThreadReply;else if(a==="archieve")return d("LSMessagingThreadAttributionType.bs").messengerArchivedThreads;else if(a==="storyViewerSheetRow")return d("LSMessagingThreadAttributionType.bs").fbStoryViewerSheetRow;else if(a==="chatheadsNewMessage")return d("LSMessagingThreadAttributionType.bs").chatheadsNewMessage;else if(a==="event")return d("LSMessagingThreadAttributionType.bs").fbEvent;else if(a==="jewelSearch")return d("LSMessagingThreadAttributionType.bs").jewelSearch;else if(a==="inboxSpam"||a==="inboxThreadList"||a==="inboxRestricted")return d("LSMessagingThreadAttributionType.bs").messengerInbox;else if(a==="jewelNewMessage")return d("LSMessagingThreadAttributionType.bs").jewelNewMessage;else if(a==="pendingRequests")return d("LSMessagingThreadAttributionType.bs").messengerPendingRequestsInboxThreadList;else if(a==="sidebarSearch")return d("LSMessagingThreadAttributionType.bs").sidebarContactsSearch;else if(a==="inboxRemainingThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRemainingThreads;else if(a==="pagesHeader")return d("LSMessagingThreadAttributionType.bs").fbPageProfileHeaderMessageButton;else if(a==="inboxRecentThreads")return d("LSMessagingThreadAttributionType.bs").messengerInboxRecentThreads;else if(a==="chatheads")return d("LSMessagingThreadAttributionType.bs").chatheadsRecentThreads;else if(a==="pageResponsivenessCard")return d("LSMessagingThreadAttributionType.bs").fbPageResponsivenessContextCard;else if(a==="inboxSearch")return d("LSMessagingThreadAttributionType.bs").messengerInboxMessageSearch;else if(a==="jewelNestedFolder")return d("LSMessagingThreadAttributionType.bs").jewelNestedFolder;else if(a==="marketplace")return d("LSMessagingThreadAttributionType.bs").marketplaceSendMessage;else if(a==="feedOrganicPostViewAndMessage")return d("LSMessagingThreadAttributionType.bs").fbFeedOrganicPostViewAndMessage;else if(a==="adsCta")return d("LSMessagingThreadAttributionType.bs").clickToMessengerAdSendMessageCta;else if(a==="chatInThread")return d("LSMessagingThreadAttributionType.bs").messengerChatInThread;else if(a==="payments")return d("LSMessagingThreadAttributionType.bs").payments;else if(a==="inboxFolder")return d("LSMessagingThreadAttributionType.bs").messengerInboxNestedFolder;else if(a==="inboxArchived")return d("LSMessagingThreadAttributionType.bs").messengerInboxArchivedThreads;else if(a==="inboxActiveContacts")return d("LSMessagingThreadAttributionType.bs").messengerInboxActiveContacts;else if(a==="sidebarContactsList")return d("LSMessagingThreadAttributionType.bs").sidebarContactsList;else return d("LSMessagingThreadAttributionType.bs").unknown}g.getSource=a}),98);
__d("LSMessagingInitiatingSource.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.facebookChat=a;f.facebookInbox=c;f.roomsSideChat=d;f.facebookFullscreen=e}),null);
__d("LSMessagingInitiatingSourceHook.bs",["LSMessagingInitiatingSource.bs","MWLSThreadDisplayContext.bs","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("bs_belt_Option").map(d("MWLSThreadDisplayContext.bs").useHook(),function(a){if(a==="Inbox")return d("LSMessagingInitiatingSource.bs").facebookInbox;else if(a==="FullscreenChat")return d("LSMessagingInitiatingSource.bs").facebookFullscreen;else if(a==="ChatTab")return d("LSMessagingInitiatingSource.bs").facebookChat;else return d("LSMessagingInitiatingSource.bs").roomsSideChat})}g.useHook=a}),98);
__d("MWLSSendMessageUtils.bs",["MWChatMessageId.bs","bs_belt_Option"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("bs_belt_Option").flatMap(a,function(a){a=a.content;switch(a.TAG){case 0:case 1:case 2:return d("MWChatMessageId.bs").getMessageId(a._0.messageID)}})}g.getReplySourceId=a}),98);
__d("LSMessageReplySourceType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.lightweightStatus=h;f.lightweightStatusReaction=i}),null);
__d("LSMessageReplySourceTypeV2.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,11],n=[0,12];f.none=a;f.message=c;f.story=d;f.forward=e;f.fbStoryShare=b;f.igStoryShare=g;f.storyBase64Encoded=h;f.lightweightStatus=i;f.closeFriends=j;f.xma=k;f.igNote=l;f.closeFriendsNoteReply=m;f.lightweightStatusReaction=n}),null);
__d("WorkChatMessageType.bs",[],(function(a,b,c,d,e,f){"use strict";a="text";b="gif";c="sticker";d="audio";e="file";f.text=a;f.gif=b;f.sticker=c;f.audio=d;f.file=e}),66);
__d("MWLSSendStickerMessage.bs",["LS.bs","LSDict","LSMailboxType.bs","LSMessageReplySourceType.bs","LSMessageReplySourceTypeV2.bs","LSOptimisticSendMessage","LSThreadAttributionTypeUtil.bs","MWLSSendMessageUtils.bs","MWPActor.bs","MWThread_DEPRECATED.bs","MessagingThreadType.bs","WorkChatMessageType.bs","bs_caml_format","bs_caml_int64","bs_caml_option","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b,e,f){var g=a!==void 0?a:"unknown",i=b!==void 0?c("bs_caml_option").valFromOption(b):void 0,j=c("useReStore")(),k=d("MWPActor.bs").useActor();return h.useCallback(function(a,b,f,h){var l=j.runInTransaction(function(e){var j=d("MWThread_DEPRECATED.bs").toThreadKey(a),l=d("LSThreadAttributionTypeUtil.bs").getSource(j,g);return c("LSOptimisticSendMessage")(k,j,d("MessagingThreadType.bs").oneToOne,d("LSMailboxType.bs").messenger,void 0,void 0,!1,c("bs_caml_format").caml_int64_of_string(b),void 0,void 0,void 0,l,void 0,void 0,c("bs_caml_option").option_get(d("MWLSSendMessageUtils.bs").getReplySourceId(f)),d("LSMessageReplySourceType.bs").message,d("LSMessageReplySourceTypeV2.bs").message,void 0,void 0,void 0,!0,!0,c("LSDict").fromObject({playable_url:void 0,playable_url_expiration_timestamp_ms:void 0,playable_url_fallback:void 0,playable_url_mime_type:void 0,preview_height:c("bs_caml_int64").zero,preview_url:h,preview_url_expiration_timestamp_ms:void 0,preview_url_fallback:void 0,preview_url_mime_type:void 0,preview_width:c("bs_caml_int64").zero}),i!==void 0?c("bs_caml_option").valFromOption(i):void 0,void 0,void 0,void 0,d("LS.bs").make(e))},"readwrite");c("promiseDone")(l,function(a){if(e!==void 0)return c("bs_curry")._3(e,d("WorkChatMessageType.bs").sticker,1,a[0])})},[j,k])}g.useSendStickerMessage=a}),98);
__d("MWChatEmojiUtil.bs",["LSHotEmojiSize.bs","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!==void 0&&!c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").small))if(c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").medium))return 56;else if(c("bs_caml").i64_eq(a,d("LSHotEmojiSize.bs").large))return 96;else return 32;else return 32}g.transformHotEmojiSizeForWeb=a}),98);
__d("MWChatForwardDialog.entrypoint",["JSResourceForInteraction","MWChatForwardDialogQuery$Parameters","MWXacGating.bs","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{forwardQueryReference:{parameters:b("MWChatForwardDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get(),suppress_xac_groups:!d("MWXacGating.bs").isGroupsEnabled()}}}}},root:c("JSResourceForInteraction")("MWChatForwardDialog.react").__setRef("MWChatForwardDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatInteractionLog.bs",["QPLUserFlow"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a,b){var d=Date.now()|0;h.set(b,d);c("QPLUserFlow").start(a,{cancelOnUnload:!0,instanceKey:d,timeoutInMs:6e4})}function b(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endFailure(a,d,{instanceKey:b});return}}function d(a,b){b=h.get(b);if(!(b==null)){c("QPLUserFlow").endSuccess(a,{instanceKey:b});return}}function e(a,b,d){b=h.get(b);if(!(b==null)){c("QPLUserFlow").addPoint(a,d,{instanceKey:b});return}}f=a;a=b;b=d;d=e;g.logStartUserFlow=f;g.logFailUserFlow=a;g.logSuccessUserFlow=b;g.logPointUserFlow=d}),98);
__d("MWLSForwardMessage.bs",["LS.bs","LSMediaUrl.bs","LSMessagingInitiatingSourceHook.bs","LSMessagingSource.bs","LSMessagingThreadAttributionType.bs","LSMessagingThreadTypeUtil.bs","LSOptimisticSendAttachmentForward","LSOptimisticSendMessageForward","MWChatInteractionLog.bs","MWChatThreadId.bs","MWLSSendStickerMessage.bs","MWLSThreadDisplayContext.bs","MWPActor.bs","MWThread_DEPRECATED.bs","ODS","Promise","ReQL.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","qpl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){a=d("MWLSThreadDisplayContext.bs").useHook();if(a!==void 0)if(a==="Inbox")return d("LSMessagingThreadAttributionType.bs").messengerInboxForward;else if(a==="ChatTab")return d("LSMessagingThreadAttributionType.bs").messengerChatForward;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow;else return d("LSMessagingThreadAttributionType.bs").messengerBroadcastFlow}function a(a){var e=c("useReStore")(),f=d("MWPActor.bs").useActor(),g=d("LSMessagingInitiatingSourceHook.bs").useHook(),j=i();a=d("LSMessagingSource.bs").useHook();var k=d("MWLSSendStickerMessage.bs").useSendStickerMessage(a,c("bs_caml_option").some(g));return h.useCallback(function(a,h){var i=d("LSMessagingThreadTypeUtil.bs").ofThreadId(a),l=d("MWThread_DEPRECATED.bs").toThreadKey(a);switch(h.TAG){case 0:case 1:return;case 2:h=h._0;var m=h.timestamp,n=h.messageId,o=h.threadId;d("ODS").bumpEntityKey(3185,"mw_forward","send");d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),n,"sending");var p=function(a){return e.runInTransaction(function(a){return c("LSOptimisticSendMessageForward")(f,l,i,o,m,n,j,g!==void 0?c("bs_caml_option").valFromOption(g):void 0,d("LS.bs").make(a))},"readwrite").then(function(a){})};c("promiseDone")(d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("messages")),{hd:o,tl:{hd:m,tl:{hd:n,tl:0}}})).then(function(f){if(f===void 0)return p();var g=f.stickerId;if(g!==void 0)return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("attachments")),{hd:o,tl:{hd:n,tl:0}})).then(function(e){e=e!==void 0?d("LSMediaUrl.bs").Attachment.previewUrl(e):void 0;c("bs_curry")._4(k,a,c("bs_int64").to_string(g),void 0,e);return b("Promise").resolve()});else return p()}),function(a){d("ODS").bumpEntityKey(3185,"mw_forward","success");return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),n)},function(a){d("ODS").bumpEntityKey(3185,"mw_forward","failure");return d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),n,"ls_error")});return}},[e,JSON.stringify(f),g,j,k])}function e(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("LSMessagingInitiatingSourceHook.bs").useHook(),g=i();return h.useMemo(function(){return function(a,h,i){d("ODS").bumpEntityKey(3185,"mw_forward","send");i!==void 0&&d("MWChatInteractionLog.bs").logPointUserFlow(c("qpl")._(25298392,"4881"),i,"sending");var j=d("LSMessagingThreadTypeUtil.bs").ofThreadId(a),k=d("MWThread_DEPRECATED.bs").toThreadKey(a);c("promiseDone")(b.runInTransaction(function(a){return c("LSOptimisticSendAttachmentForward")(e,k,j,void 0,void 0,void 0,void 0,c("bs_caml_format").caml_int64_of_string(h),g,f!==void 0?c("bs_caml_option").valFromOption(f):void 0,d("LS.bs").make(a))},"readwrite"),function(a){d("ODS").bumpEntityKey(3185,"mw_forward","success");if(i!==void 0)return d("MWChatInteractionLog.bs").logSuccessUserFlow(c("qpl")._(25298392,"4881"),i)},function(a){i!==void 0&&d("MWChatInteractionLog.bs").logFailUserFlow(c("qpl")._(25298392,"4881"),i,"ls_error"),d("ODS").bumpEntityKey(3185,"mw_forward","failure")})}},[b,JSON.stringify(e),f,g])}g.useForwardMessage=a;g.useForwardAttachment=e;g.targetIdString=d("MWChatThreadId.bs").getFBID}),98);
__d("MWV2ForwardMessage.bs",["LSDatabaseDeferred.bs","LSInt64.bs","LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MAWVerifyThreadCutover.bs","MWChatMessageId.bs","MWLSForwardMessage.bs","MWPActor.bs","MWThread_DEPRECATED.bs","Promise","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:11272","cr:1564","cr:1746","cr:4175","promiseDone","react","unrecoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){return d("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:b.threadKey,tl:0})},[a,JSON.stringify(b.threadKey)]))}function j(a,b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:b,tl:0}))}function k(a,b,e){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:b,tl:0}),d("ReQL.bs").fromTableAscending(a.table("contacts"))),function(a){return c("bs_caml").i64_neq(a[1].id,e)}))}function l(a,b){return d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("attachments")),{hd:b.threadKey,tl:{hd:b.messageId,tl:0}})},[a,JSON.stringify(b.threadKey),b.messageId]))}function a(a){var e=c("useReStore")(),f=i(e,a),g=l(e,a),m=d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType),n=d("MWPActor.bs").useActor(),o=c("bs_caml").i64_neq(n,a.senderId),p=d("MWLSForwardMessage.bs").useForwardMessage(),q=b("cr:11272")!=null?c("bs_curry")._1(b("cr:11272").useForwardMessage,e):void 0,r=b("cr:1564")!=null?c("bs_curry")._1(b("cr:1564").useForwardMessage,e):void 0,s=b("cr:1746")!=null?c("bs_curry")._1(b("cr:1746").useForwardMessage,e):void 0,t=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(a.threadKey),a.messageId,c("bs_int64").to_string(a.timestampMs)),u=b("cr:4175")!=null?c("bs_curry")._2(b("cr:4175").call,e,n):void 0,v=function(h){var i=d("MWThread_DEPRECATED.bs").toThreadKey(h),l=b("Promise").all([d("MAWThreadId.bs").isSecureThreadId(e,i),j(e,i),k(e,i,n)]).then(function(b){var e=b[2],j=b[1],k=b[0];return d("MAWVerifyThreadCutover.bs").verifyThreadCutover(d("LSDatabaseDeferred.bs").db,i).then(function(b){b=k||b;if(s!==void 0&&!b)return c("bs_curry")._6(s,h,f,a,o,g,n);if(q!==void 0)if(u!==void 0&&j!==void 0){c("bs_curry")._2(q,h,a.messageId);return c("bs_curry")._2(u,j,e)}else return c("bs_curry")._2(q,h,a.messageId);else return c("unrecoverableViolation")("We won't reach to this step, if you are in QE, you should use secure forward","messenger_web_product")})});c("promiseDone")(l)},w=function(h){var i=d("MWThread_DEPRECATED.bs").toThreadKey(h),l=b("Promise").all([d("MAWThreadId.bs").isSecureThreadId(e,i),j(e,i),k(e,i,n)]).then(function(b){var e=b[2],j=b[1],k=b[0];return d("MAWVerifyThreadCutover.bs").verifyThreadCutover(d("LSDatabaseDeferred.bs").db,i).then(function(b){b=k||b;if(r!==void 0&&b)if(u!==void 0&&j!==void 0){c("bs_curry")._5(r,h,f,a,o,g);return c("bs_curry")._2(u,j,e)}else return c("bs_curry")._5(r,h,f,a,o,g);else return c("bs_curry")._2(p,h,t)})});c("promiseDone")(l)};return h.useMemo(function(){if(m)return v;else return w},[m,v,w,d("LSInt64.bs").string(f.threadKey),a.messageId])}e=a;f=l;g.$MAWAcceptMessageRequest$requireCond=b("cr:4175");g.$MAWForwardMessage$requireCond=b("cr:11272");g.$MAWForwardMessageFromSecureThread$requireCond=b("cr:1746");g.$MAWFowardMessageFromOpenThread$requireCond=b("cr:1564");g.useForwardMessage=e;g.useAttachment=f}),98);
__d("useMWChatForward",["MWChatForwardDialog.entrypoint","MWChatInteractionLog.bs","MWChatMessageId.bs","qpl","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef;function a(a){var b=a.dropToggle,e=a.forwardDialogType,f=a.messageID,g=a.onClose,j=a.onSend;a=i(null);var k=c("useCometEntryPointDialog")(c("MWChatForwardDialog.entrypoint"),{}),l=k[0];k=h(function(){var a=d("MWChatMessageId.bs").getMessageId(f);a!=null&&d("MWChatInteractionLog.bs").logStartUserFlow(c("qpl")._(25298392,"4881"),a);l({dropToggle:b,forwardDialogType:e,messageID:f,onSend:j},g)},[j,l,f,g,e,b]);return{onClick:k,triggerRef:a}}g["default"]=a}),98);
__d("LsTargetType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").neg_one;c=b("bs_caml_int64").zero;d=b("bs_caml_int64").one;e=[0,2];b=[0,3];var g=[0,4],h=[0,5],i=[0,6],j=[0,7],k=[0,8],l=[0,9],m=[0,10],n=[0,11],o=[0,12],p=[0,13],q=[0,14],r=[0,15],s=[0,16],t=[0,17],u=[0,18],v=[0,19],w=[0,20],x=[0,21],y=[0,22],z=[0,23],A=[0,24],B=[0,25],C=[0,26],D=[0,27],E=[0,28],F=[0,29],G=[0,30],H=[0,31],I=[0,32],J=[0,33],K=[0,34],L=[0,35],M=[0,36],N=[0,37],O=[0,38],P=[0,39],Q=[0,40],R=[0,41],S=[0,42],T=[0,43],U=[0,44],V=[0,45],W=[0,46],X=[0,47],Y=[0,48],Z=[0,49],$=[0,50],aa=[0,51],ba=[0,52],ca=[0,53],da=[0,54],ea=[0,55],fa=[0,56],ga=[0,57],ha=[0,58],ia=[0,59],ja=[0,60],ka=[0,61],la=[0,62],ma=[0,63],na=[0,64],oa=[0,65],pa=[0,66],qa=[0,67],ra=[0,68],sa=[0,69],ta=[0,70],ua=[0,71],va=[0,72],wa=[0,73],xa=[0,74],ya=[0,75],za=[0,76],Aa=[0,77],Ba=[0,78],Ca=[0,79],Da=[0,80],Ea=[0,81],Fa=[0,82];f.cymkAdd=a;f.cymkViewProfile=c;f.cymkWave=d;f.inboxleft=e;f.inboxleftCall=b;f.inboxleftCamera=g;f.inboxleftRtc=h;f.inboxright=i;f.inboxrightDelete=j;f.inboxrightMore=k;f.inboxrightMute=l;f.inboxrightUnmute=m;f.instantGamePlayGame=n;f.messageRequestAccept=o;f.messageRequestDecline=p;f.messengerAdsCta=q;f.rtcCanonicalCallAgain=r;f.rtcCanonicalCallBack=s;f.rtcGroupCallJoinCall=t;f.rtcGroupJoinVideoChat=u;f.rtcScheduledCall=v;f.seeAll=w;f.reaction=x;f.reactionPlus=y;f.mention=z;f.replyMessage=A;f.replyButton=B;f.phoneNumber=C;f.attachmentVideo=D;f.attachmentImage=E;f.attachmentGif=F;f.voiceClip=G;f.tombstoneView=H;f.messageBubble=I;f.attachmentAudio=J;f.attachmentKeyframe=K;f.xmaWebUrl=L;f.xmaRtcMissedVideo=M;f.xmaRtcMissedAudio=N;f.xmaLiveLocation=O;f.xmaLocationSharing=P;f.forwardIcon=Q;f.xmaOpenNative=R;f.sticker=S;f.address=T;f.forwardButton=U;f.removeButton=V;f.removeForYouself=W;f.removeForEveryone=X;f.moreButton=Y;f.copyButton=Z;f.callPhoneNumber=$;f.copyPhoneNumber=aa;f.messageProfileIcon=ba;f.viewFacebookProfile=ca;f.viewIgProfile=da;f.gotToChat=ea;f.xmaRtcVideoEnded=fa;f.xmaRtxAudioEnded=ga;f.saveButton=ha;f.confirmRemove=ia;f.cancelRemove=ja;f.xmaShopsPdp=ka;f.inboxrightArchive=la;f.reactionIcon=ma;f.xmaContactShare=na;f.xmaCustomerInformationTemplate=oa;f.xmaRtcMissedGroupVideo=pa;f.xmaRtcMissedGroupAudio=qa;f.xmaRtcNewAudioDefault=ra;f.xmaAppointmentRequested=sa;f.xmaAppointmentConfirmed=ta;f.messengerThread=ua;f.inboxrightFavorite=va;f.inboxrightUnfavorite=wa;f.inboxrightUnbump=xa;f.longpressinboxUnbump=ya;f.longpressinboxMute=za;f.longpressinboxFavorite=Aa;f.longpressinboxUnfavorite=Ba;f.dismissMaxFavorite=Ca;f.xmaPollPreview=Da;f.xmaFbVideoMediaViewer=Ea;f.xmaMontageShare=Fa}),null);
__d("MWChatColors.bs",[],(function(a,b,c,d,e,f,g){"use strict";a={incoming:{color:"xzsf02u",$$css:!0},incomingForwarded:{color:"x12scifz",$$css:!0},outgoing:{color:"x14ctfv",$$css:!0},outgoingForwarded:{color:"xkxfvhb",$$css:!0},replyToOriginal:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0}};b={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginEnd:"x11i5rnm",marginStart:"x1mh8g0r",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};c={styles:b};g.styles=a;g.MessageActions=c}),98);
__d("LsActionCategory.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9];f.unknown=a;f.impression=c;f.click=d;f.longClick=e;f.swipe=b;f.scroll=g;f.reactionPlus=h;f.doubleClick=i;f.lock=j;f.raiseDevice=k}),null);
__d("UseMWChatForward.re",["useMWChatForward"],(function(a,b,c,d,e,f){a=b("useMWChatForward");f.useMWChatForwardTypeChecked=a;c=a;f.useMWChatForward=c}),null);
__d("MWChatForwardAction.bs",["CometPressable.react","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","ODS","UseMWChatForward.re","bs_caml_option","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{opacity:"x1hc1fzr",$$css:!0}};function j(a){}var k=h.jsx("svg",{height:"22px",viewBox:"0 0 36 36",width:"22px",children:h.jsxs("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1",children:[h.jsx("polygon",{points:"0 36 36 36 36 0 0 0"}),h.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),d:"M22.001,11.0081937 L19,11.0081937 L19,23.007676 C19,23.5599911 18.5525,24.0073413 18,24.0073413 C17.448,24.0073413 17,23.5599911 17,23.007676 L17,11.0081937 L13.998,11.0081937 C13.199,11.0081937 12.7225,10.1169921 13.166,9.45171483 L17.1675,3.44572576 C17.5635,2.85142475 18.436,2.85142475 18.832,3.44572576 L22.8335,9.45171483 C23.2765,10.1169921 22.8,11.0081937 22.001,11.0081937 M24,31 L12,31 C9.791,31 8,29.2105991 8,27.0028383 L8,18.0103492 C8,15.8030883 9.791,14.0131875 12,14.0131875 L14,14.0131875 C14.5525,14.0131875 15,14.4610376 15,15.0128528 C15,15.5646681 14.5525,16.0120183 14,16.0120183 L12,16.0120183 C10.8955,16.0120183 10,16.9067187 10,18.0103492 L10,27.0028383 C10,28.1064688 10.8955,29.0011693 12,29.0011693 L24,29.0011693 C25.1045,29.0011693 26,28.1064688 26,27.0028383 L26,18.0103492 C26,16.9067187 25.1045,16.0120183 24,16.0120183 L22,16.0120183 C21.448,16.0120183 21,15.5646681 21,15.0128528 C21,14.4610376 21.448,14.0131875 22,14.0131875 L24,14.0131875 C26.2095,14.0131875 28,15.8030883 28,18.0103492 L28,27.0028383 C28,29.2105991 26.2095,31 24,31"})]})});function l(a,b){d("ODS").bumpEntityKey(3185,"mwchat_actions","forward");d("MWLSLogMessageClick.bs").logMessageClicked(a,d("LsTargetType.bs").forwardIcon);if(b!==void 0)return c("bs_curry")._1(b.onClick)}function a(a){var b=a.label,e=a.messageID,f=a.onForward,g=a.forwardDialogType;a=a.dropToggle;g=g!==void 0?g:"open_";a=a!==void 0?a:!1;a=d("UseMWChatForward.re").useMWChatForward({dropToggle:a,forwardDialogType:g,messageID:e,onClose:j,onSend:c("bs_curry").__1(f)});var m=a==null?void 0:c("bs_caml_option").some(a);return h.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:b,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:h.jsx(c("CometPressable.react"),{"aria-label":b,expanding:!0,onPress:function(a){return l(e,m)},overlayDisabled:!0,role:c("gkx")("1224637")?"menuitem":"button",testid:void 0,children:h.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon,i.icon),children:k})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.sharedStyles=d("MWChatColors.bs").MessageActions.styles;g.noop=j;g.icon=k;g.onOpenForwardDialog=l;g.make=b}),98);
__d("MWV2MessageRowActionsContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b={current:function(a){}};c={current:function(a){}};e={current:function(a){}};f={current:function(a){}};d={forwardMessage:b,openReactionsMenu:c,removeMessage:e,replyToMessage:f};var i=h.createContext(d);function a(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}b={make:a};g.emptyValue=d;g.context=i;g.Provider=b}),98);
__d("useCometRouterIsChatEntity",["getCometEntityKey","recoverableViolation","useCometRouterState"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useCometRouterState")();if(a==null){c("recoverableViolation")("Router state is not defined in `useCometRouterIsChatEntity`","work_comet_core");return!1}var b=c("getCometEntityKey")(a.main.route);if(b==null){c("recoverableViolation")("Entity keys are not defined for "+a.main.route.url,"work_comet_core");return!1}a=b.entity_type==="chat";b=b.section==="WORK_CHAT";return a||b}g["default"]=a}),98);
__d("MWChatReactionsAction.bs",["fbt","CometKeys","CometLazyPopoverTrigger.react","CometPopoverLoadingState.react","CometPressable.react","JSResource","LsTargetType.bs","MWChatColors.bs","MWLSLogMessageClick.bs","MWTooltip.react","MWV2MessageRowActionsContext.bs","ODS","bs_belt_Option","bs_curry","gkx","react","stylex","useCometRouterIsChatEntity"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b={add:"ADD_REACTION",remove:"REMOVE_REACTION"};var j={popoverLoading:{minHeight:"x1wiwyrm",minWidth:"x1q6reyq",$$css:!0}};function k(a){}var l=i.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),cx:"11",cy:"11",r:"7",strokeWidth:"1.5px"}),i.jsx("path",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgStroke),d:"M8,13Q11,16,14,13",strokeWidth:"1.5px"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"9",cy:"10",r:"1.2"}),i.jsx("circle",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.svgFill),cx:"13",cy:"10",r:"1.2"})]});e={key:c("CometKeys").UP};var m={key:c("CometKeys").DOWN};function a(a){var b=a.align,e=a.closeActionsMenu,f=a.hasReactionsV2,g=a.isBroadcastThread,m=a.messageID,n=a.onVisibilityChange,o=a.selectedReaction,p=a.sendReaction,q=a.isSecure;a=a.disableCustomReactions;q=q!==void 0?q:!1;a=a!==void 0?a:!1;var r=h._("__JHASH__czR8vxcW0mN__JHASH__"),s=c("gkx")("1224637")&&c("useCometRouterIsChatEntity")(),t=i.useState(function(){return!1}),u=t[0],v=t[1];t=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var w=t.openReactionsMenu,x=i.useCallback(function(a){if(c("gkx")("3417")){w.current=k;return}},[w]);i.useEffect(function(){return x},[x]);t=i.useCallback(function(a){var b=o!==void 0&&!(g&&f)&&o===a;c("bs_curry")._2(p,a,b);b||d("MWLSLogMessageClick.bs").logMessageClicked(m,d("LsTargetType.bs").reaction);return c("bs_curry")._1(e)},[o,g,f,p,e,m]);var y=i.useCallback(function(a){a||c("bs_curry")._1(v,function(a){return!1});return c("bs_curry")._1(n,a)},[v,n]);return i.jsx(c("CometLazyPopoverTrigger.react"),{align:function(){switch(c("bs_belt_Option").getWithDefault(b,"middle")){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),fallback:i.jsx(c("CometPopoverLoadingState.react"),{withArrow:!0,xstyle:[j.popoverLoading]}),onVisibilityChange:y,popoverProps:{closeActionsMenu:e,disableCustomReactions:a,isBroadcastThread:g,isSecure:q,messageID:m,onClose:k,onSelect:t,selectedReaction:o,setShowEmojiPicker:c("bs_curry").__1(v),showEmojiPicker:u},popoverResource:s&&c("gkx")("4433")?c("JSResource")("ChatGeminiAnimatedReactionsMenu").__setRef("MWChatReactionsAction.bs"):c("JSResource")("MWChatReactionsMenu").__setRef("MWChatReactionsAction.bs"),popoverType:u?"dialog":"menu",position:function(){switch(u?"below":"above"){case"above":return"above";case"below":return"below";case"start":return"start";case"end_":return"end"}}(),children:function(a,b,e,f,g,h,j){e=function(a){c("bs_curry")._1(b),d("MWLSLogMessageClick.bs").logMessageClicked(m,d("LsTargetType.bs").reactionIcon),d("ODS").bumpEntityKey(3185,"mwchat_actions","reaction")};w.current=e;return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:r,children:i.jsx(c("CometPressable.react"),{"aria-label":r,expanding:!0,onHoverIn:c("bs_curry").__1(f),onHoverOut:function(a){return c("bs_curry")._1(g)},onPress:e,onPressIn:c("bs_curry").__1(h),overlayDisabled:!0,ref:a,role:"button",testid:void 0,children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.action),children:i.jsx("div",{className:c("stylex")(d("MWChatColors.bs").MessageActions.styles.icon),children:l})})})})}})}a.displayName=a.name+" [from "+f.id+"]";f=a;g.Action=b;g.styles=d("MWChatColors.bs").MessageActions.styles;g.styles2=j;g.noop=k;g.reactionIcon=l;g.keyUp=e;g.keyDown=m;g.make=f}),98);
__d("MWMessageCellKeyCommands.bs",["CometComponentWithKeyCommands.react","MWV2MessageRowActionsContext.bs","bs_curry","cometGetKeyCommandConfig","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var b=h.useContext(d("MWV2MessageRowActionsContext.bs").context),e=b.openReactionsMenu,f=h.useCallback(function(a){return c("bs_curry")._1(e.current)},[e]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var g=b.replyToMessage,i=h.useCallback(function(a){return c("bs_curry")._1(g.current)},[g]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var j=b.forwardMessage,k=h.useCallback(function(a){return c("bs_curry")._1(j.current)},[j]);b=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=b.removeMessage,m=h.useCallback(function(a){return c("bs_curry")._1(l.current)},[l]);b=h.useMemo(function(){var a=[],b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","likeMessage",f);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","replyToMessage",i);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","forwardMessage",k);a.push(b);b=d("cometGetKeyCommandConfig").getCometAndGeminiKeyCommandConfig("chats","removeMessage",m);a.push(b);return a},[f,i,k,m]);return h.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:b,xstyle:!1,children:a})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.keyCommands=e}),98);
__d("LSMessageContentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];d=[0,4];e=[0,8];b=[0,16];var g=[0,32],h=[0,64],i=[0,128],j=[0,256],k=[0,512],l=[0,1024],m=[0,2048],n=[0,4096],o=[0,8192],p=[0,16384],q=[0,32768],r=[0,65536],s=[0,131072],t=[0,262144];f.text=a;f.mediaPreview=c;f.audioClip=d;f.xmaFallback=e;f.lwaWave=b;f.admin=g;f.fileAttachment=h;f.glyph=i;f.tombstone=j;f.storyReply=k;f.singleXma=l;f.hscrollXma=m;f.sticker=n;f.forwardIndicator=o;f.animatedImage=p;f.nullState=q;f.encryptionPlaceholder=r;f.futureproofPlaceholder=s;f.unavailablePlaceholder=t}),null);
__d("MWPBaseMessageListRowActions.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.children;a=a.outgoing;return h.jsx("div",{className:"x6s0dn4 x78zum5 x1ll7btr"+(a?" x15zctf7":" x1q0g3np"),role:"none",children:b})}i.displayName=i.name+" [from "+f.id+"]";e={make:i};function a(a){a=a.children;return h.jsx("div",{children:a})}a.displayName=a.name+" [from "+f.id+"]";d={make:a};var j={incoming:{paddingStart:"x1t2a60a",$$css:!0},moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},outgoing:{paddingEnd:"x1mpkggp",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1ll7btr",zIndex:"x1n327nk",$$css:!0}};function b(a){var b=a.children,d=a.hasReactions,e=a.outgoing;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(j.root,d?j.moveUpToAccountForReactions:!1,e?j.outgoing:j.incoming),children:h.jsx(i,{outgoing:e,children:b})})}b.displayName=b.name+" [from "+f.id+"]";a={make:b,styles:j};g.ActionsList=e;g.ActionsListItem=d;g.Container=a}),98);
__d("MDSContextualMenuIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsxs("svg",{height:"22px",viewBox:"0 0 22 22",width:"22px",children:[h.jsx("circle",{cx:"11",cy:"6",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"11",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"}),h.jsx("circle",{cx:"11",cy:"16",fill:"var(--placeholder-icon)",r:"2",strokeWidth:"1px"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPCanRemoveMessageGlobally.bs",["LSMessageThreadUnsendabilityStatus.bs","bs_belt_Option","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=c("bs_belt_Option").mapWithDefault(a.cannotUnsendReason,!0,function(a){return c("bs_caml").i64_eq(a,d("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});b=c("bs_belt_Option").mapWithDefault(b.cannotUnsendReason,!0,function(a){return c("bs_caml").i64_eq(a,d("LSMessageThreadUnsendabilityStatus.bs").canUnsend)});if(a)return b;else return!1}b=a;g.make=b}),98);
__d("MWV2LogMessageClick.bs",["LSDatabaseDeferred.bs","LSMessagingThreadTypeUtil.bs","LsActionCategory.bs","Promise","ReQL.bs","UserAgentData","bs_caml_int64","bs_caml_option","bs_int64","promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("LsMessageClickFalcoEvent").__setRef("MWV2LogMessageClick.bs");function a(a,e,f,g){var i=f!==void 0?c("bs_caml_option").valFromOption(f):void 0;g=d("LSDatabaseDeferred.bs").db.then(function(f){var g=a.threadKey;f=d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("threads")),{hd:g,tl:0})).then(function(f){f!==void 0&&!d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType)&&h.onReady(function(b){b.log(function(){var b={};i!==void 0&&(b.action=i);b.browserName=c("UserAgentData").browserName;return{click:{category:c("bs_caml_int64").to_int32(d("LsActionCategory.bs").click)},click_target:{type:c("bs_caml_int64").to_int32(e)},extra:JSON.stringify(b),message:{id:a.messageId,sender_id:void 0,sent_time:c("bs_caml_int64").to_float(a.timestampMs)},thread:{id:c("bs_int64").to_string(a.threadKey),key:void 0,type:void 0},xma:void 0}})});return b("Promise").resolve()});c("promiseDone")(f);return b("Promise").resolve()});c("promiseDone")(g)}e=h;f=a;g.logger=e;g.log=f}),98);
__d("MWV2MessageRowIsRowFocusedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){}function b(a){}e={isDialogOpened:!1,setFocused:a,setIsDialogOpened:b};var i=h.createContext(e);function c(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}f={make:c};g.emptyValue=e;g.context=i;g.Provider=f}),98);
__d("MWV2ContextualActionsButton.bs",["fbt","CometDeferredPopoverTrigger.react","CometPressable.react","I64","JSResourceForInteraction","LSCommunityBitOffset.bs","LSCommunityCapabilityBitOffset.re","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsTargetType.bs","MAWGating","MDSContextualMenuIcon.react","MWCMThreadTypes.bs","MWCMUseFolder.re","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWPCanRemoveMessageGlobally.bs","MWTooltip.react","MWV2LogMessageClick.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","bs_belt_Option","gkx","qex","react","requireDeferred","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=c("react"),j=c("requireDeferred")("MWV2ContextualActionsMenuDeferred.react").__setRef("MWV2ContextualActionsButton.bs");function k(a){}function a(a){var b=a.canRemoveMessageGlobally,e=a.closeActionsMenu,f=a.extraActions,g=a.message,l=a.setMoreMenuOpen,m=a.showForwardActionInContextualMenu,n=a.showReplyActionInContextualMenu,o=a.thread,p=c("useReStore")(),q=h._("__JHASH__I1DdCdLzOkz__JHASH__");a=c("MWCMUseFolder.re").useFolder(o);var r=d("MWPCanRemoveMessageGlobally.bs").make(o,g),s=d("MWCMThreadTypes.bs").isJoinedCMThread(o.threadType),t=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(s)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(p.table("participants")),{hd:o.threadKey,tl:{hd:g.senderId,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[p,JSON.stringify(o.threadKey)])),u=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(s)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(p.table("contacts")),{hd:g.senderId,tl:0});else return d("SortedAsyncIterable.bs").empty()},[JSON.stringify(g.senderId),p])),v=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").adminRecallMessage,o);a=a!=null?d("LSCommunityBitOffset.bs").has(d("LSCommunityCapabilityBitOffset.re").adminActions,a):!1;var w=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").reportMessageToAdmin,o),x=d("LSMessagingThreadTypeUtil.bs").isSecure(o.threadType),y=(!x||d("MAWGating").isFeatureLimitEnabled())&&d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(),z=!y&&c("gkx")("1840885"),A=d("MWPActor.bs").useActor();u=u!==void 0?c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").isCommunityBotPage,u),!1):!1;var B=c("qex")._("898")===!0&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").pinnedMessagesV2,o)&&!g.isUnsent,C=g.isUnsent;C=s?C?!1:r?!a&&u?!1:!0:v:x?!y&&(d("MAWGating").isUnsendGlobalEnabled()&&d("I64").equal(g.senderId,A)&&!g.isUnsent||d("MAWGating").isUnsendLocallyEnabled()):z;r=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWV2RemoveMessageDialog").__setRef("MWV2ContextualActionsButton.bs"));var D=r[0];a=t!==void 0?c("bs_belt_Option").getWithDefault(t.isAdmin,!1):!1;v=g.unsentTimestampMs;x=v!==void 0;y=d("MWCMThreadTypes.bs").isJoinedCMThread(o.threadType)&&w&&!a&&!d("I64").equal(A,g.senderId)&&!x&&!u;z=d("MWCMThreadTypes.bs").isJoinedCMThread(o.threadType)&&!d("I64").equal(A,g.senderId)&&!x;r=i.useCallback(function(a){a={message:g,onClose:k,thread:o};return D(a,k)},[g,D]);t=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var E=t.removeMessage;C?E.current=r:E.current=k;var F=i.useCallback(function(a){if(c("gkx")("3417")){E.current=k;return}},[E]);i.useEffect(function(){return F},[F]);v=i.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context);if(!(m||n||B||C||z||f!=null))return null;var G=v.setFocused;return i.jsx(c("CometDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:function(a){l(function(){return a});return G(function(){return a})},popoverProps:{canRemoveMessageGlobally:b,closeActionsMenu:e,extraActions:f,message:g,showForwardActionInContextualMenu:m,showPinMessageActionInContextualMenu:B,showReplyActionInContextualMenu:n,showReportCommunityMessageToAdmin:y,showReportCommunityMessageToFacebook:z,showUnsendInContextualMenu:C},popoverResource:j,popoverType:"menu",position:"above",children:function(a,b){var e=function(a){b();return d("MWV2LogMessageClick.bs").log(g,d("LsTargetType.bs").moreButton)};return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:q,children:i.jsx(c("CometPressable.react"),{"aria-label":q,expanding:!0,onPress:e,overlayDisabled:!0,ref:a,testid:void 0,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSContextualMenuIcon.react"),{})})})})})}})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=j;f=k;a=b;g.contextualActionsMenuDeferred=e;g.noop=f;g.make=a}),98);
__d("MWV2ForwardMessageButton.bs",["fbt","LSBitFlag.bs","LSMessageContentType.bs","LSMessagingThreadTypeUtil.bs","MAWGating","MWChatForwardAction.bs","MWChatMessageId.bs","MWV2ForwardMessage.bs","ReQL.bs","ReQLSubscription.bs","bs_caml_format","bs_caml_obj","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){var e=c("useReStore")();return d("ReQLSubscription.bs").useFirstExn(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:b.threadKey,tl:0})},[e,JSON.stringify(b.threadKey)]))}function a(a){a=a.message;var b=c("useReStore")();b=j(b,a);var e=d("MAWGating").isForwardEnabled()&&d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType),f=d("MAWGating").isCrossForwardEnabled();e=e?f?"cross_transport":"secure":f?"cross_transport":"open_";f=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(a.threadKey),a.messageId,c("bs_int64").to_string(a.timestampMs));var g=d("MWV2ForwardMessage.bs").useForwardMessage(a);b=!d("LSMessagingThreadTypeUtil.bs").isSecure(b.threadType);a=d("LSBitFlag.bs").has(d("LSMessageContentType.bs").text,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").animatedImage,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").mediaPreview,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").audioClip,a.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").storyReply,a.displayedContentTypes)||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239263222822"))||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239343222814"))||c("bs_caml_obj").caml_equal(a.stickerId,c("bs_caml_format").caml_int64_of_string("369239383222810"));b=b&&!a;return i.jsx(d("MWChatForwardAction.bs").make,{dropToggle:b,forwardDialogType:e,label:h._("__JHASH__GvPr2MwluxY__JHASH__"),messageID:f,onForward:g})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2MessageReactionButton.react",["I64","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.re","MAWGating","MAWPSendOrRemoveReaction.bs","MWCMThreadTypes.bs","MWChatMessageId.bs","MWChatReactionsAction.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function k(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions")).getKeyRange(a.threadKey,a.messageId,e)},[e,b,a.messageId,a.threadKey]);if(f!==void 0)return f.reaction}function l(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reactions_v2")).getKeyRange(a.threadKey,a.messageId).filter(function(a){return a.viewerIsReactor})},[b,a.messageId,a.threadKey]);return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("reaction_v2_types")).filter(function(a){return e?d("I64").equal(a.reactionFbid,e.reactionFbid):!1}).map(function(a){return a.reactionLiteral})},[b,e])}function a(a){var b=a.closeActionsMenu,e=a.message,f=a.setReactionsMenuOpen;a=a.thread;var g=k(e),m=l(e),n=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),o=d("MAWPSendOrRemoveReaction.bs").useSendOrRemoveReaction(e,n,"reaction_tray"),p=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();p=(!n||d("MAWGating").isFeatureLimitEnabled())&&p;var q=d("I64").to_string(a.threadKey),r=d("I64").to_string(e.timestampMs),s=j(function(){return d("MWChatMessageId.bs").makeSent(q,e.messageId,r)},[q,e.messageId,r]),t=i(function(a,b){return o(e.messageId,b?void 0:a,b?"remove_reaction":"reaction")},[o,e.messageId]),u=i(function(a){return f(function(){return a})},[f]),v=d("MWCMThreadTypes.bs").isBroadcastThread(a.threadType);a=c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(c("LSThreadCapabilityBitOffset.re").reactionsV2,a);var w=a&&v;if(p)return null;else return h.jsx(d("MWChatReactionsAction.bs").make,{closeActionsMenu:b,disableCustomReactions:w,hasReactionsV2:a,isBroadcastThread:v,isSecure:n,messageID:s,onVisibilityChange:u,selectedReaction:a&&v?m:g,sendReaction:t})}g["default"]=a}),98);
__d("MWV2OneToOneThreadBlockedContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.createContext(!1);function a(a){return h.useContext(i)}function b(a){var b=a.blocked;a=a.children;return h.createElement(i.Provider,{children:a,value:b})}c=b;g.context=i;g.useIsBlocked=a;g.make=c}),98);
__d("MDSReplyActionSvgIcon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("svg",{height:"22px",viewBox:"1 1 21 21",width:"22px",children:h.jsx("g",{className:"x148u3ch",fillRule:"evenodd",strokeWidth:"1",children:h.jsx("path",{d:"M10.8932368,14.7625445 C10.8932368,15.535432 10.0849567,15.996442 9.48116675,15.5677995 L4.03193175,11.696707 C3.49257425,11.313742 3.49287675,10.4694645 4.03193175,10.0864995 L9.48116675,6.2157095 C10.0849567,5.7867645 10.8932368,6.248077 10.8932368,7.020662 L10.8938418,9.0755445 C15.2129368,9.0755445 18.1517243,11.027577 18.1523293,15.7226795 C18.1523293,16.0820495 17.9036743,16.3349395 17.5273643,16.3349395 C17.2487618,16.3349395 17.0164418,16.1746145 16.8527893,15.680027 C16.1588543,13.584307 14.1063918,12.7049395 10.8938418,12.7049395 L10.8932368,14.7625445 Z"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2MessageListIsRowModalContext.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){}var i=h.createContext(a);function b(a){var b=a.children;a=a.value;return h.createElement(i.Provider,{children:b,value:a})}c={make:b};e=a;g.context=i;g.Provider=c;g.emptyValue=e}),98);
__d("MWV2ReplyButton.bs",["fbt","CometPressable.react","MDSReplyActionSvgIcon.react","MWPReplyContext.bs","MWTooltip.react","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","bs_curry","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){}function a(a){var b=a.message;a=h._("__JHASH__xFCj85w6vra__JHASH__");var e=i.useContext(d("MWPReplyContext.bs").context),f=e.setReply,g=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),k=function(a){c("bs_curry")._2(f,{messageId:b.messageId,offlineThreadingId:b.offlineThreadingId,sendStatusV2:b.sendStatusV2,timestampMs:b.timestampMs},b.threadKey);return c("bs_curry")._1(g,function(a){return""})};e=i.useContext(d("MWV2MessageRowActionsContext.bs").context);var l=e.replyToMessage;l.current=k;var m=i.useCallback(function(a){if(c("gkx")("3417")){l.current=j;return}},[l]);i.useEffect(function(){return m},[m]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:a,children:i.jsx("div",{className:"xc26acl x6s0dn4 x14yjl9h xudhj91 x18nykt9 xww2gxu x1ypdohk x78zum5 x2lah0s xxk0z11 xl56j7k x11i5rnm x1mh8g0r x1n2onr6 x2b8uid xvy4d1p x15vn3sj",children:i.jsx(c("CometPressable.react"),{"aria-label":a,expanding:!0,onPress:function(a){return k()},overlayDisabled:!0,testid:void 0,children:i.jsx("div",{className:"x17rw0jw x197sbye x17z2i9w x4gyw5p x1o7uuvo",children:i.jsx(c("MDSReplyActionSvgIcon.react"),{})})})})})}a.displayName=a.name+" [from "+f.id+"]";b=24;e=a;f=b;a=j;b=e;g.minMessageHeight=f;g.noop=a;g.make=b}),98);
__d("MWV2UseMessageForwardAction.bs",["LSBitFlag.bs","LSMessageContentType.bs","LSMessagingThreadTypeUtil.bs","LsTargetType.bs","MAWGating","MWChatMessageId.bs","MWV2ForwardMessage.bs","MWV2LogMessageClick.bs","MWV2MessageRowIsRowFocusedContext.bs","UseMWChatForward.re","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var e=c("gkx")("1224637"),f=!e&&d("MAWGating").isForwardEnabled()&&d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);e=!e&&d("MAWGating").isCrossForwardEnabled();f=f?e?"cross_transport":"secure":e?"cross_transport":"open_";e=d("MWChatMessageId.bs").makeSent(c("bs_int64").to_string(b.threadKey),b.messageId,c("bs_int64").to_string(b.timestampMs));var g=d("MWV2ForwardMessage.bs").useForwardMessage(b),i=h.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context),j=i.setIsDialogOpened,k=i.setFocused;i=!d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType);a=d("LSBitFlag.bs").has(d("LSMessageContentType.bs").text,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").animatedImage,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").mediaPreview,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").audioClip,b.displayedContentTypes)||d("LSBitFlag.bs").has(d("LSMessageContentType.bs").storyReply,b.displayedContentTypes)||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239263222822"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239343222814"))||c("bs_caml_obj").caml_equal(b.stickerId,c("bs_caml_format").caml_int64_of_string("369239383222810"));var l=d("UseMWChatForward.re").useMWChatForward({dropToggle:i&&!a,forwardDialogType:f,messageID:e,onClose:function(a){c("bs_curry")._1(j,function(a){return!1});return c("bs_curry")._1(k,function(a){return!0})},onSend:g});return function(a){d("MWV2LogMessageClick.bs").log(b,d("LsTargetType.bs").forwardButton);if(!(l==null)){c("bs_curry")._1(j,function(a){return!0});return c("bs_curry")._1(l.onClick)}}}b=a;g.useHook=b}),98);
__d("MessagingAttachmentType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];b=[0,4];var g=[0,5],h=[0,6],i=[0,7],j=[0,8],k=[0,9],l=[0,10],m=[0,12];f.none=a;f.sticker=c;f.image=d;f.animatedImage=e;f.video=b;f.audio=g;f.file=h;f.xma=i;f.ephemeralImage=j;f.ephemeralVideo=k;f.selfieSticker=l;f.soundBite=m}),null);
__d("MWMessageRowActions.bs",["LSAuthorityLevel.bs","LSBitFlag.bs","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageContentType.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MAWMsg.bs","MWCMIsAnyCMThread","MWLSFeatureLimitedStatus.bs","MWPBaseMessageListRowActions.bs","MWTooltipGroup.react","MWV2ContextualActionsButton.bs","MWV2ForwardMessageButton.bs","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.bs","MWV2OneToOneThreadBlockedContext.bs","MWV2ReplyButton.bs","MWV2UseMessageForwardAction.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","cr:10871","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){}function j(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useFirstExn(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("threads")),{hd:a.threadKey,tl:0})},[b,JSON.stringify(a.threadKey)]))}var k=b("cr:10871")==null?void 0:c("bs_caml_option").some(b("cr:10871"));function l(a){var e=a.alwaysShowForwardForMediaMessages,f=a.canRemoveMessageGlobally,g=a.closeActionsMenu,l=a.interactedWith,m=a.message,n=a.outgoing,o=a.setMoreMenuOpen,p=a.setReactionsMenuOpen;a=a.extraActions;a=a!==void 0?c("bs_caml_option").valFromOption(a):null;var q=j(m),r=d("MWV2OneToOneThreadBlockedContext.bs").useIsBlocked(),s=c("useReStore")(),t=q.threadKey,u=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(s.table("contacts")),{hd:t,tl:0})},[JSON.stringify(t),s]));u=u!==void 0?c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").restrictPlaced,u),!1):!1;var v=m.ephemeralDurationInSec;v=v!==void 0?c("bs_caml").i64_gt(v,c("bs_caml_int64").zero):!1;var w=d("LSMessagingThreadTypeUtil.bs").isSecure(q.threadType),x=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!w||d("MAWGating").isFeatureLimitEnabled()),y=c("bs_caml").i64_eq(m.displayedContentTypes,d("LSMessageContentType.bs").sticker),z=c("bs_caml").i64_eq(m.displayedContentTypes,d("LSMessageContentType.bs").singleXma),A=c("bs_caml").i64_neq(m.displayedContentTypes,d("LSMessageContentType.bs").text),B=c("MWCMIsAnyCMThread")(q.threadType)&&c("bs_caml").i64_eq(m.sendStatusV2,d("LSMessageSendStatusV2.bs").nonRetriableError),C=d("ReQLSuspense").useFirst(function(){if(A)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(s.table("attachments")),{hd:m.threadKey,tl:{hd:m.messageId,tl:0}});else return d("SortedAsyncIterable.bs").empty()},[s,m.messageId,A]);v=(w?d("MAWGating").isForwardEnabled()&&!v&&!y&&!z:!0)&&c("gkx")("1844772")&&!r&&!u&&!x&&!m.isUnsent&&!B&&!d("MAWMsg.bs").isPlaceholder(m)&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").messageForward,q)&&c("bs_caml").i64_gt(m.authorityLevel,d("LSAuthorityLevel.bs").optimistic)&&(C!==void 0&&c("bs_caml").i64_eq(C.attachmentType,d("MessagingAttachmentType.bs").xma)&&(C.attachmentCta1Id!==void 0||C.attachmentCta2Id!==void 0||C.attachmentCta3Id!==void 0||C.defaultCtaId!==void 0)?C.isSharable:!0);y=!r&&!u&&!B&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").messageReply,q)&&!m.isUnsent;z=c("gkx")("8026")&&d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").reactionsV2,q);x=!r&&!u&&!m.isUnsent&&!B&&(d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").reactions,q)||z)&&(w?d("MAWGating").isReactionsEnabled():!0);C=y&&!e&&l;r=e&&v;u=l&&x;B=w&&c("bs_caml").i64_eq(m.sendStatusV2,d("LSMessageSendStatusV2.bs").retriableError);z=d("MWV2UseMessageForwardAction.bs").useHook(q,m);e=h.useContext(d("MWV2MessageRowActionsContext.bs").context);var D=e.forwardMessage;v&&(D.current=z);var E=h.useCallback(function(a){if(c("gkx")("3417")){D.current=i;return}},[D]);h.useEffect(function(){return E},[E]);return h.jsxs(d("MWPBaseMessageListRowActions.bs").ActionsList.make,{outgoing:n,children:[r?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ForwardMessageButton.bs").make,{message:m})}):null,u?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(c("MWV2MessageReactionButton.react"),{closeActionsMenu:g,message:m,setReactionsMenuOpen:p,thread:q})}):null,!(b("cr:10871")==null)&&B?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(k.make,{message:m})}):null,C?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ReplyButton.bs").make,{message:m})}):null,l?h.jsx(d("MWPBaseMessageListRowActions.bs").ActionsListItem.make,{children:h.jsx(d("MWV2ContextualActionsButton.bs").make,{canRemoveMessageGlobally:f,closeActionsMenu:g,extraActions:a,message:m,setMoreMenuOpen:o,showForwardActionInContextualMenu:!r&&v,showReplyActionInContextualMenu:!C&&y,thread:q})}):null]})}l.displayName=l.name+" [from "+f.id+"]";e={make:l};function a(a){var b=a.focused,e=a.hasReactions,f=a.hovered,g=a.message,j=a.outgoing,k=a.ariaHidden,m=a.canRemoveMessageGlobally;a=a.extraActions;k=k!==void 0?k:!1;m=m!==void 0?m:!0;a=a!==void 0?c("bs_caml_option").valFromOption(a):null;var n=h.useState(function(){return!1}),o=h.useState(function(){return!1}),p=d("LSBitFlag.bs").has(d("LSMessageContentType.bs").mediaPreview,g.displayedContentTypes);f=f||b||o[0]||n[0];return h.jsx(c("MWTooltipGroup.react"),{children:h.jsx(d("MWPBaseMessageListRowActions.bs").Container.make,{ariaHidden:k,hasReactions:e,outgoing:j,children:f||p?h.jsx(l,{alwaysShowForwardForMediaMessages:p,canRemoveMessageGlobally:m,closeActionsMenu:i,extraActions:a,interactedWith:f,message:g,outgoing:j,setMoreMenuOpen:o[1],setReactionsMenuOpen:n[1]}):null})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=i;e=e;f=f;g.$MAWMessageRetryButton$requireCond=b("cr:10871");g.noop=a;g.ActionsList=e;g.make=f}),98);
__d("MWPTransparentMessageBubble.bs",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=36;e=b+6|0;d=e+14|0;var i={bubble:{maxWidth:"x1okitfd",overflowX:"x6ikm8r",overflowY:"x10wlt62",overflowWrap:"x1mzt3pk",paddingTop:"xm7lytj",paddingEnd:"xn6708d",paddingBottom:"xwib8y2",paddingStart:"x1ye3gou",position:"x1n2onr6",wordBreak:"x13faqbe",":after_borderTopColor":"xzackxk",":after_borderEndColor":"x1vvs6jl",":after_borderBottomColor":"x1p8yz0e",":after_borderStartColor":"x1e72984",":after_borderTopStartRadius":"x1qxsuse",":after_borderTopEndRadius":"x1pwr4jm",":after_borderBottomEndRadius":"xgt0i0e",":after_borderBottomStartRadius":"xhiudvi",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"x1pdxsal",":after_borderEndWidth":"xgyc039",":after_borderBottomWidth":"xza5l1d",":after_borderStartWidth":"xcavrb8",":after_bottom":"x1p4c0ny",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x14rr3af",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"x1fefmpr",":after_top":"x1a3valx",$$css:!0},incoming_connect_bot:{":after_borderBottomStartRadius":"x1fyu3th",$$css:!0},incoming_connect_top:{":after_borderTopStartRadius":"xe80118",$$css:!0},outgoing_connect_bot:{":after_borderBottomEndRadius":"x7yvbyb",$$css:!0},outgoing_connect_top:{":after_borderTopEndRadius":"x1chp5k1",$$css:!0},precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",$$css:!0}};function a(a){var b=a.children,d=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx("div",{className:c("stylex")(i.bubble,e?f?i.outgoing_connect_top:i.incoming_connect_top:!1,!a&&d?f?i.outgoing_connect_bot:i.incoming_connect_bot:!1,a?i.precedes_xma:!1),role:"none",children:b})}a.displayName=a.name+" [from "+f.id+"]";f=18;a=a;g.borderWidth=b;g.smallRadius=e;g.largeRadius=d;g.baseSize=f;g.make=a}),98);
__d("MWV2ChatBubble.bs",["MAWGating","MWLSThreadDisplayContext.bs","MWPColorUtils.bs","MWPMessageIsReply.bs","MWPSolidMessageBubble.bs","MWPThreadTheme.bs","MWPTransparentMessageBubble.bs","bs_caml_obj","bs_caml_splice_call","react","stylex","useMatchMedia"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={emphasis_ring:{backgroundColor:"xjbqb8w",borderTop:"xkaxx8j",borderEnd:"xif9i9b",borderBottom:"x1ueo1nx",borderStart:"x1jawzb3",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6",":after_borderTopColor":"x18gol9d",":after_borderEndColor":"x1fy2a9x",":after_borderBottomColor":"xx8rwve",":after_borderStartColor":"xcgf5qo",":after_borderTopStartRadius":"x1re2sdf",":after_borderTopEndRadius":"x153aelg",":after_borderBottomEndRadius":"xmcu26r",":after_borderBottomStartRadius":"x1egkzb1",":after_borderTopStyle":"x1ikrcl6",":after_borderEndStyle":"xrlr1mf",":after_borderBottomStyle":"x13m8g0b",":after_borderStartStyle":"x1wea3ti",":after_borderTopWidth":"xmm20zi",":after_borderEndWidth":"x1e2mm14",":after_borderBottomWidth":"xozjuat",":after_borderStartWidth":"x19hdz91",":after_bottom":"x1zht7t",":after_content":"x5l10my",":after_display":"xieozyd",":after_end":"x8tsall",":after_pointerEvents":"x1kx6eu5",":after_position":"x1x824oc",":after_start":"xdkcqcq",":after_top":"xaic3fe",":after_zIndex":"x1ai82m1",":before_borderTopColor":"x1qr7w4a",":before_borderEndColor":"x1ncy427",":before_borderBottomColor":"x1rhx1n7",":before_borderStartColor":"xmqa6l6",":before_borderTopStartRadius":"xn7tiao",":before_borderTopEndRadius":"x14kh6e",":before_borderBottomEndRadius":"xlhwqg6",":before_borderBottomStartRadius":"x1ue140e",":before_borderTopStyle":"x183k7y4",":before_borderEndStyle":"x1uj30e5",":before_borderBottomStyle":"x1ud4nwh",":before_borderStartStyle":"x1i2jaea",":before_borderTopWidth":"x1rcj5n0",":before_borderEndWidth":"x1repur9",":before_borderBottomWidth":"x16kf9eg",":before_borderStartWidth":"x13qqqgl",":before_bottom":"x1k7te01",":before_content":"x1gftdam",":before_display":"x1m8qh1o",":before_end":"x1tqfvzf",":before_opacity":"x2e9uc7",":before_pointerEvents":"xob360l",":before_position":"x1te0kx0",":before_start":"xx38qm5",":before_top":"x1nfgzt4",":before_zIndex":"x1wl4osp",$$css:!0},emphasis_ring_before_xma:{borderBottom:"x112ta8",":after_borderBottom":"xc1oo7v",":after_borderBottomEndRadius":"x1bxxhgu",":after_borderBottomStartRadius":"x1yn7maq",":before_borderBottom":"x31l8rw",":before_borderBottomEndRadius":"xe8dl21",":before_borderBottomStartRadius":"xv9yadz",$$css:!0},emphasis_ring_connect_bottom_incoming:{":after_borderBottomStartRadius":"xdjm15t",":before_borderBottomStartRadius":"xgdbwlz",$$css:!0},emphasis_ring_connect_bottom_outgoing:{":after_borderBottomEndRadius":"x1dmanbz",":before_borderBottomEndRadius":"ximmp30",$$css:!0},emphasis_ring_connect_top_incoming:{":after_borderTopStartRadius":"xh4u4d4",":before_borderTopStartRadius":"x66tqvc",$$css:!0},emphasis_ring_connect_top_outgoing:{":after_borderTopEndRadius":"xlhwsbn",":before_borderTopEndRadius":"xvpvy2v",$$css:!0},emphasis_ring_xma:{borderTop:"x76ihet",width:"x1o2z316",":after_borderTop":"xmeydad",":after_borderTopEndRadius":"x9k7ksk",":after_borderTopStartRadius":"x15jwe59",":before_borderTop":"xw0djt0",":before_borderTopEndRadius":"x1quqxg3",":before_borderTopStartRadius":"xgdrrmm",$$css:!0}};function j(a,b){if(b)return{backgroundColor:d("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}}function k(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing,g=a.precedesXMA;a=a.threadTheme;a=j(a,f);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:g,style:a,children:b})}k.displayName=k.name+" [from "+f.id+"]";b={make:k,useInlineStyles:j};function l(a,b,e){var f=d("MWLSThreadDisplayContext.bs").useHook(),g=c("bs_caml_obj").caml_notequal(f,"Inbox"),i=c("useMatchMedia")("(min-height: "+String(1280)+"px)");return h.useMemo(function(){if(e&&b.length>1)return{backgroundAttachment:"fixed",backgroundColor:d("MWPColorUtils.bs").int64ToHex(a.fallbackColor),backgroundImage:d("MWPColorUtils.bs").gradient(b,g?{footerHeight:56,headerHeight:d("MAWGating").isArmadillo()?32:48,totalHeight:i?570:455}:void 0)};else if(e)return{backgroundColor:d("MWPColorUtils.bs").int64ToHex(a.fallbackColor)};else return{backgroundColor:"var(--wash)"}},[a,b,e,f,i])}function m(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.gradientColors,g=a.outgoing,i=a.precedesXMA;a=a.threadTheme;a=l(a,f,g);return h.jsx(d("MWPSolidMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:g,precedesXMA:i,style:a,children:b})}m.displayName=m.name+" [from "+f.id+"]";e={make:m,useInlineStyles:l};function n(a){var b=a.children,c=a.connectBottom,e=a.connectTop,f=a.outgoing;a=a.precedesXMA;return h.jsx(d("MWPTransparentMessageBubble.bs").make,{connectBottom:c,connectTop:e,outgoing:f,precedesXMA:a,children:b})}n.displayName=n.name+" [from "+f.id+"]";var o={make:n};function p(a){var b=a.children,d=a.hasXMA,e=a.isBeforeXMA,f=a.isOutgoing,g=a.shouldConnectBottom;a=a.shouldConnectTop;e=[i.emphasis_ring,e?i.emphasis_ring_before_xma:g?f?i.emphasis_ring_connect_bottom_outgoing:i.emphasis_ring_connect_bottom_incoming:!1,d?a?i.emphasis_ring_xma:!1:a?f?i.emphasis_ring_connect_top_outgoing:i.emphasis_ring_connect_top_incoming:!1];return h.jsx("div",{className:c("bs_caml_splice_call").spliceApply(c("stylex"),[e]),"data-testid":void 0,children:b})}p.displayName=p.name+" [from "+f.id+"]";f={make:p};function a(a){var b=a.children,e=a.connectBottom,f=a.connectTop,g=a.message,i=a.outgoing,j=a.precedesXMA;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var l=d("MWPThreadTheme.bs").useHook(),o=l.gradientColors;l=l.threadTheme;g=c("MWPMessageIsReply.bs")(g);g=g?h.jsx(m,{connectBottom:e,connectTop:f,gradientColors:o,outgoing:i,precedesXMA:j,threadTheme:l,children:b}):i&&o.length>1?h.jsx(n,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,children:b}):h.jsx(k,{connectBottom:e,connectTop:f,outgoing:i,precedesXMA:j,threadTheme:l,children:b});if(a)return h.jsx(p,{hasXMA:!1,isBeforeXMA:j,isOutgoing:i,shouldConnectBottom:e,shouldConnectTop:f,children:g});else return g}a=a;b=b;e=e;o=o;f=f;a=a;g.Solid=b;g.Reply=e;g.Transparent=o;g.EmphasisRing=f;g.make=a}),98);
__d("MWV2TombstonedMessage.bs",["bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={connectBottom:{borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0},connectTop:{borderTopEndRadius:"x13lgxp2",borderTopStartRadius:"x168nmei",$$css:!0},root:{borderTop:"x1n2xptk",borderEnd:"xkbpzyx",borderBottom:"xdppsyt",borderStart:"x1rr5fae",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",borderTopEndRadius:"x1g8br2z",borderTopStartRadius:"x1tlxs6b",color:"x1dntmbh",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=a.ariaLabel,d=a.children,e=a.connectTop,f=a.connectBottom;a=a.xstyle;e=e!==void 0?e:!1;f=f!==void 0?f:!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;return h.jsx("div",{"aria-label":b,className:c("stylex")(i.root,e?i.connectTop:!1,f?i.connectBottom:!1,a),children:d})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatErrorBubble.bs",["fbt","MWV2TombstonedMessage.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function a(a){a=a.isReply;return i.jsxs("div",{className:""+(a?" x1vjfegm":" xcrg951"),children:[a?null:i.jsx("div",{className:"x36qwtl xh8yej3 xcrg951"}),i.jsx(d("MWV2TombstonedMessage.bs").make,{xstyle:j.withBackground,children:h._("__JHASH__i7dsmazT6Cf__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatSeenHeadsRow.bs",["fbt","BaseGlimmer.react","CometLazyDialogTrigger.react","CometPressable.react","JSResourceForInteraction","MWLSThreadDisplayContext.bs","MWPThreadTheme.bs","MWTooltip.react","MWTooltipGroup.react","MWV2MessageRowIsRowFocusedContext.bs","MercuryTimestamp","bs_array","bs_caml_obj","bs_curry","getFBTSafeGenderFromGenderConst","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={heads:{display:"x78zum5",flexShrink:"x2lah0s",marginTop:"x1gslohp",marginEnd:"xw3qccf",marginBottom:"xjpr12u",marginStart:"x1mh8g0r",$$css:!0},img:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",paddingEnd:"x19um543",paddingStart:"x1m6msm",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x150jy0e",paddingBottom:"x18d9i69",paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function k(a,b){var e=a.length,f=e>5;e=Math.max(e-(f?4:5)|0,0);var g=a.slice(e);if(f){f=Math.max(e-9|0,0);a=a.slice(f,e);var k="\n"+h._("__JHASH__8_D_WS90lqj__JHASH__",[h._param("Number of additional views",f,[0])]);a=i.jsxs("ul",{children:[a.reverse().map(function(a,b){return i.jsx("li",{children:a.name},String(b))}),f>0?i.jsx("li",{children:k},"overflow"):null]});f=i.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(b,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:a,children:i.jsx("span",{className:"x1qhmfi1 x1lq5wgf xgqcy7u x30kzoy x9jhf4c xi81zsa x1ncwhqj x117nqv4 x1hkbg2g xdj266r x11i5rnm xat24cr x1mh8g0r xexx8yu x150jy0e x18d9i69 x1e558r4 x2b8uid",children:h._("__JHASH__hpZlVXKj1CE__JHASH__",[h._param("the number of additional viewers",e,[0])])})},"overflow")}else f=null;return c("bs_array").append([f],g.map(function(a,e){var f=a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))]);return i.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(b,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),forceInlineDisplay:!0,position:"above",tooltip:f,children:a.imageSrc===""?i.jsx(c("BaseGlimmer.react"),{index:e,xstyle:j.img}):i.jsx("img",{alt:f,className:"x14yjl9h xudhj91 x18nykt9 xww2gxu x1v9usgg x19um543 x1m6msm xxymvpz x6jxa94",src:a.imageSrc})},a.id)}))}function a(a){var b=a.messageSeenBy;a=d("MWPThreadTheme.bs").useHook();var e=i.useContext(d("MWV2MessageRowIsRowFocusedContext.bs").context),f=e.setIsDialogOpened,g=e.setFocused,l=b.length,m=d("MWLSThreadDisplayContext.bs").useHook(),n=i.useRef(null);return i.jsxs("div",{className:c("stylex")(j.root,d("MWPThreadTheme.bs").isGradient(a)?j.mask:!1),role:"none",children:[i.jsx("div",{className:"x1r8uery x1iyjqo2"}),i.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{messageSeenBy:b,onClose:function(a){}},dialogResource:c("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog",{"class":"fluid",name:"MWV2ChatSeenHeadsDialog"}).__setRef("MWV2ChatSeenHeadsRow.bs"),onHide:function(a){c("bs_curry")._1(f,function(a){return!1});return c("bs_curry")._1(g,function(a){return!0})},children:function(a){return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__JhvMDLpCFuF__JHASH__",[h._param("number of participants who have seen this message",String(l))]).toString(),onPress:function(b){c("bs_curry")._1(f,function(a){return!0});return c("bs_curry")._1(a)},overlayDisabled:!0,ref:n,xstyle:function(a){return[j.heads]},children:i.jsx(c("MWTooltipGroup.react"),{children:k(b,m)})})}})]})}a.displayName=a.name+" [from "+f.id+"]";b=5;e=a;g.getImageRow=k;g.maxNumberOfHeads=b;g.make=e}),98);
__d("MWV2MessageEndOfGroupContent.bs",["fbt","MWMessageDeliveryStatus.bs","MWPMessageListColumn.bs","MWPThreadTheme.bs","MWText.react","MWV2ChatSeenHeadsRow.bs","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={alignLeft:{paddingStart:"xtt4iyq",$$css:!0},alignRight:{paddingEnd:"x1sxyh0",$$css:!0},statusText:{paddingBottom:"xwib8y2",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0}};function k(a){var b=a.alignLeft,e=a.error;a=a.text;var f=d("MWPThreadTheme.bs").useHook();return i.jsx("span",{className:c("stylex")(j.statusText,b?j.alignLeft:j.alignRight,d("MWPThreadTheme.bs").isGradient(f)?j.mask:!1),role:"none",children:i.jsx(c("MWText.react"),{align:function(){switch(b?"start":"end_"){case"start":return"start";case"center":return"center";case"end_":return"end";case"default":return"default"}}(),color:e?"negative":"secondary",type:"meta4",children:a})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.alignLeft;a=a.num;return i.jsx(k,{alignLeft:b,text:h._("__JHASH__SlWkB_YFGR6__JHASH__",[h._param("seenByNumber",String(a))]).toString()})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.alignLeft,c=a.isTextOnly;a=a.status;var e=d("MWMessageDeliveryStatus.bs").getBroadcastStatusTitle(a);if(!c)if(a.TAG===6)return i.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:i.jsx(d("MWV2ChatSeenHeadsRow.bs").make,{messageSeenBy:a._0})});else return null;switch(a.TAG){case 0:return null;case 4:return i.jsx(k,{error:!0,text:e});case 5:return i.jsx(l,{num:1});case 6:case 7:break;case 8:return i.jsx(l,{alignLeft:b,num:a._0});case 9:return i.jsx(k,{alignLeft:b,text:e});case 10:return i.jsx(k,{alignLeft:b,error:!0,text:e});default:return i.jsx(k,{text:e})}return i.jsx(l,{num:a._0.length})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.MWStatusText=k;g.MWSeenByText=l;g.make=b}),98);
__d("MWV2MessageRowSimple.bs",["FocusWithinHandler.react","MWMessageTableFocusTable.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=a.children;a=a.domElementRef;return h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:h.jsx("div",{ref:a,role:"row",children:h.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:h.jsx(c("FocusWithinHandler.react"),{children:function(a,e){return h.jsx("div",{className:c("stylex")(i.row,e?i.rowFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,role:"gridcell",tabIndex:0,children:b})}})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPDateBreak.react",["BaseHeading.react","CometTimestamp.react","MWText.react","MWTheme.bs","formatDate","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.timestamp;var b=d("MWTheme.bs").useTheme();return h.jsxs(c("BaseHeading.react"),{testid:void 0,children:[h.jsx("div",{className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7",children:h.jsx(c("CometTimestamp.react"),{date:new Date(a)})}),h.jsx("div",{"aria-hidden":!0,className:"xjpr12u xr9ek0c x2b8uid"+(d("MWTheme.bs").isGradient(b)?" xcrg951":""),"data-scope":"date_break",children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:h.jsx("span",{className:"xk50ysn",children:c("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"})})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdminTextLayout.bs",["CometTextWithEntities.react","MWChatTextTransform.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.cta;a=a.message;a=a.text;if(a!==void 0)if(b!==void 0)return h.jsxs(h.Fragment,{children:[h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms})," ",c("bs_caml_option").valFromOption(b)]});else return h.jsx(c("CometTextWithEntities.react"),{text:a,transforms:d("MWChatTextTransform.bs").epdTextTransforms});else if(b!==void 0)return c("bs_caml_option").valFromOption(b);else return null}b=a;e=b;g.make=e}),98);
__d("MWAdminMsgCtaLink.react",["CometLink.react","MWPColorUtils.bs","MWPThreadTheme.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","xstyle"]);var f=d("MWPThreadTheme.bs").useHook();f=f.threadTheme.fallbackColor;return h.jsx(c("CometLink.react"),babelHelpers["extends"]({style:{color:d("MWPColorUtils.bs").int64ToHex(f)},weight:"bold",xstyle:e},a,{children:b}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InstantGameCustomUpdateMuteManagementUserActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.mute=a;f.unmute=c}),null);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs",["CometLink.react","InstantGameCustomUpdateMuteManagementUserActionType.bs","LS.bs","LSCustomUpdateMuteManagement","MWAdminTextLayout.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldMute,f=c("useReStore")();a=h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),function(a){return a.messageId===b.messageId}),1)},[f,b.messageId]);var g=d("ReQLSubscription.bs").useArray(a)[0].targetId;a=function(a){var i=c("bs_int64").to_string(b.threadKey),j=c("bs_int64").to_string(c("bs_belt_Option").getExn(g)),k=e?d("InstantGameCustomUpdateMuteManagementUserActionType.bs").mute:d("InstantGameCustomUpdateMuteManagementUserActionType.bs").unmute;return h.useCallback(function(a){f.runInTransaction(function(a){return c("LSCustomUpdateMuteManagement")(c("bs_caml_format").caml_int64_of_string(i),c("bs_caml_format").caml_int64_of_string(j),k,d("LS.bs").make(a))},"readwrite")},[f,i,k])};var i=b.adminMsgCtaTitle,j={message:b};a=i!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:i})):void 0;a!==void 0&&(j.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("InstantGameBotMessageSubscriptionManagementUserActionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.subscribe=a;f.unsubscribe=c}),null);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs",["CometLink.react","InstantGameBotMessageSubscriptionManagementUserActionType.bs","LS.bs","LSUpdateBotSubscription","MWAdminTextLayout.bs","bs_caml_format","bs_caml_option","bs_int64","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.message,e=a.shouldSubscribe;a=function(a){var f=c("useReStore")(),g=c("bs_int64").to_string(b.threadKey),i=e?d("InstantGameBotMessageSubscriptionManagementUserActionType.bs").subscribe:d("InstantGameBotMessageSubscriptionManagementUserActionType.bs").unsubscribe;return h.useCallback(function(a){f.runInTransaction(function(a){return c("LSUpdateBotSubscription")(c("bs_caml_format").caml_int64_of_string(g),i,d("LS.bs").make(a))},"readwrite")},[f,g,i])};var f=b.adminMsgCtaTitle,g={message:b};a=f!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:a(),target:"_blank",children:f})):void 0;a!==void 0&&(g.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},g))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResourceForInteraction","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,d=a.renderer,e=a.targetId;a=a.threadKey;var f=h.useRef(null);return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{isOptOut:b,targetId:e,threadKey:a},dialogResource:c("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react",{"class":"fluid",name:"MWNotificationMessagesManageNotificationsDialog"}).__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs"),children:function(a){return c("bs_curry")._2(d,a,f)}})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.bs",["CometPressable.react","CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isOptOut,e=a.targetId,f=a.threadKey,g=a.title;a=function(a,b){return h.jsx(c("CometPressable.react"),{onPress:function(b){return c("bs_curry")._1(a)},children:h.jsx(c("CometTextWithEntities.react"),{text:g})})};return h.jsx(d("MWNotificationMessageManageNotificationsLazyDialogTrigger.bs").make,{isOptOut:b,renderer:a,targetId:e,threadKey:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("3008");c=b("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",a);e.exports=c}),null);
__d("MWV2AdminMsgCta.bs",["CometLazyDialogTrigger.react","CometLink.react","CurrentEnvironment","JSResource","JSResourceForInteraction","MDSLockSvgIcon.bs","MWAdminMsgCtaLink.react","MWAdminTextLayout.bs","MWInboxRouteBuilder.bs","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs","MWNotificationMessageManageNotificationsAdminMsgCta.bs","MWPBumpEntityKey","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","WALogger.bs","XPolarisDirectInboxControllerRouteBuilder","bs_caml_option","bs_curry","bs_int64","cr:4069","react","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgCta.bs"),j=b("cr:4069")==null?void 0:c("bs_caml_option").some(b("cr:4069")),k={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xo1l8bm",$$css:!0}};function a(a){a=a.message;var e=a.adminMsgCtaTitle,f={message:a};a=e!==void 0&&!(b("cr:4069")==null)?c("bs_caml_option").some(h.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:h.jsx(j.make,{threadKey:a.threadKey,title:e})})):void 0;a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}a.displayName=a.name+" [from "+f.id+"]";a={make:a,styles:k};k={adminTextCta:{display:"x1rg5ohu",fontWeight:"x1s688f",$$css:!0}};function e(a){var b=a.isOptOut,e=a.message,f=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=e.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("admin_message_ctas")),{hd:e.threadKey,tl:{hd:e.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[f,e]));var g=e.adminMsgCtaTitle,i={message:e};b=g!==void 0&&a!==void 0?c("bs_caml_option").some(h.jsx("div",{className:"x1rg5ohu x1s688f",children:h.jsx(d("MWNotificationMessageManageNotificationsAdminMsgCta.bs").make,{isOptOut:b,targetId:a.targetId,threadKey:e.threadKey,title:g})})):void 0;b!==void 0&&(i.cta=c("bs_caml_option").valFromOption(b));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},i))}e.displayName=e.name+" [from "+f.id+"]";e={make:e,styles:k};function l(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;if(f!==void 0){a=a.actionUrl;a=a!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",href:a,target:"_blank",children:f})):void 0}else a=void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}l.displayName=l.name+" [from "+f.id+"]";k={make:l};function m(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(a){g({entryPoint:"ADMIN_TEXT",onClose:function(a){},threadKey:b.threadKey},function(a){}),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(a){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:c("bs_int64").to_string(b.threadKey)}})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}m.displayName=m.name+" [from "+f.id+"]";l={make:m};function n(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var f=c("useCometLazyDialog")(c("JSResource")("MWServicesLegalLiabilityDisclaimer.react").__setRef("MWV2AdminMsgCta.bs")),g=f[0];if(a!==void 0){f=a.title;a=f!==void 0?c("bs_caml_option").some(h.jsx(c("CometLink.react"),{color:"blueLink",onClick:function(a){return g({entryPoint:"ADMIN_TEXT",onClose:function(a){},threadKey:b.threadKey},function(a){})},children:f})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}n.displayName=n.name+" [from "+f.id+"]";m={make:n};n={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function o(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(a!==void 0){var f=a.title;a=f!==void 0?c("bs_caml_option").some(h.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{},dialogResource:i,children:function(a,b){return h.jsx(c("CometLink.react"),{onClick:a,ref:b,target:"_blank",children:f})}})})):void 0}else a=void 0;var g={message:b};a!==void 0&&(g.cta=c("bs_caml_option").valFromOption(a));return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"x1o583il x1rg5ohu x1n2onr6 x177n6bx",children:h.jsx(c("MDSLockSvgIcon.bs"),{color:"tertiary",size:16})}),h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},g))]})}o={make:o,styles:n};n={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0},lockIcon:{bottom:"x1o583il",display:"x1rg5ohu",position:"x1n2onr6",end:"x177n6bx",$$css:!0}};function p(a){var b=a.message,e=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("mi_act_mapping_table")),{hd:b.threadKey,tl:0}),function(a){return c("bs_int64").to_string(a.jid)})},[e,JSON.stringify(b.threadKey)]));a=a!==void 0?c("CurrentEnvironment").instagramdotcom?c("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:a}):c("bs_curry")._1(d("MWInboxRouteBuilder.bs").buildURL,{thread_key:a}):(d("WALogger.bs").log("Failed to generate the url, thread is missing in mi_act_mapping table for threadKey "+c("bs_int64").to_string(b.threadKey)),c("bs_curry")._1(d("MWInboxRouteBuilder.bs").buildHomeURL,{}));var f=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));if(f!==void 0){f=f.title;a=f!==void 0?c("bs_caml_option").some(h.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:h.jsx(c("CometLink.react"),{href:a,target:"_self",children:f})})):void 0}else a=void 0;f={message:b};a!==void 0&&(f.cta=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},f))}p.displayName=p.name+" [from "+f.id+"]";p={make:p,styles:n};function q(a){var b=a.message;a=a.shouldSubscribe;return h.jsx(d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.bs").make,{message:b,shouldSubscribe:a})}q.displayName=q.name+" [from "+f.id+"]";n={make:q};function r(a){var b=a.message;a=a.shouldMute;return h.jsx(d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.bs").make,{message:b,shouldMute:a})}r.displayName=r.name+" [from "+f.id+"]";q={make:r};function s(a){var b=a.message,e=c("useReStore")();a=c("useCometLazyDialog")(c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgCta.bs"));var f=a[0];a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){var a=b.adminMsgCtaId;if(a!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("admin_message_ctas")),{hd:b.threadKey,tl:{hd:b.messageId,tl:{hd:a,tl:0}}});else return d("SortedAsyncIterable.bs").empty()},[e,b]));var g=function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta");return f({onClose:function(a){},threadKey:b.threadKey},function(a){})};if(a!==void 0){a=a.title;g=a!==void 0?c("bs_caml_option").some(h.jsx(c("MWAdminMsgCtaLink.react"),{onClick:g,children:a})):void 0}else g=void 0;a={message:b};g!==void 0&&(a.cta=c("bs_caml_option").valFromOption(g));return h.jsx(d("MWAdminTextLayout.bs").make,babelHelpers["extends"]({},a))}s.displayName=s.name+" [from "+f.id+"]";r={make:s};f=a;s=e;a=k;e=l;k=m;l=o;m=p;o=n;p=q;n=r;g.$MAWEphemeralAdminMsgCta$requireCondXplat=b("cr:4069");g.AdminMsgArmadilloEphemeralChangeDuration=f;g.AdminMsgNotificationMessageManageNotifications=s;g.AdminMsgWebUrl=a;g.AdminMsgP2bPrivacyDisclosure=e;g.AdminMsgServiceBookingLegalDisclaimer=k;g.AdminMsgE2EEDescription=l;g.AdminMsgCutoverRollback=m;g.AdminMsgInstantGameBotMessageSubscriptionManagement=o;g.AdminMsgInstantGameCustomUpdateMuteManagement=p;g.AdminMsgShowPinnedMessages=n}),98);
__d("MWV2ChatAdminMessage.bs",["MAWGating","MWAdminTextLayout.bs","MWText.react","MWV2AdminMsgCta.bs","bs_curry","cr:4082","cr:4084","cr:4093","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){if(a!==void 0)return a.isAdminMessage;else return!1}var j={container:{paddingStart:"x5ib6vp",paddingEnd:"xc73u3c",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginEnd:"xkrivgy",marginBottom:"x4ii5y1",marginStart:"x1gryazu",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function k(a){var b=a.children,d=a.nextMessage;a=a.prevMessage;return h.jsx("div",{className:c("stylex")(j.container,i(a)?j.containerThatProceedsAdminMessage:!1,i(d)?j.containerThatPrecedesAdminMessage:!1),children:h.jsx("div",{className:"xr1yuqi xkrivgy x4ii5y1 x1gryazu x1ekjcvx x2b8uid x13faqbe",children:b})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k,styles:j};function a(a){var e=a.message,f=a.nextMessage;a=a.prevMessage;var g=!(b("cr:4082")==null)&&!(b("cr:4093")==null)?c("bs_curry")._3(b("cr:4082").buildLocalizedString,[],[],b("cr:4093").currentUserAddedDevice):"";g=d("MAWGating").isAdminMsgOptEnabled()&&e.text===g&&!(b("cr:4084")==null)?h.jsx(b("cr:4084").make,{}):null;var i=e.adminMsgCtaType,j,l=0;i!==void 0?i==="admin_msg_armadillo_ephemeral_change_duration"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgArmadilloEphemeralChangeDuration.make,{message:e}):i==="admin_msg_web_url"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgWebUrl.make,{message:e}):i==="admin_msg_p2b_privacy_disclosure"&&c("gkx")("2386")?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgP2bPrivacyDisclosure.make,{message:e}):i==="admin_notification_messages_opt_out"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!0,message:e}):i==="admin_notification_messages_opt_in"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgNotificationMessageManageNotifications.make,{isOptOut:!1,message:e}):i==="admin_msg_thread_level_cutover"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_e2ee_thread"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgE2EEDescription.make,{message:e}):i==="admin_msg_cutover_rollback"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgCutoverRollback.make,{message:e}):i==="xmat_instant_game_bot_message_subscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!0}):i==="xmat_instant_game_bot_message_unsubscribe"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameBotMessageSubscriptionManagement.make,{message:e,shouldSubscribe:!1}):i==="admin_msg_view_pin_msgs_v2"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgShowPinnedMessages.make,{message:e}):i==="xmat_instant_game_custom_update_message_mute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!0}):i==="xmat_instant_game_custom_update_message_unmute"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgInstantGameCustomUpdateMuteManagement.make,{message:e,shouldMute:!1}):i==="admin_message_service_booking_legal_disclaimer"?j=h.jsx(d("MWV2AdminMsgCta.bs").AdminMsgServiceBookingLegalDisclaimer.make,{message:e}):l=1:l=1;l===1&&(j=h.jsxs("div",{children:[h.jsx(d("MWAdminTextLayout.bs").make,{message:e}),g]}));return h.jsx(k,{nextMessage:f,prevMessage:a,children:h.jsx(c("MWText.react"),{color:"tertiary",type:"meta4",children:j})})}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.$MAWAdminMsg$requireCondXplat=b("cr:4082");g.$MAWAdminViewLogins$requireCondXplat=b("cr:4084");g.$MAWLocalizationType$requireCondXplat=b("cr:4093");g.Container=a;g.make=e}),98);
__d("MWV2MessageStartOfGroupContent.bs",["MWPDateBreak.react","MWPMessageListColumn.bs","MWV2ChatAdminMessage.bs","MWV2MessageRowSimple.bs","bs_caml_int64","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a,b){if(b!==void 0)return c("bs_int64").compare(c("bs_int64").abs(c("bs_caml_int64").sub(a.timestampMs,b.timestampMs)),[0,9e5])>0;else return!0}function j(a){var b=a.domElementRef,e=a.message;a=a.prevMessage;if(i(e,a))return h.jsx(d("MWV2MessageRowSimple.bs").make,{domElementRef:b,children:h.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:h.jsx(d("MWV2ChatAdminMessage.bs").Container.make,{nextMessage:e,prevMessage:a,children:h.jsx(c("MWPDateBreak.react"),{timestamp:c("bs_caml_int64").to_float(e.timestampMs)})})})});else return null}b={make:j};function a(a){var b=a.domElementRef,c=a.message;a=a.prevMessage;return h.jsx(j,{domElementRef:b,message:c,prevMessage:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.Datebreak=f;g.make=a}),98);
__d("MWChatGutterItem.bs",["BaseGlimmer.react","MWLSThreadDisplayContext.bs","MWMessageDeliveryStatus.bs","MWMessageDeliveryStatusIcons","MWTheme.bs","MWTooltip.react","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={icon:{display:"x78zum5",flexShrink:"x2lah0s",height:"x1v9usgg",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},image:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",marginEnd:"xw3qccf",marginStart:"xsgj6o6",userSelect:"x87ps6o",verticalAlign:"x11njtxf",$$css:!0},incoming:{flexDirection:"x15zctf7",$$css:!0},mask:{backgroundColor:"xcrg951",$$css:!0},noneStatus:{flexShrink:"x2lah0s",width:"x17z2i9w",$$css:!0},profilePlaceholder:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0},root:{alignItems:"xuk3077",display:"x78zum5",$$css:!0}};function a(a){var b=a.errorMessage,e=a.status,f=a.incoming,g=a.hasRepliedToMessage,j=a.xstyle;a=a.id;f=f!==void 0?f:!1;g=g!==void 0?g:!1;j=j!==void 0?c("bs_caml_option").valFromOption(j):!1;a=a!==void 0?a:"";var k=d("MWTheme.bs").useTheme();k=d("MWTheme.bs").isGradient(k);var l=d("MWMessageDeliveryStatus.bs").getStatusTitle(e),m=d("MWLSThreadDisplayContext.bs").useHook();b=e.TAG===4&&b!==void 0?b:l;var n;switch(e.TAG){case 0:n=h.jsx("div",{className:"x2lah0s x17z2i9w"});break;case 5:var o=e._0;n=o.imageSrc===""?h.jsx(c("BaseGlimmer.react"),{index:1,xstyle:i.profilePlaceholder}):h.jsx("img",{alt:l,className:"x14yjl9h xudhj91 x18nykt9 xww2gxu xw3qccf xsgj6o6 x87ps6o x11njtxf","data-testid":void 0,height:"14px",src:o.imageSrc,width:"14px"});break;case 7:n=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredAndReadIcon,{size:12,xstyle:i.icon});break;case 6:case 8:case 9:case 10:n=null;break;default:var p;switch(e.TAG){case 1:p=h.jsx(c("MWMessageDeliveryStatusIcons").SendingIcon,{size:12,xstyle:i.icon});break;case 2:p=h.jsx(c("MWMessageDeliveryStatusIcons").SentIcon,{size:12,xstyle:i.icon});break;case 3:p=h.jsx(c("MWMessageDeliveryStatusIcons").DeliveredIcon,{size:12,xstyle:i.icon});break;case 4:p=h.jsx(c("MWMessageDeliveryStatusIcons").ErrorIcon,{size:12,title:b,xstyle:i.icon});break;default:p=null}n=h.jsx("div",{children:p})}l=b!==""?h.jsx(c("MWTooltip.react"),{align:function(){switch(c("bs_caml_obj").caml_equal(m,"Inbox")?"middle":"end_"){case"start":return"start";case"middle":return"middle";case"end_":return"end";case"stretch":return"stretch"}}(),position:"above",tooltip:b,children:n}):n;return h.jsx("div",{className:c("stylex")(i.root,k&&!g?i.mask:!1,f?i.incoming:!1,j),"data-testid":void 0,id:a,role:"none",children:l})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2MessageActionsVisibility.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.useRef(function(a){})}g.useStopHoveringRef=a}),98);
__d("MWV2MessageTimestampTooltip.bs",["fbt","MWTooltip.react","MercuryTimestamp","bs_caml_int64","gkx","react","useSecureMessageSendTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children,e=a.message,f=c("useSecureMessageSendTime")(e.messageId);a=i.useMemo(function(){var a=e.unsentTimestampMs,b=e.isUnsent;return a!==void 0&&b?i.jsxs("div",{children:[i.jsx("div",{children:h._("__JHASH__L93MxMH-RPL__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(e.timestampMs)))])}),i.jsx("div",{children:c("gkx")("1531920")?h._("__JHASH__6L85PWgp0uQ__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))]):h._("__JHASH__exEcskNfDMO__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(a)))])})]}):i.jsxs("div",{children:[i.jsx("div",{children:!(f==null)&&f>0?"Send Latency: "+f.toString()+"ms":null}),i.jsx("div",{children:h._("__JHASH__GNnexJRNZQN__JHASH__",[h._param("time",d("MercuryTimestamp").getPreciseTimestamp(c("bs_caml_int64").to_float(e.timestampMs)))])})]})},[e]);return i.jsx(c("MWTooltip.react"),{align:"middle",position:"start",tooltip:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MAWEphemeralMessageTimer.bs",["fbt","CometScreenReaderText.react","MAWEphemeralConsts.bs","MWText.react","WATimeUtils","bs_caml_int32","bs_caml_int64","bs_curry","react","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){if(a<d("MAWEphemeralConsts.bs").oneMinuteInSeconds)return h._("__JHASH__hRyyGvVfwlZ__JHASH__",[h._param("seconds",String(a).concat("s"))]);else if(a<d("MAWEphemeralConsts.bs").oneHourInSeconds)return h._("__JHASH__ObtD_ZW4dqo__JHASH__",[h._param("minutes",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneMinuteInSeconds)).concat("m"))]);else if(a<d("MAWEphemeralConsts.bs").oneDayInSeconds)return h._("__JHASH__kfAHv6U0oM7__JHASH__",[h._param("hours",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneHourInSeconds)).concat("h"))]);else return h._("__JHASH__pQj617aM9Jj__JHASH__",[h._param("days",String(c("bs_caml_int32").div(a,d("MAWEphemeralConsts.bs").oneDayInSeconds)).concat("d"))])}function k(a){return h._("__JHASH__y-wqFg4O-A0__JHASH__",[h._param("time",a)])}function l(a,b){a=c("bs_caml_int64").to_int32(c("bs_caml_int64").sub(a,c("bs_caml_int64").of_float(d("WATimeUtils").unixTime())));if(b!==void 0&&a>c("bs_caml_int64").to_int32(b))return c("bs_caml_int64").to_int32(b);else return a}function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp;a=i.useState(function(){return l(e,b)});var f=a[0],g=a[1];a=j(f);var h=k(a);i.useEffect(function(){f>0&&c("setTimeout")(function(a){return c("bs_curry")._1(g,function(a){return f-1|0})},d("MAWEphemeralConsts.bs").msPerSec)},[f,e]);return f>0?i.jsxs("div",{className:"x2b8uid xbkr7qi",children:[i.jsx(c("CometScreenReaderText.react"),{text:h}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWText.react"),{type:"meta1",children:a})})]}):null}b=a;g.getScreenReaderText=k;g.getRemainingTimeInSec=l;g.make=b}),98);
__d("MWPUseLinkRendererFactory.bs",["LSThreadCapabilityBitOffset.bs","MWPThreadCapabilitiesContext.bs","MWTextWithEntities.bs","bs_curry","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a===void 0&&(a=!1);var b=d("MWPThreadCapabilitiesContext.bs").useHook(),e=c("gkx")("1886144")&&c("bs_curry")._1(b,d("LSThreadCapabilityBitOffset.bs").disableLinks);return function(b,c,f){return e?void 0:[f,d("MWTextWithEntities.bs").linkPlugin(b,void 0,c,a)]}}g.useHook=a}),98);
__d("useMWPCombineTextRenderers",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b={};a.forEach(function(a){if(a===void 0)return;var c=a[0];a=a[1];var d=b[c];b[c]=d!=null?d.concat([a]):[a]});return b}f["default"]=a}),66);
__d("MWUseTextRenderers.bs",["CometCardedDialogLoadingState.re","CometEntryPointDialogTrigger.react","CometErrorBoundary.react","CometLink.react","GroupsCometJoinChatDialog.entrypoint","MWCMThreadTypes.bs","MWCMUseFolder.bs","MWCMUseShouldGoToFullScreenChat.bs","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder.bs","MWLSThread.bs","MWMessageCellFocusTable.bs","MWPUseLinkRendererFactory.bs","MWV2OpenTabOrThread.bs","bs_belt_Option","bs_curry","bs_int64","qex","react","useMWPCombineTextRenderers"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={bold:{fontWeight:"x1s688f",$$css:!0},highlight:{backgroundColor:"xacajkf",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",paddingTop:"x1nn3v0j",paddingEnd:"x4uap5",paddingBottom:"x1120s5i",paddingStart:"xkhd6sd",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",$$css:!0}};function j(a){var b,e=a.folder,f=a.node,g=a.thread;a=d("MWV2OpenTabOrThread.bs").useHook();var i=c("bs_curry")._1(a.openTabOrInbox,!0);a=c("bs_belt_Option").getWithDefault(g.hasPendingInvitation,!1);var j=d("MWCMUseShouldGoToFullScreenChat.bs").useHook();b=(b=c("qex")._("873"))!=null?b:!1;return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("GroupsCometJoinChatDialog.entrypoint"),fallback:function(a){return h.jsx(d("CometCardedDialogLoadingState.re").make,{})},otherProps:{invited:a,shouldGoToMessenger:j,shouldAutojoin:b},preloadParams:{groupID:c("bs_int64").to_string(e.fbGroupId),threadID:c("bs_int64").to_string(g.threadKey)},children:function(a){return h.jsx("span",{className:"x1s688f",role:"gridcell",children:h.jsx(c("CometLink.react"),{onClick:function(b){if(d("MWCMThreadTypes.bs").isUnjoinedCMThread(g.threadType))return c("bs_curry")._1(a);else return c("bs_curry")._2(i,{clientThreadKey:g.clientThreadKey,threadKey:g.threadKey,threadType:g.threadType},"mention")},children:f})})}},c("bs_int64").to_string(g.threadKey))})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};function k(a){var b=a.communityLinkFallback,e=a.node;a=a.threadKey;var f=d("MWLSThread.bs").useThreadExn(a),g=d("MWCMUseFolder.bs").useHook(f);if(g===void 0)return b;a=h.useCallback(function(a){return c("bs_curry")._1(d("MWInboxCommunityThreadsRouteBuilder.bs").buildURL,{folder_id:c("bs_int64").to_string(g.folderId),thread_key:c("bs_int64").to_string(f.threadKey)})},[JSON.stringify(g.folderId)]);return h.jsx(d("MWV2OpenTabOrThread.bs").Provider.make,{value:a,children:h.jsx(j,{folder:g,node:e,thread:f})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};var l=["Command",function(a,b){return h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})})}],m=["CommunityChannel",function(a,b){var e=h.jsx(d("MWMessageCellFocusTable.bs").FocusTable[2],{children:h.jsx("span",{className:"x1s688f",role:"gridcell",children:a})});return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return e},children:h.jsx(k,{communityLinkFallback:e,node:a,threadKey:b.threadKey})})}];function a(a,b){b=a!==void 0?a:!1;b;a=d("MWPUseLinkRendererFactory.bs").useHook();return c("useMWPCombineTextRenderers")([a([i.underline],"chat_message_regular_link","Link"),a([i.bold],"profile_link","Profile"),a([i.highlight],"highlight","Highlight"),l,m,["MessengerTextFormatting",d("MWChatTextFormatting").messageRenderer]])}f=b;b=e;e=l;var n=m;a=a;g.CommunityChannelLink=f;g.CommunityChannelLinkContainer=b;g.commandRenderer=e;g.communityChannelRenderer=n;g.useHook=a}),98);
__d("MWV2ChatEmoji.bs",["CometTextWithEntities.react","MWChatEmojiUtil.bs","MWChatTextTransform.bs","MWV2ChatBubble.bs","bs_curry","cr:2382","qex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.message;a=a.hasEmphasisRing;a=a!==void 0?a:!1;var f=h.useMemo(function(){var a=c("qex")._("1546");a=a==null||a!=="dynamic"?32:d("MWChatEmojiUtil.bs").transformHotEmojiSizeForWeb(e.hotEmojiSize);return d("MWChatTextTransform.bs").epdTextTransformsWithOptions({size:a})},[e.hotEmojiSize]),g=e.text;if(g===void 0)return null;g=b("cr:2382")==null?g:c("bs_curry")._1(b("cr:2382").unvault,g);g=h.jsx(c("CometTextWithEntities.react"),{text:g,transforms:f,withParagraphs:!0});if(a)return h.jsx(d("MWV2ChatBubble.bs").EmphasisRing.make,{hasXMA:!1,isBeforeXMA:!1,isOutgoing:!1,shouldConnectBottom:!1,shouldConnectTop:!1,children:g});else return g}e=a;f=e;g.$MAWVault$requireCond=b("cr:2382");g.make=f}),98);
__d("MessageProfileRangeType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:"n",COMMUNITY_CHANNEL:"cc",PROFILE:"p",THREAD:"t",THREAD_ACTIVE:"a",SILENT:"s",THREAD_SHOUT:"ts"});f["default"]=a}),66);
__d("MessageProfileRangeType.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a==="p")return"p";else if(a==="thread"||a==="t")return"t";else if(a==="thread_active"||a==="a")return"a";else if(a==="s")return"s";else if(a==="c")return"cc";else return"n"}f.ofString=a}),66);
__d("MWV2ChatTextParserUtils.bs",["EmojiRenderer","EmoticonRenderer","LSContactTypeExact.bs","MWChatTextFormatting","MWLSContactTypeExactUtils.bs","MessageProfileRangeType.bs","ReQL.bs","ReQLSuspense","XCometVanityURLControllerRouteBuilder","bs_caml","bs_caml_format","getURLRanges","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp("/^[ \\r\\n\\s]*$/");function a(a){var b=d("EmojiRenderer").parse(a).map(function(a){return{length:a.length,offset:a.offset}}),e=c("gkx")("1839834")?d("EmoticonRenderer").parse(a).map(function(a){return{length:a.chars.length,offset:a.offset}}):[];b=b.concat(e).sort(function(a,b){return a.offset-b.offset|0});if(b.length===0)return!1;var f={contents:0},g={contents:0};e=b.some(function(b){f.contents===b.offset?(f.contents=f.contents+b.length|0,g.contents=f.contents):g.contents=b.offset;var c=a.substring(f.contents,g.contents);f.contents=b.offset+b.length|0;return h.test(c)===!1});b=f.contents!==a.length&&!h.test(a.substring(g.contents));if(e)return!1;else return!b}function b(a){var b=c("getURLRanges")(a),e=[];a=d("MWChatTextFormatting").getFormattingRanges(a);b.forEach(function(a){a={entity:{__typename:"Link",uri:a.entity.url},length:a.length,offset:a.offset};e.push(a)});return e.concat(a)}function i(a){if(c("gkx")("1968579"))return"/t/"+a;else return"/messages/t/"+a}function j(a,b){try{a=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:c("bs_caml_format").caml_int64_of_string(b),tl:0}))}catch(b){a=void 0}if(a===void 0)return i(b);var e=a.contactTypeExact;if(c("bs_caml").i64_eq(e,d("LSContactTypeExact.bs").fbUser))return"https://www.facebook.com"+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b});if(!d("MWLSContactTypeExactUtils.bs").isIgContact(a))return i(b);e=a.secondaryName;if(e!==void 0)return"https://www.instagram.com/"+e+"/";else return i(b)}function e(a,b,e,f,g){b=b.split(",");var h=e.split(","),k=f.split(","),l=g.split(",");return b.reduce(function(b,e,f){var g=d("MessageProfileRangeType.bs").ofString(l[f]);g==="t"||g==="a"?b.push({entity:{__typename:"Profile",id:e,uri:i(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="p"?b.push({entity:{__typename:"Profile",id:e,uri:j(a,e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="cc"?b.push({entity:{__typename:"CommunityChannel",threadKey:c("bs_caml_format").caml_int64_of_string(e)},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])}):g==="s"&&b.push({entity:{__typename:"Command"},length:c("bs_caml_format").caml_int_of_string(h[f]),offset:c("bs_caml_format").caml_int_of_string(k[f])});return b},[])}g.utf16RegexSpaces=h;g.isEmojiOnlyMessage=a;g.findRanges=b;g.createURIForThread=i;g.createProfileURIForMention=j;g.findRangesForMentions=e}),98);
__d("MWV2ChatUnsentMessage.bs",["fbt","CometPressable.react","MWCMIsAnyCMThread","MWCMUseFolder.bs","MWLSThread.bs","MWText.react","MWV2TombstonedMessage.bs","ReQL.bs","ReQLSubscription.bs","XCometGroupAdminActivitiesControllerRouteBuilder","bs_curry","bs_int64","cr:4898","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={linkText:{paddingStart:"x16hj40l",paddingEnd:"xsyo7zv",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function k(a){var e=a.attachment,f=a.isSecureMessage;a=a.message;var g=h._("__JHASH__I-2GRtvMpnJ__JHASH__");a=b("cr:4898")==null?g:c("bs_curry")._1(b("cr:4898").useUnsendContentInSecureThread,a);if(f)f=a;else if(e!==void 0){a=e.descriptionText;f=a!==void 0?a:g}else f=g;return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:f,children:f})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){a=a.attachment;if(a!==void 0){a=a.descriptionText;a=a!==void 0?a:h._("__JHASH__HdJ22izQlT7__JHASH__")}else a=h._("__JHASH__HdJ22izQlT7__JHASH__");return i.jsx(d("MWV2TombstonedMessage.bs").make,{ariaLabel:a,children:a})}l.displayName=l.name+" [from "+f.id+"]";f={make:l};function m(a){var b=a.attachment;a=a.thread;a=d("MWCMUseFolder.bs").useHook(a);if(b!==void 0){b=b.cta1Title;b=b!==void 0?b:h._("__JHASH__8jyfQXNgswL__JHASH__")}else b=h._("__JHASH__8jyfQXNgswL__JHASH__");if(a!==void 0)return i.jsx(c("CometPressable.react"),{linkProps:{url:"https://www.facebook.com"+c("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(a.fbGroupId)})},overlayDisabled:!0,xstyle:function(a){return[j.linkText]},children:i.jsx(c("MWText.react"),{color:"blueLink",type:"meta2",children:b})});else return null}var n={make:m};function a(a){var b=a.isSecureMessage,e=a.message;a=a.outgoing;var f=c("useReStore")(),g=e.messageId,h=e.threadKey,j=d("MWLSThread.bs").useThread(h),n=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("attachments")),{hd:h,tl:{hd:g,tl:0}})},[f,g,JSON.stringify(h)]));if(n!==void 0){var o=n.cta1Type;o=o!==void 0?o==="xma_view_activity_log":!1}else o=!1;return i.jsxs(i.Fragment,{children:[a?i.jsx(l,{attachment:n}):i.jsx(k,{attachment:n,isSecureMessage:b,message:e}),j!==void 0&&o&&c("MWCMIsAnyCMThread")(j.threadType)?i.jsx(m,{attachment:n,thread:j}):null]})}a=a;e=e;f=f;n=n;a=a;g.$MAWUnsendContentInSecureThread$requireCond=b("cr:4898");g.IncomingUnsentMessage=e;g.OutgoingUnsentMessage=f;g.ActivityLogDetails=n;g.make=a}),98);
__d("MWPGating.bs",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("qex")._("105")===!0}g.isDualColumnMessageListEnabled=a}),98);
__d("MWPOpenComposerUtils.bs",["LSRemoveMediaSendJobs","LSResumeMediaSendJob","MWConsole","Promise","bs_caml_int64","bs_caml_option","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return a.table("media_staging").get({hd:c,tl:0}).then(function(d){if(d!==void 0)return a.table("media_staging")["delete"]({hd:c,tl:0});else return b("Promise").resolve()})}function d(a,d,e){return a.table("media_staging").get({hd:d,tl:0}).then(function(d){if(d!==void 0)return a.table("media_staging").put(c("bs_curry")._1(e,d));else return b("Promise").resolve()})}function e(a,d,e,f,g){return a.table("attachments").get({hd:d,tl:{hd:e,tl:{hd:f,tl:0}}}).then(function(h){if(h!==void 0)return a.table("attachments").upsert({hd:d,tl:{hd:e,tl:{hd:f,tl:0}}},c("bs_curry")._1(g,h));else return b("Promise").resolve()})}function f(a,d,e){return c("LSResumeMediaSendJob")(d,c("bs_caml_int64").zero,e!==void 0?c("bs_caml_option").valFromOption(e):void 0,a).then(function(e){e=e[0];if(e)return c("LSRemoveMediaSendJobs")(d,a);else return b("Promise").resolve()})}a=a;d=d;e=e;f=f;g.deleteMediaStaging=a;g.updateMediaStaging=d;g.updateAttachment=e;g.resumeSendJob=f}),98);
__d("MWPComposerMediaUploadUtil.bs",["FBLogger","MessagingAttachmentType.bs","XComposerPhotoUploader","bs_belt_Array","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cometIsMimeTypeForMedia","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h){var i="/ajax/mercury/upload.php";h&&(i="/ajax/mercury/chatsupportuser/upload.php");h=a!==void 0?a:function(a,b){};var j=d!==void 0?d:function(a,b){};a=e!==void 0?e:!1;d=new(c("XComposerPhotoUploader"))({concurrentLimit:3,onUploadFailure:function(a,b){c("bs_curry")._2(j,a,b);return!0},onUploadProgress:c("bs_curry").__2(h),onUploadStart:function(a){},onUploadSuccess:function(a,d){d=d.response.payload.metadata;var e;if(d==null)c("FBLogger")("messenger_browser_clients").warn("Empty payload"),e={};else{d=c("bs_belt_Array").get(d,0);d!==void 0?e=c("bs_caml_option").valFromOption(d):(c("FBLogger")("messenger_browser_clients").warn("Empty metadata"),e={})}d=e.fbid;var f=e.video_id,g=e.audio_id,h=e.gif_id;e=e.file_id;d=d!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(d)):f!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(f)):g!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(g)):h!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(h)):e!==void 0?c("bs_caml_option").some(c("bs_caml_option").valFromOption(e)):void 0;d!==void 0?c("bs_curry")._2(b,a,d):c("unrecoverableViolation")("Unrecognized file upload success payload","messenger_comet")},retryLimit:1,uploadEndpoint:i});e=a?{data:{voice_clip:!0}}:void 0;d.getAsyncFileUploadRequest(f,g,e).send()}function b(a){a=a.type;if(d("cometIsMimeTypeForMedia").isMimeTypeForPhoto(a))return d("MessagingAttachmentType.bs").image;else if(a==="audio/wav")return d("MessagingAttachmentType.bs").audio;else if(a==="image/gif")return d("MessagingAttachmentType.bs").animatedImage;else if(d("cometIsMimeTypeForMedia").isMimeTypeForVideo(a))return d("MessagingAttachmentType.bs").video;else return d("MessagingAttachmentType.bs").file}function e(a,b,e){return{action_url:void 0,attachment_fbid:a,attachment_index:c("bs_caml_int64").zero,attachment_type:d("MessagingAttachmentType.bs").audio,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:void 0,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a,original_file_hash:void 0,playable_duration_ms:c("bs_caml_int64").of_float(e*1e3),playable_url:URL.createObjectURL(b),playable_url_mime_type:b.type,preview_height:void 0,preview_url:void 0,preview_url_mime_type:void 0,preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}}function f(a,b){a=a.map(function(a){return{action_url:void 0,attachment_fbid:a.offlineAttachmentId,attachment_index:c("bs_caml_int64").zero,attachment_type:a.attachmentType,cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:a.filename,filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:a.offlineAttachmentId,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:a.previewUrl,playable_url_mime_type:a.mimeType,preview_height:[0,200],preview_url:a.previewUrl,preview_url_mime_type:void 0,preview_width:[0,200],source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0}});var e=[],f=[];a.forEach(function(a){c("bs_caml").i64_eq(a.attachment_type,d("MessagingAttachmentType.bs").image)&&!b?f.push(a):e.push([a])});f.length>0&&e.unshift(f);return e.map(function(a){return a.map(function(a,b){return babelHelpers["extends"]({},a,{attachment_index:c("bs_caml_int64").of_int32(b)})})})}a=a;b=b;e=e;f=f;g.startUpload=a;g.getAttachmentType=b;g.getAudioAttachment=e;g.createPartitionedAttachments=f}),98);
__d("MWPBaseMessageListRowCountdown.bs",["MAWEphemeralMessageTimer.bs","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={moveUpToAccountForReactions:{paddingBottom:"x1hhzuzn",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",justifyContent:"xl56j7k",paddingStart:"xurb0ha",paddingEnd:"x1sxyh0",zIndex:"x1vjfegm",marginTop:"xr1yuqi",marginBottom:"x4ii5y1",$$css:!0}};function a(a){var b=a.ephemeralDurationInSec,e=a.expirationTimestamp,f=a.hasReactions;a=a.ariaHidden;a=a!==void 0?a:!1;return h.jsx("div",{"aria-hidden":a,className:c("stylex")(i.root,f?i.moveUpToAccountForReactions:!1),children:h.jsx(d("MAWEphemeralMessageTimer.bs").make,{ephemeralDurationInSec:b,expirationTimestamp:e})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWPBaseMessageListRow.bs",["BaseThemeProvider.react","LSMessageContentType.bs","MWCombineThemeConfigs.bs","MWMessageDeliveryStatus.bs","MWPBaseMessageListRowCountdown.bs","MWPMessageIsReply.bs","MWPMessageListColumn.bs","MWPMessageParsingUtils.bs","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function a(a){var c=a.children,d=a.message;a=a.prevMessage;d=b("MWPMessageParsingUtils.bs").isStartOfGroup(d,a);if(d)return b("bs_curry")._1(c);else return null}a={make:a};function j(a){return b("bs_caml").i64_eq(b("bs_caml_int64").and_(a.displayedContentTypes,b("LSMessageContentType.bs").hscrollXma),b("bs_caml_int64").zero)}var k={container:{display:"x78zum5",$$css:!0},inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0},innerOutgoing:{flexDirection:"x15zctf7",$$css:!0}};function c(a){var c=a.children,d=a.hasReactions,e=a.message,f=a.outgoing,g=a.renderGutterItem,l=a.renderMessageActions;a=a.renderProfile;var m=b("MWPMessageIsReply.bs")(e),n=e.ephemeralExpirationTs,o=e.ephemeralDurationInSec,p=e.isUnsent,q=b("MWMessageDeliveryStatus.bs").getFromSendStatus(e.sendStatusV2);q=q.TAG===1?!0:!1;return i.jsxs("div",{className:"x78zum5",role:"none",children:[i.jsxs(b("MWPMessageListColumn.bs").Profile.make,{children:[f?null:b("bs_curry")._1(a),d?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]}),i.jsxs("div",{className:(h||(h=b("stylex")))(k.inner,f?k.innerOutgoing:!1),"data-testid":void 0,role:"none",children:[i.jsx(b("MWPMessageListColumn.bs").Bubble.make,{makeSpaceForActions:j(e),paint:!f||m,children:c}),n!==void 0&&!p?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:i.jsx(b("MWPBaseMessageListRowCountdown.bs").make,{ephemeralDurationInSec:o,expirationTimestamp:n,hasReactions:d})}):null,j(e)?i.jsx(b("MWPMessageListColumn.bs").Shrinkwrap,{children:q?null:b("bs_curry")._1(l)}):null,i.jsx(b("MWPMessageListColumn.bs").Grow.make,{children:i.jsx(b("MWPMessageListColumn.bs").HorizontalSpacer.make,{})})]}),i.jsxs(b("MWPMessageListColumn.bs").Shrinkwrap,{children:[b("bs_curry")._1(g),d?i.jsx(b("MWPMessageListColumn.bs").VerticalRhythm,{height:18}):null]})]})}c.displayName=c.name+" [from "+e.id+"]";function d(a){var c=a.children,d=a.message,e=a.nextMessage;a=a.showContent;a=a!==void 0?a:!1;d=b("MWPMessageParsingUtils.bs").isEndOfGroup(d,e);if(d||a)return b("bs_curry")._1(c);else return null}var l={"mwp-reply-background-color":"var(--comment-footer-background)"},m={"mwp-reply-background-color":"var(--comment-footer-background)"},n={dark:m,light:l,type:"VARIABLES"};function o(a){var c=a.xstyle,d=a.children,e=a.domElementRef,f=a.role,g=a.setHovered,j=a.stopHoveringRef;a=a.theme;var k=c!==void 0?b("bs_caml_option").valFromOption(c):!1,l=a!==void 0?a:n,m=i.useCallback(function(a){return b("bs_curry")._1(g,function(a){return!1})},[g]);return i.jsx(b("BaseThemeProvider.react"),{config:i.useMemo(function(){return b("MWCombineThemeConfigs.bs").combine(n,l)},[l]),children:function(a,c){return i.jsx("div",{className:(h||(h=b("stylex")))(a,k),onMouseLeave:function(a){if(j.current===m){b("bs_curry")._1(m);j.current=function(a){};return}},onMouseOver:function(a){b("bs_curry")._1(j.current),b("bs_curry")._1(g,function(a){return!0}),j.current=m},ref:e,role:f,style:c,children:d})}})}o.displayName=o.name+" [from "+e.id+"]";m=o;f.BeforeContent=a;f.Body=c;f.Footer=d;f.defaultTheme=n;f.make=m}),null);
__d("MWPBaseMessageRowHeader.bs",["BaseHeading.react","LSMessageReplySourceTypeV2.bs","MWPAccessibleEyebrowsText.react","MWPMessageIsReply.bs","MWPMessageListColumn.bs","bs_caml_obj","bs_caml_option","bs_curry","cr:3891","cr:4725","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},spaceBetween:{display:"x78zum5",justifyContent:"x1qughib",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingEnd:"x11eofan",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingEnd:"x11eofan",$$css:!0}};c=b("cr:3891")==null?void 0:b("bs_caml_option").some(b("cr:3891"));d=b("cr:4725")==null?void 0:b("bs_caml_option").some(b("cr:4725"));function k(a,c,d,e){var f=a.replySnippet;f=f!==void 0?f!=="":!1;var g=b("bs_caml_obj").caml_equal(a.replySourceTypeV2,b("LSMessageReplySourceTypeV2.bs").forward);if(f){f=d(a,e);if(f!==null)return b("bs_caml_option").some(f);else return}if(!g)return;d=c(a,e);if(d!==null)return b("bs_caml_option").some(d)}function a(a){var c=a.isFirstMessageInGroup,d=a.isGroupThread,e=a.message,f=a.outgoing,g=a.renderForwardSnippet,l=a.renderPinnedText,m=a.renderReplySnippet,n=a.renderSenderName,o=a.renderTextWrapper,p=a.renderTimestamp;a=a.alwaysRenderSenderName;a=a!==void 0?a:!1;var q=b("MWPMessageIsReply.bs")(e);g=k(e,g,m,f);m=a||d&&c&&!f&&!q;a=p!==void 0?j.spaceBetween:!1;var r;d=0;var s;g!==void 0?r=i.jsx("div",{className:(h||(h=b("stylex")))(j.header,f?j.alignEnd:!1),role:"none",children:i.jsx(b("MWPMessageListColumn.bs").WithGutters,{shrinkwrap:!0,children:b("bs_caml_option").valFromOption(g)})}):b("cr:3891")==null?r=m?b("bs_curry")._1(n,e):i.jsx(b("MWPAccessibleEyebrowsText.react"),{message:e,outgoing:f}):(s=b("cr:3891"),d=1);d===1&&(r=i.jsx(s.make,{message:e,outgoing:f,renderPinnedText:function(a){return b("bs_curry")._2(l,a.message,a.showDivider)},renderTextWrapper:o,shouldRenderSenderName:m}));q=i.jsx(i.Fragment,{children:r});n=g!==void 0?j.timestampWithSnippet:j.timestamp;d=i.jsx(i.Fragment,{children:!(b("cr:4725")==null)&&p!==void 0?i.jsx(b("cr:4725"),{message:e,renderText:o,renderTimestamp:p,xstyle:n}):null});if(c)return i.jsxs(b("BaseHeading.react"),{xstyle:a,children:[q,d]});else return q}e=a;f.styles=j;f.mWMessageEyebrows=c;f.mwpBaseMessageRowHeaderTimestamp=d;f.useSnippet=k;f.make=e}),null);
__d("MWPMessageListRowWithKeyboardInteractions.bs",["fbt","BaseHeadingContextWrapper.react","CometPressable.react","CometScreenReaderText.react","CometTimestamp.react","FocusInertRegion.react","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.bs","MWMessageCellKeyCommands.bs","MWMessageTableFocusTable.bs","MWPBaseMessageListRow.bs","MWPGating.bs","MWPMessageAuthor.bs","MWV2MessageListIsRowModalContext.bs","MWV2MessageRowActionsContext.bs","MWV2MessageRowIsRowFocusedContext.bs","ReactDOMComet","StylexHelpers.bs","bs_caml_int64","bs_caml_option","bs_curry","focusScopeQueries","gkx","react","setTimeout","stylex","useCometTheme","useCometUniqueID","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"x152obne",end:"xlr8s2x",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",position:"x10l6tqk",top:"x1qiirwl",transform:"x105ttfm",zIndex:"x1vjfegm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},row:{position:"x1n2onr6",$$css:!0}};function k(a){}function l(a){var b=a.key;if(b==="ArrowUp"||b==="ArrowDown"||b==="ArrowLeft"||b==="ArrowRight"||b==="PageUp"||b==="PageDown"||b==="Home"||b==="End"){a.preventDefault();return}}var m=h._("__JHASH__U5V4JiyTDSI__JHASH__"),n=h._("__JHASH__oYKnPpg2Bpz__JHASH__"),o=h._("__JHASH__ctLNxPXr8we__JHASH__"),p=i.forwardRef(function(a,b){var d=a.text,e=a.xstyle,f=a.focusable,g=a.ariaLabel,h=a.onPress;a=c("useCometTheme")("invert");var k=a[1];g={"aria-label":g,children:i.jsx(c("MDSTextPairing.react"),{body:d,bodyColor:"primary",level:4}),focusable:f,onPress:function(a){return h()},xstyle:function(a){return[k,j.enterModalButton,e]}};d=b==null?void 0:c("bs_caml_option").some(b);d!==void 0&&(g.ref=c("bs_caml_option").valFromOption(d));return c("bs_curry")._1(a[0],{children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},g))})});b={make:p};function a(a){var b=a.children,e=a.domElementRef,f=a.isDialogOpened,g=a.isFocused,q=a.isModal,r=a.message,s=a.messageDomID,t=a.nextMessage,u=a.outgoing,v=a.prevMessage,w=a.setFocused,x=a.setHovered,y=a.setIsDialogOpened,z=a.stopHoveringRef;a=a.theme;var A=i.useContext(d("MWV2MessageListIsRowModalContext.bs").context),B=i.useRef(null),C=c("useCometUniqueID")(),D=i.useCallback(function(a){c("bs_curry")._1(A,function(a){return r.messageId}),c("setTimeout")(function(a){d("FocusRegion.react").focusRegionById(C,d("focusScopeQueries").tabbableScopeQuery)},0)},[A,r.messageId,C]),E=function(a){c("bs_curry")._1(A,function(a){return""});a=B.current;if(!(a==null))return a.focus()},F=c("CometTimestamp.react").getTimestamp(c("useServerTime")(),new Date(c("bs_caml_int64").to_float(r.timestampMs))),G=d("MWPMessageAuthor.bs").useAuthorName(r);G=G[0];u=u?h._("__JHASH__g90cYI08lR4__JHASH__"):G!==void 0?G:h._("__JHASH__I4KHPAQ-RAf__JHASH__");var H=c("useCometUniqueID")(),I=i.jsx(c("CometScreenReaderText.react"),{id:H,text:h._("__JHASH__BGN2Md9i0L4__JHASH__",[h._param("Stringified timestamp of the incoming message",F),h._param("Name of the author of the incoming message",u)])}),J=c("useCometUniqueID")(),K=i.useRef(null),L=d("MWPGating.bs").isDualColumnMessageListEnabled()||c("gkx")("5093"),M=c("gkx")("3598"),N=i.useRef(k),O=i.useRef(k),P=i.useRef(k),Q=i.useRef(k);G=i.useMemo(function(){return{isDialogOpened:f,setFocused:w,setIsDialogOpened:y}},[w,y,f]);F=i.useMemo(function(){return{forwardMessage:P,openReactionsMenu:N,removeMessage:Q,replyToMessage:O}},[N,O]);u={children:i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[1],{children:i.jsx(c("FocusWithinHandler.react"),{onFocusChange:function(a){if(g!==a){c("bs_curry")._1(w,function(b){return a});return c("bs_curry")._1(A,function(b){if((a||f)&&q)return r.messageId;else return""})}},onFocusVisibleChange:function(b){g!==b&&c("bs_curry")._1(w,function(a){return b});var a=K.current;if(b&&!(a==null)){c("setTimeout")(function(b){try{return a.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(b){return a.scrollIntoView(!1)}},0);return}},children:function(a,e){a=i.jsx(d("MWMessageTableFocusTable.bs").FocusTable[2],{children:i.jsx("div",{className:c("stylex")(j.cell,q?j.cellModal:!1,e?j.cellFocusVisible:!1),"data-release-focus-from":"CLICK","data-scope":d("MWMessageTableFocusTable.bs").scopeID,ref:B,role:"gridcell",tabIndex:0,children:i.jsx(c("FocusInertRegion.react"),{disabled:q,focusQuery:d("focusScopeQueries").tabbableScopeQuery,children:q?i.jsxs(i.Fragment,{children:[i.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:d("focusScopeQueries").tabbableScopeQuery,id:C,recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:i.jsx(c("KeyCommandHandler.react"),{onKeyDown:l,children:i.jsxs("div",{"aria-describedby":s,"aria-labelledby":H,id:J,role:"dialog",children:[b,q?I:null,i.jsx(p,{ariaLabel:n,focusable:!0,onPress:E,text:h._("__JHASH__PEyi9JodUw1__JHASH__"),xstyle:j.enterModalButtonVisible})]})})}),d("ReactDOMComet").createPortal(i.jsx("div",{"aria-owns":J}),document.body)]}):i.jsxs(i.Fragment,{children:[b,L?null:i.jsx(p,{ariaLabel:m,focusable:!0,onPress:D,ref:K,text:o,xstyle:e?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})]})})})});return i.jsxs(i.Fragment,{children:[i.jsx(d("MWMessageCellFocusTable.bs").keyCommands,{onEnter:q?void 0:D,onEscape:q?E:void 0,onSpace:q?void 0:D,children:M?i.jsx(d("MWMessageCellKeyCommands.bs").keyCommands,{message:r,children:a}):a}),L?i.jsx("div",{role:"gridcell",children:i.jsx(p,{ariaLabel:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):m,focusable:q,onPress:D,ref:K,text:q?h._("__JHASH__C-7ahaHTUI7__JHASH__"):o,xstyle:e&&!q?j.enterModalButtonVisible:d("StylexHelpers.bs").styles.visuallyHidden})}):null]})}})}),message:r,nextMessage:t,prevMessage:v,role:"row",setHovered:x,stopHoveringRef:z,xstyle:j.row};e!==void 0&&(u.domElementRef=c("bs_caml_option").valFromOption(e));a!==void 0&&(u.theme=c("bs_caml_option").valFromOption(a));return i.jsx(c("BaseHeadingContextWrapper.react"),{children:i.jsx(d("MWV2MessageRowIsRowFocusedContext.bs").Provider.make,{value:G,children:i.jsx(d("MWV2MessageRowActionsContext.bs").Provider.make,{value:F,children:i.jsx(d("MWPBaseMessageListRow.bs").make,babelHelpers["extends"]({},u))})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=k;a=l;var q=m,r=n,s=o;b=b;e=e;g.noop=f;g.onKeyDown=a;g.enterModalLabel=q;g.exitModalLabel=r;g.enterLabel=s;g.ModalButton=b;g.make=e}),98);
__d("MWPMessageListText.bs",["BaseTheme.react","CometTextWithEntities.react","LSMessageReplySourceTypeV2.bs","MWBaseTheme.bs","MWChatTextTransform.bs","MWPVisibleMessageContext.bs","bs_caml_obj","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={forwarded:{borderStartStyle:"x26u7qi",borderStartWidth:"x7g060r",fontSize:"x1nxh6w3",lineHeight:"x1sibtaa",marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},forwardedIncoming:{borderStartColor:"xa7jiu",color:"x12scifz",$$css:!0},forwardedOutgoing:{borderStartColor:"x16b4vue",color:"xkxfvhb",$$css:!0},regular:{fontSize:"x6prxxf",lineHeight:"x1fc57z9",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0},regularIncoming:{color:"xzsf02u",$$css:!0},regularOutgoing:{color:"x14ctfv",$$css:!0}};e={"mw-blockquote-border-start-color":"var(--placeholder-text)"};var j={"mw-blockquote-border-start-color":"var(--placeholder-text)"},k={dark:j,light:e,type:"VARIABLES"};function a(a){if(a)return d("MWBaseTheme.bs").empty;else return k}function b(a){var b=a.message,e=a.outgoing,f=a.ranges,g=a.renderers,j=a.text,l=a.transforms,m=a.xstyleForText;a=a.xstyleForForwarded;l=l!==void 0?l:d("MWChatTextTransform.bs").epdTextTransforms;m=m!==void 0?c("bs_caml_option").valFromOption(m):!1;a=a!==void 0?c("bs_caml_option").valFromOption(a):!1;d("MWPVisibleMessageContext.bs").useHook();b=c("bs_caml_obj").caml_equal(b.replySourceTypeV2,d("LSMessageReplySourceTypeV2.bs").forward);var n=e?d("MWBaseTheme.bs").empty:k;if(j!==void 0)if(b){b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("blockquote",{className:c("stylex")(i.forwarded,e?i.forwardedOutgoing:i.forwardedIncoming,a),dir:"auto",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else{b={ranges:f,text:j,transforms:l,withParagraphs:!1};g!==void 0&&(b.renderers=c("bs_caml_option").valFromOption(g));a=h.jsx("div",{className:c("stylex")(i.regular,e?i.regularOutgoing:i.regularIncoming,m),dir:"auto",role:"none",children:h.jsx(c("CometTextWithEntities.react"),babelHelpers["extends"]({},b))})}else a=null;return h.jsx(c("BaseTheme.react"),{config:n,role:"none",children:a})}b.displayName=b.name+" [from "+f.id+"]";j=b;e=k;f=a;b=j;g.ougtoingTheme=d("MWBaseTheme.bs").empty;g.incomingTheme=e;g.getTheme=f;g.make=b}),98);
__d("MWPMessageSenderName.bs",["fbt","MWPMessageAuthor.bs","MWPMessageListColumn.bs","cr:5152","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");c={container:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x15smj1u",marginTop:"x1k70j0n",paddingBottom:"x1120s5i",paddingStart:"x53iox2",$$css:!0}};function j(a){a=a.children;return i.jsx("div",{className:"xi81zsa x1ncwhqj x15smj1u x1k70j0n x1120s5i x53iox2","data-testid":void 0,children:a})}j.displayName=j.name+" [from "+f.id+"]";e={make:j,styles:c};function a(a){a=a.message;var c=d("MWPMessageAuthor.bs").useAuthorName(a);c=c[0];var e=h._("__JHASH__RNW_2o_rk9o__JHASH__"),f=a.takedownState;return f!==void 0?i.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:i.jsx(j,{children:e})}):i.jsx(i.Fragment,{children:c!==void 0?i.jsx(d("MWPMessageListColumn.bs").Shrinkwrap,{children:i.jsxs(j,{children:[c,b("cr:5152")?i.jsxs(i.Fragment,{children:[" ",i.jsx(b("cr:5152"),{senderId:a.senderId})]}):null]})}):null})}f=a;c=e;a=f;g.GroupHeading=c;g.make=a}),98);/*FB_PKG_DELIM*/
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.ftr(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var g=a.done;a=a.value;return g?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",[0,73],d[1],f,f,[0,0],[0,0],f,f,[0,0]))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchBanners",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"in_thread_banner_fetch_activity_banners_queue",[0,72],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async([0,2285622730],f).then(function(a){return d[4]=a})},function(a){return c.localizeV2Async([0,1919524925],f).then(function(a){return d[5]=a})},function(a){return c.sp(b("LSIssueNewError"),f,[0,1545093],d[4],d[5],f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"marketplace_server_mutation_cta",[0,279],d[3],f,f,[0,0],[0,0],f,f,[0,0])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),"ctm_ad_context",[0,235],d[1],f,f,[0,0],[0,0],f,f,[0,0])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5436864742990701"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5046975135324826"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5048846461842440"}),null);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4823686477743600"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint",["CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQueryReference:{parameters:c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialogQuery$Parameters"),variables:{id:a.threadId,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.react").__setRef("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint")};g["default"]=a}),98);
__d("MWLSAdContextCtaParser.bs",["JSResource","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=new Set(["ads_context"]);function a(a){var b=h.useRef(null);a=c("useCometLazyDialog")(c("JSResource")("MWCTMAdContextDialog.react").__setRef("MWLSAdContextCtaParser.bs"));var d=a[0];return function(a,c){var e=c.ctaType;if(e==="ads_context")return{_0:function(b){return d({adId:c.ctaId,onClose:function(a){},threadKey:a.banner.threadKey},function(a){})},_1:b,TAG:1};else return{_0:void 0,TAG:3}}}g.adContextCta=b;g.useHook=a}),98);
__d("MWLSEnsureAdContextExists.bs",["LS.bs","LSRequestAdContextFromThreadKey","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKey")(e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(a)},[e,b])}g.useHook=a}),98);
__d("MWChatHeaderDetailsSubtitleIcons.bs",["cr:1737008"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMWChatHeaderDetailsSubtitleIcons$OR$TetraMWChatHeaderDetailsSubtitleIcons$requireCond=b("cr:1737008"),g.Muted=b("cr:1737008").Muted}),98);
__d("MWChatHeaderDetailsSubtitle.bs",["fbt","ix","CometMiddot.react","CometTintedIcon.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.bs","MWChatHeaderDetailsSubtitleIcons.bs","MWLSThread.bs","MWThread_DEPRECATED.bs","MWTooltip.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.actorAttribution,d=a.isActiveNow,e=a.isMuted;a=a.isOngoingCall;var f=b("MWThread_DEPRECATED.bs").useIdExn();f=b("MWThread_DEPRECATED.bs").toThreadKey(f);f=b("MWLSThread.bs").useThread(f);var i,k=0;f!==void 0&&b("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType)?i=j.jsx(b("MWCMInboxHeaderCommunityGroupName.react"),{thread:f}):k=1;k===1&&(i=a?g._("__JHASH__440_c1t5rby__JHASH__"):d?g._("__JHASH__u26x21RxFUk__JHASH__"):c!==void 0?c:null);f=e&&i!==null?j.jsx(b("CometMiddot.react"),{}):null;k=e?j.jsx(b("MWTooltip.react"),{align:"start",position:"above",tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__"),children:j.jsx(b("CometTintedIcon.react"),{color:"secondary",icon:b("fbicon")._(h("636130"),12),testid:void 0})}):null;return j.jsxs(j.Fragment,{children:[i,f,k]})}function c(a){return g._("__JHASH__u26x21RxFUk__JHASH__")}function d(a){a=a.forceInlineDisplay;var c={align:"start",children:b("bs_curry")._1(b("MWChatHeaderDetailsSubtitleIcons.bs").Muted.icon),position:"above",tooltip:g._("__JHASH__XpvJmcPfz_-__JHASH__")};a!==void 0&&(c.forceInlineDisplay=a);return j.jsx(b("MWTooltip.react"),babelHelpers["extends"]({},c))}d.displayName=d.name+" [from "+e.id+"]";function k(a){return g._("__JHASH__440_c1t5rby__JHASH__")}e=a;a=c;c=d;d=k;f.make=e;f.activeNow=a;f.mutedIcon=c;f.ongoingCall=d}),null);
__d("MWChatRTCButtonIcons.bs",["cr:1755417"],(function(a,b,c,d,e,f,g){"use strict";g.$MDSMWChatRTCButtonIcons$OR$TetraMWChatRTCButtonIcons$requireCond=a=b("cr:1755417");g.$$Audio=a.$$Audio;g.Video=a.Video;g.Info=a.Info}),98);
__d("TetraMWChatHeaderDetailsSubtitleIcons.bs",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){return i.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";b={icon:a};g.Muted=b}),98);
__d("TetraMWChatRTCButtonIcons.bs",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return h.jsxs("svg",{height:b,role:"presentation",viewBox:"-5 -5 30 30",width:b,children:[h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648a15.9 15.9 0 011.713 1.147c.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:a}),h.jsx("path",{d:"M10.952 14.044c.074.044.147.086.22.125a.842.842 0 001.161-.367c.096-.195.167-.185.337-.42.204-.283.552-.689.91-.772.341-.078.686-.105.92-.11.435-.01 1.118.174 1.926.648.824.484 1.394.898 1.713 1.147.224.175.37.43.393.711.042.494-.034 1.318-.754 2.137-1.135 1.291-2.859 1.772-4.942 1.088a17.47 17.47 0 01-6.855-4.212 17.485 17.485 0 01-4.213-6.855c-.683-2.083-.202-3.808 1.09-4.942.818-.72 1.642-.796 2.136-.754.282.023.536.17.711.392.25.32.663.89 1.146 1.714.475.808.681 1.491.65 1.926-.024.31-.026.647-.112.921-.11.35-.488.705-.77.91-.236.17-.226.24-.42.336a.841.841 0 00-.368 1.161c.04.072.081.146.125.22a14.012 14.012 0 004.996 4.996z",fill:"none",stroke:a})]})}a.displayName=a.name+" [from "+f.id+"]";e={icon:a};function b(a,b,c){c=c!==void 0?c:!1;var d=c?"-3":"-5";return h.jsxs("svg",{height:b,role:"presentation",viewBox:d+" -5 30 30",width:b,children:[h.jsx("path",{d:"M19.492 4.112a.972.972 0 00-1.01.063l-3.052 2.12a.998.998 0 00-.43.822v5.766a1 1 0 00.43.823l3.051 2.12a.978.978 0 001.011.063.936.936 0 00.508-.829V4.94a.936.936 0 00-.508-.828zM10.996 18A3.008 3.008 0 0014 14.996V5.004A3.008 3.008 0 0010.996 2H3.004A3.008 3.008 0 000 5.004v9.992A3.008 3.008 0 003.004 18h7.992z",fill:a}),c?h.jsx("circle",{className:"x1xgahvj",cx:"24",cy:"10",r:"2"}):null]})}b.displayName=b.name+" [from "+f.id+"]";d={icon:b};function c(a,b){return h.jsx("svg",{height:"24px",name:"icon",role:"presentation",viewBox:"0 0 36 36",width:"24px",children:h.jsx("g",{transform:"translate(18,18)scale(1.2)translate(-18,-18)",children:h.jsx("path",{d:"M18,10 C16.6195,10 15.5,11.119 15.5,12.5 C15.5,13.881 16.6195,15 18,15 C19.381,15 20.5,13.881 20.5,12.5 C20.5,11.119 19.381,10 18,10 Z M16,25 C16,25.552 16.448,26 17,26 L19,26 C19.552,26 20,25.552 20,25 L20,18 C20,17.448 19.552,17 19,17 L17,17 C16.448,17 16,17.448 16,18 L16,25 Z M18,30 C11.3725,30 6,24.6275 6,18 C6,11.3725 11.3725,6 18,6 C24.6275,6 30,11.3725 30,18 C30,24.6275 24.6275,30 18,30 Z",fill:a,stroke:a},"lens")})})}c.displayName=c.name+" [from "+f.id+"]";a={icon:c};g.$$Audio=e;g.Video=d;g.Info=a}),98);
__d("MWChatConnectionStatus.bs",["fbt","MWText.react","MqttState.bs","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return i.jsx("div",{className:"x17zy6dr x1r4l5d8 x1lliihq xz9dl7a xsag5q8 x2b8uid",children:i.jsx(c("MWText.react"),{type:"meta4",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){a=a.connectionStatus;if(a===d("MqttState.bs").connected)return null;else if(a===d("MqttState.bs").disconnected)return j(h._("__JHASH__c91Lbfy37OX__JHASH__"));else if(a===d("MqttState.bs").connecting)return j(h._("__JHASH__t43xAFuvvRz__JHASH__"));else return null}b=a;g.renderStatus=j;g.make=b}),98);
__d("MWChatConnectionStatusCard.bs",["LSPlatformConnectionStatusProvider","MWChatConnectionStatus.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("LSPlatformConnectionStatusProvider").Context);return h.jsx(b("MWChatConnectionStatus.bs").make,{connectionStatus:a.status})}a.displayName=a.name+" [from "+e.id+"]";c=a;f.make=c}),null);
__d("MWChatEncryptedBackupsUpsellWrapper.react",["cr:1920","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.children;var c=b("cr:1920")==null?void 0:b("cr:1920")();return(c=c)!=null?c:h.jsx(h.Fragment,{children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSPresenceStatusText.bs",["fbt","CometRelativeTimestamp.react","MAWGating","MWChatContactPresenceHook.bs","MWPActor.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_curry","bs_int64","cr:4714","cr:4715","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("__JHASH__KJ9BpmLEozf__JHASH__");function k(a){var b=a.threadKey;a=c("bs_int64").to_string(b);var e=c("useReStore")(),f=d("MWPActor.bs").useActor();return d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return a.contactId})},[e,f,a]))}function l(a){var b=a.contactId,e=a.renderNullState;a=a.renderWrapper;var f=d("MWChatContactPresenceHook.bs").useIsActive(b);b=d("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(b);if(f)return c("bs_curry")._1(a,j);else if(b!==void 0)return c("bs_curry")._1(a,h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",i.jsx(c("CometRelativeTimestamp.react"),{date:new Date(b),format:"minimized"}))]));else return c("bs_curry")._1(e)}e={make:l};function m(a){var b=a.renderNullState,d=a.renderWrapper;a=a.thread;a=k(a);if(a.length!==1)return c("bs_curry")._1(b);a=a[0];return i.jsx(l,{contactId:a,renderNullState:b,renderWrapper:d})}m.displayName=m.name+" [from "+f.id+"]";f={PresenceText:e,make:m};function n(a){var b=a.renderNullState,e=a.renderWrapper;a=a.thread;a=k(a);a=d("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return c("bs_curry")._1(e,j);else return c("bs_curry")._1(b)}e={make:n};function o(a){return a}function p(a){return null}function a(a){var e=a.thread,f=a.renderWrapper;a=a.renderNullState;f=f!==void 0?f:o;a=a!==void 0?a:p;var g=e.threadType;if(c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)&&d("MAWGating").isArmadillo()&&d("MAWGating").isE2EEAttributionAndPresenceEnabled())return b("cr:4715")==null?i.jsx(m,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4715"),{renderNullState:a,renderWrapper:f,thread:e});else if(c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").group)||c("bs_caml").i64_eq(g,d("MessagingThreadType.bs").secureMessageOverWaGroup)&&d("MAWGating").isArmadillo()&&d("MAWGating").isE2EEAttributionAndPresenceEnabled())return b("cr:4714")==null?i.jsx(n,{renderNullState:a,renderWrapper:f,thread:e}):i.jsx(b("cr:4714"),{renderNullState:a,renderWrapper:f,thread:e});else return null}a=a;f=f;e=e;var q=o,r=p;a=a;g.OneOnOnePresence=f;g.GroupPresence=e;g.defaultRenderWrapper=q;g.defaultRenderNullState=r;g.make=a}),98);
__d("LSRtcCallState.re",["LSRtcCallState.bs"],(function(a,b,c,d,e,f){c=(a=b("LSRtcCallState.bs")).noOngoingCall;f.noOngoingCall=c;d=a.audioGroupCall;f.audioGroupCall=d;e=a.videoGroupCall;f.videoGroupCall=e;b=a.video1to1Call;f.video1to1Call=b;c=a.audio1to1Call;f.audio1to1Call=c}),null);
__d("LSContactVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.contact,e=a.icon;a=a.size;b=d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").verified,b);if(b!==void 0&&b)return h.jsx("span",{className:"xurb0ha",children:e!==void 0?c("bs_caml_option").valFromOption(e):a!==void 0?h.jsx(c("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"}):null});else return null}b=a;e=b;g.make=e}),98);
__d("LSVerificationBadge.bs",["LSContactVerificationBadge.bs","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_caml","bs_caml_option","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.icon,e=a.size,f=a.thread,g=c("useReStore")(),i=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:f.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,i)}),function(a){var b=d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:a.contactId,tl:0}));return[a,b]}),2)},[g,JSON.stringify(f.threadKey),i]));var j=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:i,tl:0})},[g,i])),k=a.length;if(k!==1){if(k!==0)return null;if(j===void 0)return null;k=j}else{j=a[0];a=j[1];if(a===void 0)return null;k=a}j={contact:k};e!==void 0&&(j.size=c("bs_caml_option").valFromOption(e));b!==void 0&&(j.icon=c("bs_caml_option").valFromOption(b));return h.jsx(d("LSContactVerificationBadge.bs").make,babelHelpers["extends"]({},j))}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWInboxHeaderDetails",["CometMiddot.react","CometPlaceholder.react","I64","LSPresenceStatusText.bs","LSRtcCallState.re","LSThreadTitle.bs","LSVerificationBadge.bs","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.bs","MWChatCalculateIsMutedFromExpireTime.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWSeparatorContainer.react","MWText.react","MWVerticalRhythm","MessagingThreadType.re","MessengerMuteUtils.bs","ReQL","ReQLSuspense","cr:4703","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingEnd:"x10ogl3i",$$css:!0}};function a(a){var e=a.color,f=a.thread;a=a.threadNameSize;var g=c("useReStore")(),j=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(f.threadKey).filter(d("MWLSContactTypeExactUtils.bs").isIgContact)},[g,f.threadKey]),k=(j==null?void 0:j.secondaryName)!=null&&(j==null?void 0:j.secondaryName)!==""!==""?j.secondaryName:null;j=d("MWCMThreadTypes.bs").isJoinedCMThread(f.threadType);var l=d("I64").equal(f.threadType,c("MessagingThreadType.re").discoverablePublicChat),m=d("MessengerMuteUtils.bs").calcMuteUntilMs(f),n=d("MWChatCalculateIsMutedFromExpireTime.bs").useHook(m);m=!d("I64").equal(f.ongoingCallState,c("LSRtcCallState.re").noOngoingCall);var o=h.jsx("div",{className:"x1k2j06m x10ogl3i",children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("CometMiddot.react"),{})})}),p=h.jsx(d("LSThreadTitle.bs").make,{thread:f});return h.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",children:[h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:h.jsxs(c("MWText.react"),{align:"center",color:e,isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:[p,h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("LSVerificationBadge.bs").make,{size:"small",thread:f})})]})}),l?b("cr:4703")!=null&&f.memberCount!=null?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:8}),h.jsx(c("MWText.react"),{align:"center",numberOfLines:1,type:"meta3",children:h.jsx(b("cr:4703"),{count:d("I64").to_int32(f.memberCount)})})]}):null:j?h.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a})})]})},thread:f}):m?h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:i.item,children:[k!=null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:h.jsx(c("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{})}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]}):h.jsx(d("LSPresenceStatusText.bs").make,{renderNullState:function(){return h.jsxs(c("MWSeparatorContainer.react"),{beforeContent:h.jsx(c("MWVerticalRhythm"),{height:6}),separator:o,xstyle:i.item,children:[k!=null?h.jsxs(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:[" ",k," "]}):null,n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWVerticalRhythm"),{height:6}),h.jsxs(c("MWSeparatorContainer.react"),{separator:o,xstyle:i.item,children:[k!==null?h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:k}):null,h.jsx(c("MWText.react"),{align:"center",color:e,numberOfLines:1,type:"meta3",children:a}),n?h.jsx(c("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]})]})},thread:f})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSContactLink.bs",["CometLink.react","CometPressable.react","CurrentEnvironment","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.secondaryName,e=d("MWLSContactTypeExactUtils.bs").isIgContact(a);return b!==void 0&&e?"https://www.instagram.com/"+b:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:c("bs_int64").to_string(a.id)})}var i={expanding:{display:"x78zum5",$$css:!0}};function b(a){var b=a.isText,e=a.children,f=a.contact,g=a.label;a=a.testid;b=b!==void 0?b:!0;var j=g!==void 0?c("bs_caml_option").some(g):void 0,k=f.secondaryName,l=d("MWLSContactTypeExactUtils.bs").isIgContact(f);if(k!==void 0&&l){l="https://www.instagram.com/"+k;if(b){k={children:e,href:l,target:"_blank"};g!==void 0&&(k.label=g);a!==void 0&&(k.testid=a);return h.jsx(c("CometLink.react"),babelHelpers["extends"]({},k))}k={children:e,expanding:!0,linkProps:{target:"_blank",url:l},overlayRadius:6,xstyle:function(a){return[i.expanding]}};j!==void 0&&(k.label=c("bs_caml_option").valFromOption(j));a!==void 0&&(k.testid=c("bs_caml_option").valFromOption(a));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},k))}l=(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildURL({vanity:c("bs_int64").to_string(f.id)});k=c("CurrentEnvironment").facebookdotcom?void 0:"_blank";if(b){f={children:e,href:l};k!==void 0&&(f.target=c("bs_caml_option").valFromOption(k));g!==void 0&&(f.label=g);a!==void 0&&(f.testid=a);return h.jsx(c("CometLink.react"),babelHelpers["extends"]({},f))}b={url:l};k!==void 0&&(b.target=c("bs_caml_option").valFromOption(k));g={children:e,expanding:!0,linkProps:b,overlayRadius:6,xstyle:function(a){return[i.expanding]}};j!==void 0&&(g.label=c("bs_caml_option").valFromOption(j));a!==void 0&&(g.testid=c("bs_caml_option").valFromOption(a));return h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},g))}b.displayName=b.name+" [from "+f.id+"]";e=b;f=a;b=e;g.getHref=f;g.make=b}),98);
__d("MWInboxHeaderDetailsContainer.bs",["CometLazyDialogTrigger.react","CometPlaceholder.react","CometPressable.react","JSResourceForInteraction","LSContactLink.bs","LSMessagingThreadTypeUtil.bs","MDSRow.react","MDSRowItem.react","MWCMUseFolder.bs","MWInboxHeaderDetails","MWThreadPicture.bs","MWUseAriaLabelForThread.bs","MWV2GetOtherUser.bs","ReQL.bs","ReQLSuspense","bs_caml_option","bs_curry","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={title:{maxWidth:"x193iq5w",$$css:!0}};function j(a){var b=a.children,e=a.thread,f=h.useRef(null),g=c("useReStore")();a=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").leftJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("participants")),{hd:e.threadKey,tl:0}),d("ReQL.bs").fromTableAscending(g.table("contacts"))),8)},[e.threadKey]);a=d("MWV2GetOtherUser.bs").useOtherUser(e,a);var j=d("MWCMUseFolder.bs").useHook(e),k=d("MWUseAriaLabelForThread.bs").useHook(e);if(a!==void 0){a=a[1];return h.jsx(d("LSContactLink.bs").make,{contact:a,isText:!1,label:a.name,children:b})}if(!d("LSMessagingThreadTypeUtil.bs").isGroup(e.threadType))return b;a={onClose:function(a){}};j!==void 0&&(a.folder=c("bs_caml_option").valFromOption(j));return h.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:a,dialogResource:c("JSResourceForInteraction")("MWLSGroupMembershipDialog.react",{"class":"fluid",name:"MWLSGroupMembershipDialog"}).__setRef("MWInboxHeaderDetailsContainer.bs"),children:function(a){return h.jsx(c("CometPressable.react"),{"aria-label":k,onPress:function(b){return c("bs_curry")._1(a)},overlayDisabled:!0,ref:f,xstyle:function(a){return[i.title]},children:b})}})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={detailsContainer:{paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color,i=a.thread;a=a.isContainerPressable;b=b!==void 0?b:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";a=a!==void 0?a:!0;e=h.jsx(c("MDSRowItem.react"),{children:h.jsx(d("MWThreadPicture.bs").make,{badgeSize:e,photoSize:b,thread:i,withAltText:!1})});b={thread:i,threadNameSize:f};g!==void 0&&(b.color=c("bs_caml_option").valFromOption(g));f=h.jsx(c("MDSRowItem.react"),{expanding:!0,xstyle:k.detailsContainer,children:h.jsx(c("MWInboxHeaderDetails"),babelHelpers["extends"]({},b))});return h.jsx(c("MDSRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:a?h.jsxs(j,{thread:i,children:[e,f]}):h.jsxs(h.Fragment,{children:[h.jsx(j,{thread:i,children:e}),f]})})})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.ThreadPressable=f;g.make=a}),98);
__d("MWInboxInfoSharedContentQPLLogger.bs",["QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1};function a(a){var b;switch(a.TAG){case 0:b="side_panel_media";break;case 1:b="side_panel_files";break;case 2:b="side_panel_links";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{entrypoint:b}},cancelOnUnload:!0})}function b(a){if(h.contents===!1){var b;switch(a.TAG){case 0:b="media";break;case 1:b="file";break;case 2:b="link";break}h.contents=!0;c("QPLUserFlow").start(c("qpl")._(778117242,"206"),{annotations:{string:{content_location:"thread",content_type:b,entrypoint:"thread"}},cancelOnUnload:!0})}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{})}function d(a){var b;switch(a.TAG){case 0:b="open_tab_media";break;case 1:b="open_tab_files";break;case 2:b="open_tab_links";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),b,{})}function e(a,b){switch(a.TAG){case 0:c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_media",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{media_count:b}});return;case 1:c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_files",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{files_count:b}});return;case 2:c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"load_tab_links",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{"int":{links_count:b}});return}}function f(a){var b;switch(a.TAG){case 0:b="media";break;case 1:b="file";break;case 2:b="link";break}c("QPLUserFlow").addPoint(c("qpl")._(778117242,"206"),"shared_content_click",{});c("QPLUserFlow").addAnnotations(c("qpl")._(778117242,"206"),{string:{content_location:"side_panel",content_type:b}});var d;switch(a.TAG){case 0:case 1:d=!1;break;case 2:d=!0;break}if(d){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206"));h.contents=!1;return}}function i(a){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"side_panel_navigated_back"}}}),h.contents=!1}function j(a){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"close_info_panel"}}}),h.contents=!1}function k(a){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"navigated_away"}}}),h.contents=!1}function l(a){c("QPLUserFlow").endSuccess(c("qpl")._(778117242,"206")),h.contents=!1}function m(a){c("QPLUserFlow").endCancel(c("qpl")._(778117242,"206"),{annotations:{string:{cancel_reason:"closed_viewer"}}}),h.contents=!1}g.logOpenSidePanel=a;g.logOpenSharedContentFromThread=b;g.logOpenTab=d;g.logLoadTab=e;g.logOpenSharedContentFromSidePanel=f;g.logNavigateBackFromSidePanel=i;g.logCloseInfoPanel=j;g.logNavigateAwaySidePanel=k;g.logOpenContentViewer=l;g.logCloseContentViewer=m}),98);
__d("MWChatInThreadBanner.bs",["CometImageIcon_DEPRECATED.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MDSTextPairing.react","MWText.react","TetraButton.react","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",$$css:!0},image:{marginEnd:"x11i5rnm",$$css:!0},infoLabel:{backgroundColor:"x1qhmfi1",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x4p5aij",paddingEnd:"x150jy0e",paddingBottom:"x1j85h84",paddingStart:"x1e558r4",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function j(a){var b=a.action;a=a.button;var d=a.ctaTitle;switch(b.TAG){case 0:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),{label:d,linkProps:{url:b._0},type:"secondary"})});case 1:var e=b._0,f={label:d,onPress:function(a){return c("bs_curry")._1(e)},type:"secondary"};b._1!==void 0&&(f.ref=c("bs_caml_option").valFromOption(b._1));return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},f))});case 2:return h.jsx(c("MDSRowItem.react"),{xstyle:i.grow,children:c("bs_curry")._1(b._0,function(a,b,e,f,g,i,j){return h.jsx(c("TetraButton.react"),{label:d,onPress:function(a){return c("bs_curry")._1(b)},ref:a,type:"secondary"})})});case 3:c("recoverableViolation")("In thread banner cta not implemented, CTA type: "+a.ctaType+" CTA Title: "+a.ctaTitle,"messenger_web_product");return null}}b={make:j};function a(a){var b=a.banner;a=a.ctaParser;var d=b.banner.iconUrl;d=d!==void 0?h.jsx(c("MDSRowItem.react"),{expanding:!1,children:h.jsx("div",{className:"x11i5rnm",children:h.jsx(c("CometImageIcon_DEPRECATED.react"),{size:24,src:d,style:"circle"})})}):null;var e=h.jsx(c("MDSRowItem.react"),{expanding:!0,children:h.jsx(c("MDSTextPairing.react"),{body:c("bs_belt_Option").getWithDefault(b.banner.titleSectionOne,"")+c("bs_belt_Option").getWithDefault(b.banner.titleSectionTwo,""),bodyLineLimit:1,level:4,meta:b.banner.heading,metaLineLimit:1,metaLocation:"above"})}),f=b.banner.infoLabel;f=f!==void 0?h.jsx(c("MDSRowItem.react"),{children:h.jsx(c("MWText.react"),{type:"meta1",children:h.jsx("span",{className:"x1qhmfi1 x1lcm9me x1yr5g0i xrt01vj x10y3i5r x6ikm8r x10wlt62 x4p5aij x150jy0e x1j85h84 x1e558r4 xlyipyv xuxw1ft",children:f})})}):null;var g=b.leftButton,k=b.rightButton,l,m=0,n;g!==void 0?k!==void 0?l=h.jsxs(c("MDSRow.react"),{paddingTop:8,spacing:4,children:[h.jsx(j,{action:c("bs_curry")._2(a,b,g),button:g}),h.jsx(j,{action:c("bs_curry")._2(a,b,k),button:k})]}):(n=g,m=1):k!==void 0?(n=k,m=1):l=null;m===1&&(l=h.jsx(c("MDSRow.react"),{paddingTop:8,children:h.jsx(j,{action:c("bs_curry")._2(a,b,n),button:n})}));var o=h.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[h.jsxs(c("MDSRow.react"),{children:[d,e,f]}),l]});g=c("bs_belt_Option").map(b.bannerAction,c("bs_curry")._1(a,b));var p;if(g!==void 0)switch(g.TAG){case 0:p=h.jsx(c("CometPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:g._0},xstyle:function(a){return[i.linkBanner]},children:o});break;case 1:var q=g._0;k={children:o,expanding:!0,onPress:function(a){return c("bs_curry")._1(q)}};g._1!==void 0&&(k.ref=c("bs_caml_option").valFromOption(g._1));p=h.jsx(c("CometPressable.react"),babelHelpers["extends"]({},k));break;case 2:p=c("bs_curry")._1(g._0,function(a,b,d,e,f,g,i){return h.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(a){return c("bs_curry")._1(b)},ref:a,children:o})});break;case 3:c("recoverableViolation")("In thread banner cta not implemented: "+c("bs_belt_Option").getWithDefault(c("bs_belt_Option").map(b.bannerAction,function(a){return a.ctaType}),""),"messenger_web_product");p=o;break}else p=o;return h.jsx("div",{className:"xcrg951 x1n2onr6",children:h.jsx("div",{className:"xdppsyt",children:p})})}a.displayName=a.name+" [from "+f.id+"]";e=a;d=b;f=e;g.BannerButton=d;g.make=f}),98);
__d("MWLSEnsureInThreadBannerExists.bs",["LS.bs","LSFetchBanners","MWThreadKey.bs","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")(),e=d("MWThreadKey.bs").useIdMemoizedExn();h.useEffect(function(){var a=b.runInTransaction(function(a){return c("LSFetchBanners")(e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(a)},[e,b])}g.useHook=a}),98);
__d("MWLSExecuteInThreadBannerCta.bs",["LS.bs","LSExecuteCTA","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=c("useReStore")();return h.useCallback(function(a){var e=b.runInTransaction(function(b){return c("LSExecuteCTA")(a,d("LS.bs").make(b))},"readwrite");c("promiseDone")(e)},[b])}g.useHook=a}),98);
__d("MWLSMarketplaceServerMutationCta.bs",["LS.bs","LSServerMutationCta","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useReStore")();return h.useCallback(function(b,e){var f=a.runInTransaction(function(a){return c("LSServerMutationCta")(b,e,d("LS.bs").make(a))},"readwrite");c("promiseDone")(f)},[a])}g.useHook=a}),98);
__d("MWLSMarketplaceCtaParser.bs",["CometLazyPopoverTrigger.react","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint","JSResource","MWLSExecuteInThreadBannerCta.bs","MWLSMarketplaceServerMutationCta.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_curry","bs_int64","bs_js_dict","bs_js_json","react","recoverableViolation","useCometEntryPointDialog","useCometLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var i=new Set(b);e=new Set(b.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function j(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=d("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:f,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,e)}),function(a){return a.contactId})},[JSON.stringify(e),f,b]);a=d("ReQLSubscription.bs").useFirst(a);if(a!==void 0)return c("bs_int64").to_string(a)}function a(a){var b=d("MWLSExecuteInThreadBannerCta.bs").useHook(),e=d("MWLSMarketplaceServerMutationCta.bs").useHook(),f=j(),g=h.useRef(null);a=c("useCometLazyDialog")(c("JSResource")("CometFRX_DEPRECATED.react").__setRef("MWLSMarketplaceCtaParser.bs"));var k=a[0],l=d("MWThreadKey.bs").useIdMemoizedExn();a=c("bs_int64").to_string(l);var m=c("useCometEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),{thread_id:a}),n=m[0];c("useCometEntryPointDialog")(c("CometMarketplaceSellerListingTransactionReportingFromThreadViewDialog.entrypoint"),{threadId:a});m=c("useCometEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),{threadId:a});var o=m[0];m=c("useCometEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),{threadId:a});var p=m[0];return h.useMemo(function(){var a=function a(j,m){var q=m.ctaType;if(q==="marketplace_see_details"||q==="marketplace_banner_open_native"){var r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace see details cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_view_profile"){r=m.webviewUrl;if(r!==void 0)return{_0:r,TAG:0};r=m.deeplinkUrl;if(r!==void 0)return{_0:r,TAG:0};else{c("recoverableViolation")("Marketplace view profile cta without url","messenger_web_product");return{_0:void 0,TAG:3}}}if(q==="marketplace_scaled_rate_seller")if(m.webviewUrl!=null)return{_0:m.webviewUrl,TAG:0};else return{_0:void 0,TAG:3};if(q==="marketplace_more_options"&&j.overflowMenuActions.length>0)return{_0:function(b){return h.jsx(c("CometLazyPopoverTrigger.react"),{align:"end",popoverProps:{ctaParser:function(b){return a(j,b)},menu:j.overflowMenuActions},popoverResource:c("JSResource")("MWLSMarketplacePopoverMenu.react").__setRef("MWLSMarketplaceCtaParser.bs"),children:b})},TAG:2};if(q==="marketplace_report_buyer"||q==="marketplace_report_seller")if(f!==void 0)return{_0:function(a){return k({entryPoint:"REPORT_BUTTON",id:f,location:q==="marketplace_report_buyer"?"marketplace_messenger_report_buyer":"marketplace_messenger_report_seller"},function(a){})},_1:g,TAG:1};else{c("recoverableViolation")("Haven't implemented report buyer/seller for threads with more than 1 person","messenger_web_product");return{_0:void 0,TAG:3}}if(q==="marketplace_mark_as_sold_with_txn_survey"||q==="marketplace_mark_as_sold_with_txn_survey_scaled")return{_0:function(a){return c("bs_curry")._1(b,m.ctaId)},_1:void 0,TAG:1};if(i.has(q))return{_0:function(a){return c("bs_curry")._1(b,m.ctaId)},_1:void 0,TAG:1};if(q!=="marketplace_server_mutation")if(q==="marketplace_label_chat")return{_0:function(a){return n({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_mark_as_paid")return{_0:function(a){return o({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else if(q==="marketplace_create_discount")return{_0:function(a){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return p({threadID:c("bs_int64").to_string(l)},function(a){return c("bs_curry")._1(b,m.ctaId)})},_1:void 0,TAG:1};else return{_0:void 0,TAG:3};r=m.actionContentBlob;var s=r!==void 0?c("bs_belt_Option").getExn(c("bs_js_json").decodeString(c("bs_belt_Option").getExn(c("bs_js_dict").get(c("bs_belt_Option").getExn(c("bs_js_json").decodeObject(JSON.parse(r))),"marketplace_cta_type")))):"";return{_0:function(a){return c("bs_curry")._2(e,l,s)},_1:void 0,TAG:1}};return a},[b,e,f,k,p,n,o,l])}f=e;b=j;e=a;g.marketplaceCta=f;g.useOtherParticipantId=b;g.useHook=e}),98);
__d("MWLSInThreadBannerCtaParser.bs",["MWLSAdContextCtaParser.bs","MWLSMarketplaceCtaParser.bs","bs_curry"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("MWLSMarketplaceCtaParser.bs").useHook(),e=d("MWLSAdContextCtaParser.bs").useHook();return function(a,f){var g=f.ctaType;if(d("MWLSMarketplaceCtaParser.bs").marketplaceCta.has(g))return c("bs_curry")._2(b,a,f);else if(d("MWLSAdContextCtaParser.bs").adContextCta.has(g))return c("bs_curry")._2(e,a,f);else return{_0:void 0,TAG:3}}}g.useHook=a}),98);
__d("MWProactiveWarningNoticeInThreadBanner.react",["ix","CometIcon.react","CometPressable.react","MDSRow.react","MDSRowItem.react","MWText.react","fbicon","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={chevron:{paddingTop:"x1nn3v0j",$$css:!0},container:{backgroundColor:"xcrg951",position:"x1n2onr6",$$css:!0},grow:{flexGrow:"x1iyjqo2",paddingTop:"x1yrsyyn",$$css:!0},image:{paddingTop:"x4p5aij",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0},sheet:{borderBottom:"xdppsyt",$$css:!0},sheetInner:{paddingBottom:"x1a8lsjc",width:"xh8yej3",$$css:!0}};function a(a){var b=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:a.context,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"}),e=b[0],f=function(){};return i.jsx("div",{className:"xcrg951 x1n2onr6",children:i.jsx("div",{className:"xdppsyt",children:i.jsx(c("CometPressable.react"),{expanding:!0,onPress:function(){e({flowCallbacks:{onClose:f}})},xstyle:j.linkBanner,children:i.jsx("div",{className:"x1a8lsjc xh8yej3",children:i.jsxs(c("MDSRow.react"),{children:[i.jsx(c("MDSRowItem.react"),{xstyle:j.image,children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{color:"highlight",icon:d("fbicon")._(h("492713"),16),size:16})})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.grow,children:i.jsx(c("MWText.react"),{type:"body3",children:a.label})}),i.jsx(c("MDSRowItem.react"),{xstyle:j.chevron,children:i.jsx(c("MWText.react"),{type:"body3",children:i.jsx("div",{children:i.jsx(c("CometIcon.react"),{disabled:!0,icon:d("fbicon")._(h("492547"),10),size:10})})})})]})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.bs",["MWChatInThreadBanner.bs","MWLSEnsureAdContextExists.bs","MWLSEnsureInThreadBannerExists.bs","MWLSInThreadBanner.bs","MWLSInThreadBannerCtaParser.bs","MWLSThread.bs","MWProactiveWarningNoticeInThreadBanner.react","MWThreadKey.bs","ReQLSubscription.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:1066","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=b("cr:1066")==null?void 0:c("bs_caml_option").some(b("cr:1066"));var i=b("cr:1066")==null?function(a,b){}:b("cr:1066").useHook;function a(a){d("MWLSEnsureInThreadBannerExists.bs").useHook();d("MWLSEnsureAdContextExists.bs").useHook();var e=c("useReStore")(),f=d("MWThreadKey.bs").useIdMemoizedExn();a=h.useMemo(function(){return d("MWLSInThreadBanner.bs").getInThread(e,f)},[e,f]);a=d("ReQLSubscription.bs").useFirst(a);var g=d("MWLSInThreadBannerCtaParser.bs").useHook(),j=d("MWLSThread.bs").useThread(f),k=c("bs_curry")._2(i,!0,j);if(a===void 0)return null;var l=a.banner.bannerCtaType;if(l!==void 0){if(l==="ads_context")return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g});l=1}else l=1;if(l===1){l=a.banner.cta1Type;var m=a.banner.cta2Type;if(l!==void 0&&m!==void 0){if(l==="proactive_warning_affirmative"||l==="proactive_warning_negative"||m==="proactive_warning_affirmative"||m==="proactive_warning_negative")if(!(b("cr:1066")==null)&&k!==void 0&&j!==void 0&&c("bs_caml").i64_gt(c("bs_belt_Option").getWithDefault(j.proactiveWarningDismissTime,c("bs_caml_int64").zero),c("bs_int64").zero))return h.jsx(c("MWProactiveWarningNoticeInThreadBanner.react"),{context:k.context,label:"See things you can do to stay safe"});else return null;l=2}else l=2;if(l===2)return h.jsx(d("MWChatInThreadBanner.bs").make,{banner:a,ctaParser:g})}}f=a;a=e;e=i;f=f;g.$MWProactiveWarningPayload$OR$null$requireCond=b("cr:1066");g.canfetchProactiveWarningForTopBanner=a;g.useFetchProactiveWarningPaylod=e;g.make=f}),98);
__d("MWChatUnsendNUXReceiverBanner.bs",["fbt","ix","CometLazyDialogTrigger.react","CometSkittleIcon.react","JSResource","MDSRow.react","MDSRowItem.react","MWText.react","TetraButton.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},card:{backgroundColor:"xcrg951",boxShadow:"x7m3og9",position:"x10l6tqk",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=a.onDismiss,e=a.onView;a=h._("__JHASH__6a2Fgvho2wx__JHASH__");var f=h._("__JHASH__ZJi8hPzvWwM__JHASH__");return j.jsxs("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",children:[j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.imageRow],children:j.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d("fbicon")._(i("685851"),16),size:36})}),j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"primary",type:"headline4",children:a})})}),j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWText.react"),{color:"secondary",type:"body4",children:f})})})]})]}),j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("CometLazyDialogTrigger.react"),{dialogProps:{onClose:function(a){}},dialogResource:c("JSResource")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.bs"),children:function(a){return j.jsx(c("TetraButton.react"),{label:h._("__JHASH__LPDl6ep1oBy__JHASH__"),onPress:function(b){c("bs_curry")._1(a);return c("bs_curry")._1(e)},type:"secondary"})}})}),j.jsx(c("MDSRowItem.react"),{xstyle:[k.button],children:j.jsx(c("TetraButton.react"),{label:h._("__JHASH__IRN53cEfYnc__JHASH__"),onPress:b,type:"secondary"})})]})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useCallback,j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("RelayHooks").useRelayEnvironment(),e=i(function(e){c("promiseDone")(d("CometRelay").fetchQuery(b,j,{id:a}).toPromise(),function(a){a=(a=a==null?void 0:(a=a.nux)==null?void 0:a.should_show)!=null?a:!1;e(a)},null)},[b,a]),f=i(function(){d("CometDismissFBNuxMutation").commit(b,a)},[b,a]),g=i(function(){d("CometLogImpressionFBNuxMutation").commit(b,a)},[b,a]);return[e,f,g]}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.bs",["MWChatUnsendNUXReceiverBanner.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_curry","react","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return Date.now()-c("bs_caml_int64").to_float(c("bs_belt_Option").getWithDefault(a.unsentTimestampMs,c("bs_caml_int64").zero))<=1e4}function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")();a=h.useState(function(){return!1});var g=a[0],j=a[1],k=h.useRef(!1),l=h.useRef(!1),m=h.useRef();a=c("useMessengerUnsendNUX")(8568);var n=a[0],o=a[1],p=a[2],q=h.useCallback(function(a){a=m.current;if(a!==void 0){c("bs_curry")._1(a);m.current=void 0;return}},[]);a=h.useCallback(function(a){l.current=!0;c("bs_curry")._1(o);c("bs_curry")._1(q);return c("bs_curry")._1(j,function(a){return!1})},[]);var r=h.useCallback(function(a){var b=!g&&!k.current;if(b&&i(a)){k.current=!0;return c("bs_curry")._1(n,function(a){k.current=!1;if(a)return c("bs_curry")._1(j,function(a){return!0});else{c("bs_curry")._1(q);l.current=!0;return}})}},[b,g]);h.useEffect(function(){if(l.current)return;else{m.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_neq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(r,b._0);case 2:return}});return function(a){c("bs_curry")._1(q);if(g&&!l.current)return c("bs_curry")._1(p)}}},[g,r,e,q]);if(g)return h.jsx(d("MWChatUnsendNUXReceiverBanner.bs").make,{onDismiss:a,onView:a});else return null}b=8568;e=1e4;f=a;a=b;b=e;e=i;f=f;g.cNUX_ID=a;g.cTEN_SECONDS=b;g.isMessageUnsentInLastTenSeconds=e;g.make=f}),98);
__d("MWChatUnsendNUXSender.bs",["JSResource","MWChatUnsendNUXReceiver.bs","MWPActor.bs","MWThreadKey.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","react","useCometLazyDialog","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=d("MWPActor.bs").useActor(),e=d("MWThreadKey.bs").useIdMemoizedExn(),f=c("useReStore")(),g=h.useRef(!1),i=h.useRef(!1),j=h.useRef(!1),k=h.useRef();a=c("useMessengerUnsendNUX")(8598);var l=a[0],m=a[1],n=h.useCallback(function(a){a=k.current;if(a!==void 0){c("bs_curry")._1(a);k.current=void 0;return}},[]),o=h.useCallback(function(a){if(!j.current){j.current=!0;c("bs_curry")._1(n);return c("bs_curry")._1(m)}},[]);a=c("useCometLazyDialog")(c("JSResource")("MWChatUnsendNUXSenderDialog.react").__setRef("MWChatUnsendNUXSender.bs"));var p=a[0],q=h.useCallback(function(a){var b=!g.current&&!i.current;if(b&&d("MWChatUnsendNUXReceiver.bs").isMessageUnsentInLastTenSeconds(a)){g.current=!0;return c("bs_curry")._1(l,function(a){g.current=!1,a?(p({onView:o},function(a){}),i.current=!0):(c("bs_curry")._1(n),j.current=!0)})}},[b,n]);h.useEffect(function(){k.current=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(f.table("messages")),{hd:e,tl:0}),function(a){if(a.isUnsent)return c("bs_caml").i64_eq(a.senderId,b);else return!1}),function(a,b){switch(b.TAG){case 0:case 1:return c("bs_curry")._1(q,b._0);case 2:return}});return n},[e,q,n]);return null}b=8598;e=a;g.cNUX_ID=b;g.make=e}),98);
__d("MWChatVideoPlayerControls.react",["VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerFullscreenControl.react","VideoPlayerHooks","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubber.react","VideoPlayerVolumeControl.react","react","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerDefaultControlsVisibility"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return h.jsx("span",{className:"x12y6twl x1g0ag68",children:a.children})}i.displayName=i.name+" [from "+f.id+"]";function a(a){var b=c("useVideoPlayerDefaultControlsVisibility")(),e=b.isControlsVisible;b=b.onUserInteraction;var f=d("VideoPlayerHooks").usePaused();f=c("useVideoPlayerBigPlayButtonOverlay")({forceVisible:f});var g=f.bigPlayButtonElement;f=f.bigPlayButtonIsVisible;var j=d("VideoPlayerHooks").useIsFullscreen();e=e&&!f;f=h.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:e,children:j?h.jsxs(h.Fragment,{children:[h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerPlaybackControl.react"),{}),h.jsx(c("VideoPlayerPlaybackTimer.react"),{})]}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b}),h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(d("VideoPlayerControlsGroups.react").Contracted,{children:h.jsx(i,{children:h.jsx(c("VideoPlayerPlaybackControl.react"),{})})}),h.jsx(d("VideoPlayerControlsGroups.react").Expanded,{children:h.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:b})}),h.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{children:[a.hideExpandButton?null:h.jsx(i,{children:h.jsx(c("VideoPlayerFullscreenControl.react"),{onUserInteraction:b})}),h.jsx(i,{children:h.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:b})})]})]})});return h.jsxs(h.Fragment,{children:[g,f]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatVideoPlayer.react",["CometProductAttribution","GraphQLVideoAutoplayGatingResult","MWChatVideoAutoplaySettingContext","MWChatVideoPlayerControls.react","VideoPlayerDefaultControls.react","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","getVideoPlayerAutoplayProps","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={link_context:null,rootName:"MWChatMediaRoot.react",tap_point:"unexpected",tracePolicy:"comet.sharedmediaviewer.media",trackingNodes:null},j=function(a,b){switch(a){case"mwchat":return h.jsx(c("MWChatVideoPlayerControls.react"),{hideExpandButton:b===!0});case"default":return h.jsx(c("VideoPlayerDefaultControls.react"),{});case"none":return null;default:return null}};function a(a){var b=a.autoPlaySetting,e=a.controls,f=a.fbid,g=a.hdSrc,k=a.hideExpandButton,l=a.initialForceHD,m=a.originalHeight,n=a.originalWidth;a=a.sdSrc;l=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:g,hdSrcPreferred:(g=l)!=null?g:!1,isExternalMedia:!1,sdSrc:a});g=d("MWChatVideoAutoplaySettingContext").useMWChatVideoAutoplaySetting();if(l==null)return null;a=[{Component:c("VideoPlayerProgressiveImplementationV2.react"),data:l,typename:"VideoPlayerProgressiveImplementation"}];l=c("getVideoPlayerAutoplayProps")(d("GraphQLVideoAutoplayGatingResult").makeGraphQLVideoAutoplayGatingResult("unknown",b!=null?b:g,!0),"respect_user_settings",null);b=c("computeAspectRatio")(n,m);return h.createElement(c("VideoPlayerX.react"),babelHelpers["extends"]({},l,{implementations:a,key:f,loopCount:-1,playerOriginOverride:"messaging",portalingEnabled:!1,productAttribution:{v2:[d("CometProductAttribution").getProductAttributionEntryV2(i)]},subOrigin:"messenger_thread",videoFBID:f,videoPixelsAspectRatio:b}),h.jsx(c("VideoPlayerSurface.react"),{children:j(e,k)}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatRTCButtons.bs",["fbt","CometPressable.react","JSResource","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSContactType.bs","LSMessagingThreadTypeUtil.bs","LSRtcCallState.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWGating","MWChatContactPresenceHook.bs","MWChatIsMessageRequest.bs","MWChatRTCButtonIcons.bs","MWLSFeatureLimitedStatus.bs","MWPActor.bs","MWStartRTCCallUtils","MWTooltip.react","MessagingThreadType.bs","MessengerDesktopDeepLinkUtils","MessengerDesktopLocalServerRequest","ODS","Promise","RTCCallState.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","bs_js_null_undefined","emptyFunction","gkx","promiseDone","qex","react","useCometLazyDialog","useRTWebCometStartCallCallback","useReStore","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="startVideoCall",k="startVoiceCall",l="joinVideoChat";function m(a,e,f,g){var h=c("useReStore")(),j=c("useRTWebCometStartCallCallback")(),k=d("MWPActor.bs").useActor();return i.useCallback(function(i){i=b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("rtc_ongoing_calls_on_threads_v2")),{hd:a.threadKey,tl:0}),function(a){return a.ongoingCallServerInfoData})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,k)}),function(a){return c("bs_int64").to_string(a.contactId)})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("mi_act_mapping_table")),{hd:a.threadKey,tl:0}),function(a){return a.jid}))]);i=i.then(function(h){var i=h[1],k=h[0];c("bs_curry")._1(e);j({existingCall:k!==void 0?{call_state:d("RTCCallState.bs").ofLsRtcCallState(a.ongoingCallState,a.threadType),initiator_fbid:null,server_info_data:c("bs_js_null_undefined").fromOption(c("bs_caml_option").valFromOption(k))}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),mediaType:f,thread:{e2eeThreadID:c("bs_belt_Option").map(h[2],function(a){return c("bs_int64").to_string(a)}),id:c("bs_int64").to_string(a.threadKey),secureOneToOneThreadPeerId:i!==void 0&&c("bs_caml").i64_eq(a.threadType,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)?c("bs_caml_option").some(c("bs_caml_option").valFromOption(i)):void 0,type:c("bs_caml_int64").to_int32(a.threadType)},trigger:g});return b("Promise").resolve()});c("promiseDone")(i)},[h,j,JSON.stringify(a.threadKey),a.ongoingCallState,g,e])}function n(a,e,f,g,h){var j=i.useRef(c("uuid")()).current;return i.useCallback(function(e){var g=c("bs_int64").to_string(a.threadKey),i=f==="video"?1:0;g="/call?threadid="+g+"&isvideocall="+i+"&funnel_id="+j;d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","initiating_dapp_call");d("MWStartRTCCallUtils").logCallAttemptViaLocalhost({funnelSessionId:j});c("promiseDone")(b("Promise").all([new(c("MessengerDesktopLocalServerRequest"))(g,d("MessengerDesktopDeepLinkUtils").PORT).setOnLoadEndHandler(function(){}).setErrorHandler(function(a){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_failed_with_error_"+a),h(e)}).setTimeoutHandler(function(){d("ODS").bumpEntityKey(3303,"dapp_calling_entrypoints","call_timed_out"),h(e)}).send()]))},[f,j,a.threadKey,h])}function o(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=i.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:0}),function(a){return c("bs_caml").i64_neq(a.contactId,e)}),1)},[b,a.threadKey,JSON.stringify(e)]);f=d("ReQLSubscription.bs").useArray(f);return d("MWChatContactPresenceHook.bs").useHasActiveContact(f.map(function(a){return a.contactId}))}function p(a){var b=a.threadKey,e=c("useReStore")(),f=d("MWPActor.bs").useActor();a=d("ReQLSubscription.bs").useArray(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("participants")),{hd:b,tl:0}),2),function(a){return c("bs_caml").i64_neq(a.contactId,f)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("contacts")),{hd:a.contactId,tl:0}))})},[e,JSON.stringify(b),JSON.stringify(f)]));var g;if(a.length!==1)g=!1;else{var h=a[0];g=h!==void 0?c("bs_caml").i64_eq(h.contactType,d("LSContactType.bs").page):!1}if(!g)return[!0,!0];h=!0;g=!0;for(var j=0,k=a.length;j<k;++j){var l=a[j];if(l!==void 0){var m=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").rtcVoiceCall,l),!0);l=c("bs_belt_Option").getWithDefault(d("LSContactBitOffset.bs").has(d("LSContactCapabilityBitOffset.bs").rtcVideoCall,l),!0);h=h&&m;g=g&&l}}if(c("gkx")("1710932"))return[h,g];else return[!1,!1]}function q(a){var b=c("useReStore")(),e=d("MWPActor.bs").useActor(),f=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(b.table("messages_ranges_v2__generated")),{hd:a.threadKey,tl:0})},[b,JSON.stringify(a.threadKey)]))),g=c("bs_belt_Option").isSome(d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("participants")),{hd:a.threadKey,tl:{hd:e,tl:0}})},[b,JSON.stringify(a.threadKey),JSON.stringify(e)]))),h=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,a),j=d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").rtcVideoCall,a),k=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),l=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited()&&(!k||d("MAWGating").isFeatureLimitEnabled()),m=p(a),n=a.threadType;g=(c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").group)||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").secureMessageOverWaGroup))&&g||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").oneToOne)||c("bs_caml").i64_eq(n,d("MessagingThreadType.bs").secureMessageOverWaOneToOne)?[h,j]:[!1,!1];n=d("MWChatIsMessageRequest.bs").fn(a.folderName);h=!n&&f&&!l&&(!k||c("gkx")("5709"));if(h)return[m[0]&&g[0],m[1]&&g[1]];else return[!1,!1]}function r(a){var b=a.icon,d=a.label,e=a.onPress,f=a.overlayDisabled,g=a.renderContainer;a=a.testid;b={"aria-label":d,children:b,onPress:e,overlayDisabled:f,overlayRadius:"50%"};a!==void 0&&(b.testid=c("bs_caml_option").valFromOption(a));e=i.jsx(c("MWTooltip.react"),{align:"middle",position:function(){switch(c("gkx")("571")?"below":"above"){case"below":return"below";case"above":return"above";case"start":return"start";case"end_":return"end"}}(),tooltip:d,children:i.jsx(c("CometPressable.react"),babelHelpers["extends"]({},b))});if(g!==void 0)return c("bs_curry")._1(g,e);else return e}e={make:r};function s(a){var b=a.startAudioCall,e=a.fill,f=a.overlayDisabled,g=a.renderContainer;a=a.size;e={icon:c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,e,a),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),onPress:b,overlayDisabled:f,testid:k};g!==void 0&&(e.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},e))}s.displayName=s.name+" [from "+f.id+"]";var t={make:s};function u(a){var b=a.fill,e=a.isActive,f=a.overlayDisabled,g=a.renderContainer,k=a.size,l=a.startVideoCall;a=c("useCometLazyDialog")(c("JSResource")("RTWebStartCallUpsellDialog.react").__setRef("MWV2ChatRTCButtons.bs"));var m=a[0];a={icon:c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,k,e),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),onPress:function(a){var b=c("qex")._("421")===!0;if(b)return m({onAcceptCall:function(b){return c("bs_curry")._1(l,a)}},function(a){});else return c("bs_curry")._1(l,a)},overlayDisabled:f,testid:j};g!==void 0&&(a.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},a))}u.displayName=u.name+" [from "+f.id+"]";var v={make:u};function w(a){var b=a.fill,e=a.ongoingCallState,f=a.overlayDisabled,g=a.renderContainer,j=a.size,k=a.startAudioCall;a=a.startVideoCall;if(c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").noOngoingCall))return null;b={icon:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?c("bs_curry")._2(d("MWChatRTCButtonIcons.bs").$$Audio.icon,b,j):c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?c("bs_curry")._3(d("MWChatRTCButtonIcons.bs").Video.icon,b,j):null,label:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?h._("__JHASH__Jezj_QnZwHq__JHASH__"):c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"",onPress:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").audioGroupCall)?k:c("bs_caml").i64_eq(e,d("LSRtcCallState.bs").videoGroupCall)?a:function(a){},overlayDisabled:f,testid:l};g!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(g));return i.jsx(r,babelHelpers["extends"]({},b))}w.displayName=w.name+" [from "+f.id+"]";f={make:w};function a(a){var b=d("MWStartRTCCallUtils").useShouldTryWithMessengerDesktop(),e=a.audioCallingSurface,f=a.fill,g=a.logAudio;g=g===void 0?c("emptyFunction"):g;var h=a.logVideo;h=h===void 0?c("emptyFunction"):h;var j=a.overlayDisabled;j=j===void 0?!1:j;var k=a.renderContainer,l=a.size;l=l===void 0?"26px":l;var p=a.thread;a=a.videoCallingSurface;var r=o(p),t=q(p),v=t[0];t=t[1];var x=m(p,h,"video",a),y=m(p,g,"audio",e);h=n(p,h,"video",a,x);a=n(p,g,"audio",e,y);g=b?h:x;e=b?a:y;if(!(v||t))return null;h=p.ongoingCallState;if(c("bs_caml").i64_neq(h,d("LSRtcCallState.bs").noOngoingCall)){x={fill:f,ongoingCallState:h,overlayDisabled:j,size:l,startAudioCall:e,startVideoCall:g};k!==void 0&&(x.renderContainer=c("bs_caml_option").valFromOption(k));return i.jsx(w,babelHelpers["extends"]({},x))}if(v){b={fill:f,overlayDisabled:j,size:l,startAudioCall:e};k!==void 0&&(b.renderContainer=c("bs_caml_option").valFromOption(k));a=i.jsx(s,babelHelpers["extends"]({},b))}else a=null;if(t){y={fill:f,isActive:r,overlayDisabled:j,size:l,startVideoCall:g};k!==void 0&&(y.renderContainer=c("bs_caml_option").valFromOption(k));p=i.jsx(u,babelHelpers["extends"]({},y))}else p=null;return i.jsxs(i.Fragment,{children:[a,p]})}a=a;var x=j,y=k,z=l;e=e;v=v;f=f;a=a;g.$$Audio=t;g.startVideoCallTestid=x;g.startVoiceCallTestid=y;g.joinVideoChatTestid=z;g.BaseButton=e;g.Video=v;g.JoinExistingChat=f;g.make=a}),98);
__d("MWV2HeaderMinimizeButton.bs",["fbt","CometPressable.react","MWTooltip.react","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color;a=a.onPress;var d=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:e,children:i.jsx(c("CometPressable.react"),{"aria-label":e,onPress:a,overlayRadius:"50%",ref:d,children:i.jsx("svg",{height:"26px",viewBox:"-4 -4 24 24",width:"26px",children:i.jsx("line",{stroke:b,strokeLinecap:"round",strokeWidth:"2",x1:"2",x2:"14",y1:"8",y2:"8"})})})})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=b;g.make=e}),98);
__d("MWV2HeaderSettingsButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResourceForInteraction","MDSRow.react","MWTooltip.react","ODS","bs_curry","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.size;a=a.color;b=b!==void 0?b:"10px";return i.jsx("svg",{className:"x1i64zmx",height:b,viewBox:"0 0 18 10",width:b,children:i.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:a,fillRule:"evenodd"})})}j.displayName=j.name+" [from "+f.id+"]";b={make:j};var k={settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",minWidth:"xeuugli",$$css:!0}};function a(a){var b=a.children,e=a.iconColor,f=a.tab;a=a.thread;var g=h._("__JHASH__FjEOIpwxx5G__JHASH__");return i.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{onClose:function(a){},tab:f,thread:a},popoverResource:c("JSResourceForInteraction")("MWV2HeaderSettingsMenuForJSResource.react").__setRef("MWV2HeaderSettingsButton.bs"),position:"start",preloadTrigger:"button",children:function(a,f,h,l,m,n,o){return i.jsx(c("MWTooltip.react"),{align:"middle",position:"above",tooltip:g,children:i.jsx(c("CometPressable.react"),{"aria-label":g,onHoverIn:c("bs_curry").__1(l),onHoverOut:function(a){return c("bs_curry")._1(m)},onPress:function(a){c("bs_curry")._1(f),d("ODS").bumpEntityKey(3185,"mwchat_header","settings")},onPressIn:c("bs_curry").__1(n),overlayRadius:5,ref:a,testid:void 0,xstyle:function(a){return[k.settingsButton]},children:i.jsxs(c("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:[b,i.jsx(j,{color:e})]})})})}})}a.displayName=a.name+" [from "+f.id+"]";e=a;f=b;a=e;g.Chevron=f;g.make=a}),98);
__d("MWV2ChatTabHeader.bs",["LSMessagingThreadTypeUtil.bs","MAWThreadCutover.bs","MWCMUseFolder.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWInboxHeaderDetailsContainer.bs","MWPThreadTheme.bs","MWTooltipGroup.react","MWV2ChatRTCButtons.bs","MWV2HeaderCloseButton.bs","MWV2HeaderContainer.bs","MWV2HeaderMinimizeButton.bs","MWV2HeaderSettingsButton.bs","MWV2IsTabFocusedContext.bs","ODS","RTWebLoggingComponentConvert.bs","RTWebLoggingSurfaceConvert.bs","UseCurrentDisplayMode.bs","UseMWV2CloseTab.bs","XCometGroupChatsThreadViewControllerRouteBuilder","bs_caml","bs_caml_option","bs_curry","bs_int64","cr:2587","cr:2754","react","requireDeferred","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs"),j=c("requireDeferred")("ZenonUserActionLoggerCommon.bs").__setRef("MWV2ChatTabHeader.bs");function k(a){var b=a.color;a=a.thread;var e=h.useCallback(function(a){d("ODS").bumpEntityKey(3185,"mwchat_header","audio"),j.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"audio_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]),f=h.useCallback(function(a){d("ODS").bumpEntityKey(3185,"mwchat_header","video"),i.onReady(function(a){return c("bs_curry")._1(a.logClick,{component:c("bs_curry")._1(d("RTWebLoggingComponentConvert.bs").converter.toJS,"video_button"),surface:c("bs_curry")._1(d("RTWebLoggingSurfaceConvert.bs").converter.toJS,"chat_tab")})})},[]);return h.jsx(d("MWV2ChatRTCButtons.bs").make,{audioCallingSurface:"comet_chattab_audio_button",fill:b,logAudio:e,logVideo:f,thread:a,videoCallingSurface:"comet_chattab_video_button"})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function l(a){var b=c("useCurrentDisplayMode")(),e=d("MWV2IsTabFocusedContext.bs").useContext(),f=d("MWPThreadTheme.bs").useTop(),g=c("bs_caml").i64_gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs);g=g&&!e;a=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)&&b===d("UseCurrentDisplayMode.bs").darkTheme&&e;b=g||a?"var(--always-white)":e?f:"var(--disabled-icon)";e=g?f:void 0;f=g||a?"white":void 0;return[b,f,e]}function a(a){var e=a.tab,f=a.thread,g=d("MWCMUseFolder.bs").useHook(f),i=d("MWChatStateV2.bs").useDispatch(),j=d("UseMWV2CloseTab.bs").useHook(f,e);a=l(f);var m=a[0],n=a[1];a=a[2];var o;if(b("cr:2754")==null||g===void 0)o=null;else{var p=b("cr:2587")==null?function(a){}:function(a){return c("bs_curry")._1((a=b("cr:2587")).log,{action:a.tap,category_id:void 0,community_id:c("bs_int64").to_string(g.folderId),event:a.threadExpanded,group_id:c("bs_int64").to_string(g.fbGroupId),parent_surface:"entity_menu",source:a.expandButton,surface:a.chatsTab,thread_id:c("bs_int64").to_string(f.threadKey)})},q={url:c("XCometGroupChatsThreadViewControllerRouteBuilder").buildURL({idorvanity:c("bs_int64").to_string(g.fbGroupId),thread_id:c("bs_int64").to_string(f.threadKey)})};o=h.jsx(b("cr:2754").make,{color:m,link:q,onPress:p})}q=d("MAWThreadCutover.bs").useIsCutoverOpenThread(f.threadKey);if(q){p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))}else{p={isContainerPressable:!1,photoSize:"s_32",thread:f,threadNameSize:"headlineEmphasized4"};n!==void 0&&(p.color=c("bs_caml_option").valFromOption(n));q=h.jsx(d("MWV2HeaderSettingsButton.bs").make,{iconColor:m,tab:e,thread:f,children:h.jsx(d("MWInboxHeaderDetailsContainer.bs").make,babelHelpers["extends"]({},p))})}n={endContent:h.jsx(c("MWTooltipGroup.react"),{children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[h.jsx(k,{color:m,thread:f}),h.jsx(d("MWV2HeaderMinimizeButton.bs").make,{color:m,onPress:function(a){return c("bs_curry")._1(i,d("MWChatStateActions.bs").minimizeTab(Date.now(),e.tabId))}}),o,h.jsx(d("MWV2HeaderCloseButton.bs").make,{color:m,onPress:function(a){return c("bs_curry")._1(j)},testid:void 0})]})}),startContent:q};a!==void 0&&(n.backgroundColor=c("bs_caml_option").valFromOption(a));return h.jsx(d("MWV2HeaderContainer.bs").make,babelHelpers["extends"]({},n))}a.displayName=a.name+" [from "+f.id+"]";f=a;a=e;e=f;g.$ZenonUserActionLoggerCommon$Deferred=i;g.$ZenonUserActionLoggerCommon$Deferred$1=j;g.$GroupsCometChatsEngagementLogger$requireCond=b("cr:2587");g.$MWV2ChatExpandButton$requireCond=b("cr:2754");g.mExpandButton=b("cr:2754");g.mGroupsCometChatsEngagementLogger=b("cr:2587");g.RTCButtons=a;g.make=e}),98);
__d("MAWInThreadBannerNuxesWrapper.react",["nux:201","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=b("nux:201")==null?void 0:b("nux:201")("www_armadillo_disappearing_messages_banner");function a(a){return!a.isGroup&&h?h(a):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.react",["MAWGating","MAWInThreadBannerNuxesWrapper.react","cr:4360","cr:4958","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:4360"))!=null?e:h.Fragment;function a(a){return h.jsxs(h.Fragment,{children:[d("MAWGating").isSoftBlockEnabled()?null:h.jsx(i,{children:h.jsx(c("MAWInThreadBannerNuxesWrapper.react"),babelHelpers["extends"]({},a))}),b("cr:4958")&&h.jsx(b("cr:4958"),{thread:a.thread})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInThreadBannerNuxReqCondWrapper.bs",["LSMessagingThreadTypeUtil.bs","MAWInThreadBannerNuxReqCondWrapper.react","MWPActor.bs","ReQL.bs","ReQLSubscription.bs","bs_caml","bs_caml_option","bs_curry","cr:4042","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=b("cr:4042")==null?void 0:c("bs_caml_option").some(b("cr:4042"));function a(a){var e=a.thread;a=b("cr:4042")==null?function(){}:c("bs_curry")._1(i.useThreadJidCallback,e.threadKey);var f=d("LSMessagingThreadTypeUtil.bs").isGroup(e.threadType),g=c("useReStore")(),j=d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("contacts")),{hd:e.threadKey,tl:0}),2)},[g,JSON.stringify(e.threadKey)])),k=d("MWPActor.bs").useActor(),l=h.useMemo(function(){if(d("LSMessagingThreadTypeUtil.bs").isOneToOne(e.threadType))return c("bs_caml_option").undefined_to_opt(j.find(function(a){return c("bs_caml").i64_neq(a.id,k)}))},[JSON.stringify(k),j]);l=l!==void 0?l.name:void 0;return c("bs_curry")._1(c("MAWInThreadBannerNuxReqCondWrapper.react"),{thread:e,getThreadJid:a,isGroup:f,otherUserFullName:l})}e=a;f=e;g.$MAWChatJid$requireCondXplat=b("cr:4042");g.make=f}),98);
__d("MWV2ChatTabComposer.bs",["LS.bs","LSAddMessengerContact","LSAuthorityLevel.bs","LSMessagingThreadTypeUtil.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWComposerGating.react","MWPActor.bs","ReQL.bs","SortedAsyncIterable.bs","bs_caml","bs_curry","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){}function a(a){var b=a.isPreviewThread,e=a.tab,f=a.thread,g=a.secureThreadToggle;a=a.afterSendMessage;var j=g!==void 0?g:!1,k=a!==void 0?a:i,l=c("useReStore")(),m=d("MWChatStateV2.bs").useDispatch();g=e.tabType;var n;n=g.TAG===0?f.clientThreadKey:g._0.clientThreadKey;var o=d("MWPActor.bs").useActor(),p=h.useCallback(function(a){a=e.tabType;if(a.TAG===0)return c("bs_curry")._1(m,d("MWChatStateActions.bs").lockInTab(Date.now(),e.tabId,{clientThreadKey:f.clientThreadKey,threadKey:f.threadKey,threadType:f.threadType}))},[e,f]);a=h.useCallback(function(a){if(!d("LSMessagingThreadTypeUtil.bs").isGroup(f.threadType))return c("bs_curry")._1(p)},[p,f]);g=h.useCallback(function(a){c("bs_curry")._1(k);c("bs_curry")._1(p);if(n!==void 0&&c("bs_caml").i64_neq(f.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){var b={contents:function(a){}};b.contents=d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(l.table("threads").index("clientThreadKey")),{hd:n,tl:0}),function(a,f){switch(f.TAG){case 0:case 1:break;case 2:return}a=f._0;if(c("bs_caml").i64_eq(a.authorityLevel,d("LSAuthorityLevel.bs").authoritative)){c("bs_curry")._1(b.contents);return c("bs_curry")._1(m,d("MWChatStateActions.bs").updateThreadKeyDescriptor(e.tabId,a.threadKey,a.clientThreadKey))}})}if((d("LSMessagingThreadTypeUtil.bs").isSecure(f.threadType)||j)&&d("LSMessagingThreadTypeUtil.bs").isOneToOne(f.threadType)){c("promiseDone")(l.runInTransaction(function(a){return d("ReQL.bs").first(d("ReQL.bs").filter(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(l.table("participants")),{hd:f.threadKey,tl:0}),function(a){return a.contactId}),function(a){return c("bs_caml").i64_neq(a,o)})).then(function(b){if(b!==void 0)return c("LSAddMessengerContact")(b,d("LS.bs").make(a))})},"readwrite"));return}},[f,e,m,JSON.stringify(n),k,l,o]);return h.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:g,isPreviewThread:b,onSendEmptyMessage:a,thread:f})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=i;f=b;g.noop=e;g.make=f}),98);
__d("MWV2InThreadBanner.bs",["CometErrorBoundary.react","LSMessagingThreadTypeUtil.bs","LsThreadType.bs","MWLSInThreadBannerComponent.bs","bs_caml","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.thread;if(d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType)||c("bs_caml").i64_eq(a.threadType,d("LsThreadType.bs").discoverablePublicChat))return null;else return h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return null},children:h.jsx(d("MWLSInThreadBannerComponent.bs").make,{})})}b=a;e=b;g.make=e}),98);
__d("MWV2ChatTab.bs",["CometErrorBoundary.react","CometTransientDialogProvider.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MAWInThreadBannerNuxReqCondWrapper.bs","MWChatConnectionStatusCard.bs","MWChatEncryptedBackupsUpsellWrapper.react","MWOpenAndSecureThreadView.bs","MWPThreadIsPage.bs","MWPThreadTheme.bs","MWPVisibleMessageContext.bs","MWSelectedThreadOptionsIdContext.bs","MWThreadKey.bs","MWV2ChatTabComposer.bs","MWV2ChatTabHeader.bs","MWV2ComposerHasContentContext.bs","MWV2EnsureThatChatTabExists.bs","MWV2ErrorComposer.bs","MWV2FileDropzone.bs","MWV2InThreadBanner.bs","MWV2TabContainer.bs","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","cr:773","cr:790","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=(e=b("cr:773"))!=null?e:{useState:function(a){return{focusedTabId:-1}}};b=(e=b("cr:790"))!=null?e:{make:function(){return null}};var j=b.make;function k(a){var b=a.tab;a=a.thread;var e=!d("LSThreadBitOffset.bs").has(d("LSThreadCapabilityBitOffset.bs").filePicker,a),f=d("LSMessagingThreadTypeUtil.bs").isSecure(a.threadType),g=h.useRef({jumpToMostRecentMessage:function(a){}}),k=i.useState(function(a){return a.focusedTabId});k=k.focusedTabId;k=h.jsxs(h.Fragment,{children:[b.tabId!==k?null:h.jsx(j,{thread:a}),f?h.jsx(d("MAWInThreadBannerNuxReqCondWrapper.bs").make,{thread:a}):null,h.jsx(d("MWChatConnectionStatusCard.bs").make,{}),h.jsx(d("MWV2InThreadBanner.bs").make,{thread:a}),h.jsxs(d("MWV2FileDropzone.bs").make,{isMediaOnly:e,thread:a,children:[h.jsx(d("MWOpenAndSecureThreadView.bs").make,{messageListRef:g,thread:a}),h.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return h.jsx(d("MWV2ErrorComposer.bs").make,{})},children:h.jsx(d("MWV2ChatTabComposer.bs").make,{afterSendMessage:function(){var a;(a=g.current)==null?void 0:a.jumpToMostRecentMessage()},isPreviewThread:!1,tab:b,thread:a})})]})]});return h.jsx(d("MWPThreadTheme.bs").make,{themeFbid:a.themeFbid,children:h.jsx(d("MWPThreadIsPage.bs").make,{threadKey:a.threadKey,children:h.jsx(d("MWThreadKey.bs").make,{id:a.threadKey,children:h.jsx(d("MWSelectedThreadOptionsIdContext.bs").make,{threadId:a.threadKey,children:h.jsx(d("MWPVisibleMessageContext.bs").Provider.make,{children:h.jsx(c("CometTransientDialogProvider.react"),{children:h.jsx(d("MWV2ComposerHasContentContext.bs").make,{children:h.jsxs(d("MWV2TabContainer.bs").make,{tab:b,thread:a,children:[h.jsx(d("MWV2ChatTabHeader.bs").make,{tab:b,thread:a}),f?h.jsx(c("MWChatEncryptedBackupsUpsellWrapper.react"),{children:k}):k]})})})})})})})})}k.displayName=k.name+" [from "+f.id+"]";e={make:k};function a(a){var b=a.tab;a=a.threadKeyDescriptor;var e=c("useReStore")(),f=a.clientThreadKey,g=a.threadKey;d("MWV2EnsureThatChatTabExists.bs").useHook(g,a.threadType);a=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:g,tl:0})},[e,JSON.stringify(g)]));var i=d("ReQLSubscription.bs").useFirst(h.useMemo(function(){if(f!==void 0)return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(e.table("threads").index("clientThreadKey")),{hd:f,tl:0});else return d("SortedAsyncIterable.bs").empty()},[e,JSON.stringify(f)]));a=a!==void 0?a:i!==void 0?i:void 0;if(a!==void 0)return h.jsx(k,{tab:b,thread:a});else return null}b=a;f=e;a=b;g.Impl=f;g.make=a}),98);